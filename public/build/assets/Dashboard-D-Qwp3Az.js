import{r as _,j as e,S as v}from"./app-BMIA6nir.js";import{A as b}from"./AppLayout-DbMk6clK.js";import{C as c,a as l,b as o,c as d,d as x}from"./card-BAsSN-2Z.js";import{B as w}from"./createLucideIcon-Cg8jdX0w.js";import{B as i}from"./x-C3KwZK3B.js";import{P as j}from"./progress-BgfGBUAj.js";import{u as k}from"./useTranslate-ER5gAOX6.js";import{B as g}from"./brain-D-NomhzH.js";import{C as A}from"./clock-BTinGqFV.js";import{T as C}from"./trending-up-00s2SIxN.js";import{T as I}from"./triangle-alert-BWIpgUmg.js";import{A as T}from"./activity-BI-t7JT3.js";import{T as S}from"./target-DIhftedx.js";import{Z as R}from"./zap-CQoeASxN.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function we({recentAnalyses:p,stats:r}){const{t}=k(),[f,N]=_.useState("7d"),h=s=>{switch(s){case"positive":return"bg-green-100 text-green-800";case"negative":return"bg-red-100 text-red-800";case"neutral":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=s=>{switch(s){case"high":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=s=>{if(s<60)return`${Math.round(s)}m`;const a=Math.floor(s/60),n=Math.round(s%60);return`${a}h ${n}m`};return e.jsxs(b,{children:[e.jsx(v,{title:t("support.ai_insights","AI Insights Dashboard")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("support.ai_insights","AI Insights Dashboard")}),e.jsx("p",{className:"text-muted-foreground",children:t("support.ai_insights_description","AI-powered analytics and predictions for support operations")})]}),e.jsx("div",{className:"flex gap-2",children:["7d","30d","90d"].map(s=>e.jsxs(w,{variant:f===s?"default":"outline",size:"sm",onClick:()=>N(s),children:[s==="7d"&&t("common.last_7_days","Last 7 days"),s==="30d"&&t("common.last_30_days","Last 30 days"),s==="90d"&&t("common.last_90_days","Last 90 days")]},s))})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:t("support.tickets_analyzed","Tickets Analyzed")}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.total_analyzed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("support.ai_powered_analysis","AI-powered analysis")})]})]}),e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:t("support.avg_resolution_time","Avg. Predicted Resolution")}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u(r.avg_predicted_resolution||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("support.ai_prediction","AI prediction")})]})]}),e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:t("support.positive_sentiment","Positive Sentiment")}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round((r.sentiment_breakdown.positive||0)/r.total_analyzed*100),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("support.customer_satisfaction","Customer satisfaction")})]})]}),e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:t("support.high_risk_escalations","High Risk Escalations")}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.escalation_risks.high||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("support.require_attention","Require attention")})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(c,{children:[e.jsxs(l,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),t("support.sentiment_analysis","Sentiment Analysis")]}),e.jsx(x,{children:t("support.sentiment_breakdown","Customer sentiment breakdown from AI analysis")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(r.sentiment_breakdown).map(([s,a])=>{const n=a/r.total_analyzed*100;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:h(s),variant:"secondary",children:s.charAt(0).toUpperCase()+s.slice(1)}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a," tickets"]})]}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(n),"%"]})]}),e.jsx(j,{value:n,className:"h-2"})]},s)})})})]}),e.jsxs(c,{children:[e.jsxs(l,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),t("support.escalation_risk","Escalation Risk")]}),e.jsx(x,{children:t("support.escalation_risk_description","AI-predicted escalation risk levels")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(r.escalation_risks).map(([s,a])=>{const n=a/r.total_analyzed*100;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{className:m(s),variant:"secondary",children:[s.charAt(0).toUpperCase()+s.slice(1)," Risk"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a," tickets"]})]}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(n),"%"]})]}),e.jsx(j,{value:n,className:"h-2"})]},s)})})})]})]}),e.jsxs(c,{children:[e.jsxs(l,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),t("support.recent_ai_analyses","Recent AI Analyses")]}),e.jsx(x,{children:t("support.recent_ai_analyses_description","Latest tickets analyzed by AI with predictions and insights")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:p.length>0?p.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"font-medium",children:["#",s.ticket_number]}),e.jsx(i,{variant:"outline",children:s.ticket_id})]}),e.jsx("h4",{className:"font-medium text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.sentiment&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium mb-2",children:t("support.sentiment_analysis","Sentiment Analysis")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Sentiment:"}),e.jsx(i,{className:h(s.sentiment.sentiment),variant:"secondary",children:s.sentiment.sentiment})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Urgency:"}),e.jsx(i,{className:m(s.sentiment.urgency),variant:"secondary",children:s.sentiment.urgency})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Escalation Risk:"}),e.jsx(i,{className:m(s.sentiment.escalation_risk),variant:"secondary",children:s.sentiment.escalation_risk})]})]})]}),s.resolution_prediction&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium mb-2",children:t("support.resolution_prediction","Resolution Prediction")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Estimated Time:"}),e.jsx(i,{variant:"outline",children:u(s.resolution_prediction.estimated_minutes)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Confidence:"}),e.jsx(i,{className:y(s.resolution_prediction.confidence),variant:"secondary",children:s.resolution_prediction.confidence})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Complexity:"}),e.jsx(i,{variant:"outline",children:s.resolution_prediction.complexity})]})]})]})]})]},s.ticket_id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(g,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:t("support.no_ai_analyses","No AI analyses yet")}),e.jsx("p",{className:"text-xs",children:t("support.ai_analyses_description","AI analyses will appear here as tickets are processed")})]})})})]})]})]})}export{we as default};
