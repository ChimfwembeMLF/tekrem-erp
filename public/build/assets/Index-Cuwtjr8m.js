import{r as p,j as e,A as _,u as _e,S as be,R as Se}from"./app-BMIA6nir.js";import{T as ke,A as Ce}from"./AppLayout-DbMk6clK.js";import{C as P,a as V,b as L,c as O,d as Me}from"./card-BAsSN-2Z.js";import{c as ve,B as h}from"./createLucideIcon-Cg8jdX0w.js";import{I}from"./input-Bg5GDATO.js";import{S as J,a as Y,b as F,c as ee,d as E}from"./select-B6KOX9nY.js";import{C as ie}from"./checkbox-B8CiFAgv.js";import{D as he,a as pe,b as ue,c as $,g as fe}from"./NotificationComponent-CHA3vjZG.js";import{u as se}from"./useTranslate-ER5gAOX6.js";import{D as ce,b as ne,c as de,d as oe,e as me}from"./dialog-BAVny-7O.js";import{L as q}from"./label-CM6YsqH1.js";import{P as De}from"./progress-BgfGBUAj.js";import{t as z}from"./index-Dj2TB_RL.js";import{U as Z}from"./upload-DoO0wQwa.js";import{X as ze,B as Te}from"./x-C3KwZK3B.js";import{I as K}from"./image-Ct2miMof.js";import{V as re}from"./video-CV7uNjDn.js";import{F as W}from"./file-text-D25AipK4.js";import{T as Ae}from"./textarea-CP26afIU.js";import{F as Q}from"./folder-DidVoRAH.js";import{T as X}from"./trash-2-DZc0jDKK.js";import{F as Be}from"./funnel-v8IwREza.js";import{S as Ee}from"./search-_p1CX5vB.js";import{G as Ue}from"./grid-3x3-X-imM9-2.js";import{L as Pe}from"./list-4SH12gn-.js";import{S as le}from"./square-pen-CReBrXbl.js";import{A as Oe}from"./arrow-up-BCZyUv1P.js";import{E as je}from"./ellipsis-DJ3pNpl6.js";import{D as ge}from"./download-CNZP3fGS.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ne=ve("folder-plus",Ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],qe=ve("move",Le);function Re({open:N,onClose:b,folders:c,currentFolderId:m,onUploadComplete:n}){const{t:r}=se(),[a,t]=p.useState([]),[x,u]=p.useState((m==null?void 0:m.toString())||"root"),[f,T]=p.useState(!0),[v,A]=p.useState(!1),d=p.useCallback(l=>{const g=Array.from(l.target.files||[]).map(o=>({file:o,id:Math.random().toString(36).substr(2,9),progress:0,status:"pending"}));t(o=>[...o,...g])},[]),j=p.useCallback(l=>{l.preventDefault();const g=Array.from(l.dataTransfer.files).map(o=>({file:o,id:Math.random().toString(36).substr(2,9),progress:0,status:"pending"}));t(o=>[...o,...g])},[]),S=p.useCallback(l=>{l.preventDefault()},[]),M=l=>{t(i=>i.filter(g=>g.id!==l))},D=l=>l.type.startsWith("image/")?e.jsx(K,{className:"h-4 w-4"}):l.type.startsWith("video/")?e.jsx(re,{className:"h-4 w-4"}):e.jsx(W,{className:"h-4 w-4"}),w=l=>{if(l===0)return"0 Bytes";const i=1024,g=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(l)/Math.log(i));return parseFloat((l/Math.pow(i,o)).toFixed(2))+" "+g[o]},G=async()=>{if(a.length===0)return;A(!0);const l=new FormData;a.forEach(({file:i})=>{l.append("files[]",i)}),x&&x!=="root"&&l.append("folder_id",x),l.append("optimize",f?"1":"0");try{await new Promise((i,g)=>{_.post(route("cms.media.upload"),l,{onProgress:o=>{const k=Math.round(o.loaded/o.total*100);t(y=>y.map(H=>({...H,progress:k,status:"uploading"})))},onSuccess:()=>{t(o=>o.map(k=>({...k,progress:100,status:"completed"}))),z.success(r("cms.files_uploaded","Files uploaded successfully")),n==null||n(),i()},onError:o=>{t(k=>k.map(y=>({...y,status:"error",error:Object.values(o).flat().join(", ")}))),z.error(r("cms.upload_failed","Upload failed")),g(o)}})}),setTimeout(()=>{U()},1e3)}catch(i){console.error("Upload error:",i)}finally{A(!1)}},U=()=>{v||(t([]),u((m==null?void 0:m.toString())||""),T(!0),b())};return e.jsx(ce,{open:N,onOpenChange:U,children:e.jsxs(ne,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(de,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),r("cms.upload_media","Upload Media")]}),e.jsx(me,{children:r("cms.upload_description","Upload images, videos, and documents to your media library")})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"folder",children:r("cms.folder","Folder")}),e.jsxs(J,{value:x,onValueChange:u,children:[e.jsx(Y,{children:e.jsx(F,{placeholder:r("cms.select_folder","Select folder (optional)")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"root",children:r("cms.root_folder","Root Folder")}),c.map(l=>e.jsx(E,{value:l.id.toString(),children:l.name},l.id))]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx(ie,{id:"optimize",checked:f,onCheckedChange:l=>T(l)}),e.jsx(q,{htmlFor:"optimize",className:"text-sm",children:r("cms.optimize_images","Optimize images")})]})]}),e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-muted-foreground/50 transition-colors",onDrop:j,onDragOver:S,children:[e.jsx(Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:r("cms.drop_files","Drop files here or click to browse")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r("cms.supported_formats","Supports images, videos, and documents up to 10MB")}),e.jsx(I,{type:"file",multiple:!0,onChange:d,className:"hidden",id:"file-upload",accept:"image/*,video/*,.pdf,.doc,.docx,.txt"}),e.jsx(h,{asChild:!0,variant:"outline",children:e.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:r("cms.browse_files","Browse Files")})})]}),a.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:r("cms.selected_files","Selected Files")}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(l=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[D(l.file),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:l.file.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:w(l.file.size)}),l.status==="uploading"&&e.jsx(De,{value:l.progress,className:"mt-1"}),l.status==="error"&&l.error&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:l.error})]}),l.status==="completed"&&e.jsx("div",{className:"text-green-500",children:"✓"}),l.status!=="uploading"&&e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>M(l.id),children:e.jsx(ze,{className:"h-4 w-4"})})]},l.id))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{variant:"outline",onClick:U,disabled:v,children:r("common.cancel","Cancel")}),e.jsx(h,{onClick:G,disabled:a.length===0||v,children:v?r("cms.uploading","Uploading..."):r("cms.upload","Upload")})]})]})]})})}function $e({open:N,onClose:b,folders:c,currentFolderId:m,editFolder:n,onFolderCreated:r}){const{t:a}=se(),[t,x]=p.useState(!1),[u,f]=p.useState({name:"",description:"",parent_id:(m==null?void 0:m.toString())||"root"});p.useEffect(()=>{var d;f(n?{name:n.name,description:n.description||"",parent_id:((d=n.parent_id)==null?void 0:d.toString())||"root"}:{name:"",description:"",parent_id:(m==null?void 0:m.toString())||"root"})},[n,m,N]);const T=async d=>{if(d.preventDefault(),!u.name.trim()){z.error(a("cms.folder_name_required","Folder name is required"));return}x(!0);const j={name:u.name.trim(),description:u.description.trim()||null,parent_id:u.parent_id&&u.parent_id!=="root"?parseInt(u.parent_id):null};try{n?await new Promise((S,M)=>{_.put(route("cms.media.folders.update",n.id),j,{onSuccess:()=>{z.success(a("cms.folder_updated","Folder updated successfully")),r==null||r(),S()},onError:D=>{const w=Object.values(D).flat().join(", ");z.error(w||a("cms.folder_update_failed","Failed to update folder")),M(D)}})}):await new Promise((S,M)=>{_.post(route("cms.media.folders.create"),j,{onSuccess:()=>{z.success(a("cms.folder_created","Folder created successfully")),r==null||r(),S()},onError:D=>{const w=Object.values(D).flat().join(", ");z.error(w||a("cms.folder_creation_failed","Failed to create folder")),M(D)}})}),v()}catch(S){console.error("Folder operation error:",S)}finally{x(!1)}},v=()=>{t||(f({name:"",description:"",parent_id:(m==null?void 0:m.toString())||"root"}),b())},A=n?c.filter(d=>d.id!==n.id):c;return e.jsx(ce,{open:N,onOpenChange:v,children:e.jsxs(ne,{className:"max-w-md",children:[e.jsxs(de,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[n?e.jsx(Q,{className:"h-5 w-5"}):e.jsx(Ne,{className:"h-5 w-5"}),n?a("cms.edit_folder","Edit Folder"):a("cms.create_folder","Create Folder")]}),e.jsx(me,{children:n?a("cms.edit_folder_description","Update folder information"):a("cms.create_folder_description","Create a new folder to organize your media files")})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"name",children:[a("cms.folder_name","Folder Name")," *"]}),e.jsx(I,{id:"name",value:u.name,onChange:d=>f(j=>({...j,name:d.target.value})),placeholder:a("cms.folder_name_placeholder","Enter folder name"),required:!0,disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"description",children:a("cms.description","Description")}),e.jsx(Ae,{id:"description",value:u.description,onChange:d=>f(j=>({...j,description:d.target.value})),placeholder:a("cms.folder_description_placeholder","Enter folder description (optional)"),rows:3,disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"parent",children:a("cms.parent_folder","Parent Folder")}),e.jsxs(J,{value:u.parent_id,onValueChange:d=>f(j=>({...j,parent_id:d})),disabled:t,children:[e.jsx(Y,{children:e.jsx(F,{placeholder:a("cms.select_parent_folder","Select parent folder (optional)")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"root",children:a("cms.root_folder","Root Folder")}),A.map(d=>e.jsx(E,{value:d.id.toString(),children:d.name},d.id))]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:v,disabled:t,children:a("common.cancel","Cancel")}),e.jsx(h,{type:"submit",disabled:t,children:t?n?a("cms.updating","Updating..."):a("cms.creating","Creating..."):n?a("common.update","Update"):a("common.create","Create")})]})]})]})})}function Ge({open:N,onClose:b,action:c,selectedCount:m,selectedIds:n,folders:r,onActionComplete:a}){const{t}=se(),[x,u]=p.useState(!1),[f,T]=p.useState("root"),[v,A]=p.useState([]),[d,j]=p.useState(""),S=()=>{d.trim()&&!v.includes(d.trim())&&(A(i=>[...i,d.trim()]),j(""))},M=i=>{A(g=>g.filter(o=>o!==i))},D=async i=>{if(i.preventDefault(),!c)return;if(c==="move"&&!f){z.error(t("cms.select_folder_required","Please select a folder"));return}if(c==="tag"&&v.length===0){z.error(t("cms.add_tags_required","Please add at least one tag"));return}u(!0);const g={action:c,media_ids:n};c==="move"?g.folder_id=f&&f!=="root"?parseInt(f):null:c==="tag"&&(g.tags=v);try{await new Promise((o,k)=>{_.post(route("cms.media.bulk-action"),g,{onSuccess:()=>{let y="";switch(c){case"move":y=t("cms.media_moved","Media files moved successfully");break;case"tag":y=t("cms.media_tagged","Media files tagged successfully");break;case"delete":y=t("cms.media_deleted","Media files deleted successfully");break}z.success(y),a==null||a(),o()},onError:y=>{const H=Object.values(y).flat().join(", ");z.error(H||t("cms.bulk_action_failed","Bulk action failed")),k(y)}})}),w()}catch(o){console.error("Bulk action error:",o)}finally{u(!1)}},w=()=>{x||(T("root"),A([]),j(""),b())},G=()=>{switch(c){case"move":return e.jsx(qe,{className:"h-5 w-5"});case"tag":return e.jsx(ke,{className:"h-5 w-5"});case"delete":return e.jsx(X,{className:"h-5 w-5"});default:return null}},U=()=>{switch(c){case"move":return t("cms.move_media","Move Media");case"tag":return t("cms.tag_media","Tag Media");case"delete":return t("cms.delete_media","Delete Media");default:return""}},l=()=>{switch(c){case"move":return t("cms.move_media_description",`Move ${m} selected media files to a folder`);case"tag":return t("cms.tag_media_description",`Add tags to ${m} selected media files`);case"delete":return t("cms.delete_media_description",`Permanently delete ${m} selected media files`);default:return""}};return c?e.jsx(ce,{open:N,onOpenChange:w,children:e.jsxs(ne,{className:"max-w-md",children:[e.jsxs(de,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[G(),U()]}),e.jsx(me,{children:l()})]}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c==="move"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{htmlFor:"folder",children:[t("cms.destination_folder","Destination Folder")," *"]}),e.jsxs(J,{value:f,onValueChange:T,disabled:x,children:[e.jsx(Y,{children:e.jsx(F,{placeholder:t("cms.select_folder","Select folder")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"root",children:t("cms.root_folder","Root Folder")}),r.map(i=>e.jsx(E,{value:i.id.toString(),children:i.name},i.id))]})]})]}),c==="tag"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"new-tag",children:t("cms.add_tags","Add Tags")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{id:"new-tag",value:d,onChange:i=>j(i.target.value),placeholder:t("cms.enter_tag","Enter tag"),onKeyPress:i=>i.key==="Enter"&&(i.preventDefault(),S()),disabled:x}),e.jsx(h,{type:"button",variant:"outline",onClick:S,disabled:!d.trim()||x,children:t("cms.add","Add")})]})]}),v.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:t("cms.selected_tags","Selected Tags")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(i=>e.jsxs(Te,{variant:"secondary",className:"flex items-center gap-1",children:[i,e.jsx("button",{type:"button",onClick:()=>M(i),className:"ml-1 hover:text-destructive",disabled:x,children:"×"})]},i))})]})]}),c==="delete"&&e.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[e.jsx("p",{className:"text-sm text-destructive font-medium",children:t("cms.delete_warning","Warning: This action cannot be undone!")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t("cms.delete_confirmation",`${m} media files will be permanently deleted.`)})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:w,disabled:x,children:t("common.cancel","Cancel")}),e.jsx(h,{type:"submit",disabled:x,variant:c==="delete"?"destructive":"default",children:x?t("cms.processing","Processing..."):U()})]})]})]})}):null}function Ys({media:N,folders:b,currentFolder:c,breadcrumbs:m,statistics:n,filters:r}){const{t:a}=se(),t=_e(),[x,u]=p.useState([]),[f,T]=p.useState("grid"),[v,A]=p.useState((r==null?void 0:r.search)||""),[d,j]=p.useState(!1),[S,M]=p.useState(!1),[D,w]=p.useState(!1),[G,U]=p.useState(),[l,i]=p.useState(null),g=()=>{_.get(t("cms.media.index"),{...r||{},search:v},{preserveState:!0,replace:!0})},o=(s,C)=>{_.get(t("cms.media.index"),{...r||{},[s]:C||void 0},{preserveState:!0,replace:!0})},k=s=>{_.get(t("cms.media.index"),{...r||{},folder:s||void 0},{preserveState:!0,replace:!0})},y=()=>{j(!1),_.reload()},H=()=>{M(!1),U(void 0),_.reload()},we=()=>{w(!1),i(null),u([]),_.reload()},ae=s=>{x.length!==0&&(i(s),w(!0))},R=(s,C)=>{switch(C){case"edit":_.visit(t("cms.media.show",s));break;case"download":window.open(t("cms.media.download",s),"_blank");break;case"delete":confirm(a("cms.confirm_delete_media","Are you sure you want to delete this media?"))&&_.delete(t("cms.media.destroy",s));break}},xe=s=>{switch(s){case"image":return e.jsx(K,{className:"h-4 w-4"});case"video":return e.jsx(re,{className:"h-4 w-4"});default:return e.jsx(W,{className:"h-4 w-4"})}},ye=s=>{const C=["Bytes","KB","MB","GB"];if(s===0)return"0 Bytes";const B=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,B)*100)/100+" "+C[B]};return e.jsxs(Ce,{children:[e.jsx(be,{title:a("cms.media","Media Library")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:a("cms.media","Media Library")}),e.jsx("p",{className:"text-muted-foreground",children:a("cms.media_description","Manage your media files and assets")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",onClick:()=>M(!0),children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),a("cms.create_folder","Create Folder")]}),e.jsxs(h,{onClick:()=>j(!0),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),a("cms.upload_media","Upload Media")]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(P,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:a("cms.total_files","Total Files")}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(O,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.total_files}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ye(n.total_size)})]})]}),e.jsxs(P,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:a("cms.images","Images")}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(O,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.images})})]}),e.jsxs(P,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:a("cms.videos","Videos")}),e.jsx(re,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(O,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.videos})})]}),e.jsxs(P,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:a("cms.documents","Documents")}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(O,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.documents})})]}),e.jsxs(P,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:a("cms.folders","Folders")}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(O,{children:e.jsx("div",{className:"text-2xl font-bold",children:b.length})})]})]}),m.length>0&&e.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>k(),className:"h-auto p-1",children:a("cms.all_media","All Media")}),m.map((s,C)=>e.jsxs(Se.Fragment,{children:[e.jsx("span",{className:"text-muted-foreground",children:"/"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>k(s.id),className:"h-auto p-1",children:s.name})]},s.id))]}),e.jsxs(P,{children:[e.jsx(V,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),a("common.filters","Filters")]})}),e.jsx(O,{children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex gap-2 flex-1 min-w-64",children:[e.jsx(I,{placeholder:a("cms.search_media","Search media..."),value:v,onChange:s=>A(s.target.value),onKeyPress:s=>s.key==="Enter"&&g()}),e.jsx(h,{variant:"outline",onClick:g,children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs(J,{value:(r==null?void 0:r.type)||"all",onValueChange:s=>o("type",s==="all"?"":s),children:[e.jsx(Y,{className:"w-40",children:e.jsx(F,{placeholder:a("cms.all_types","All types")})}),e.jsxs(ee,{children:[e.jsx(E,{value:"all",children:a("cms.all_types","All types")}),e.jsx(E,{value:"image",children:a("cms.images","Images")}),e.jsx(E,{value:"video",children:a("cms.videos","Videos")}),e.jsx(E,{value:"document",children:a("cms.documents","Documents")})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(h,{variant:f==="grid"?"default":"outline",size:"sm",onClick:()=>T("grid"),children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(h,{variant:f==="list"?"default":"outline",size:"sm",onClick:()=>T("list"),children:e.jsx(Pe,{className:"h-4 w-4"})})]})]})})]}),x.length>0&&e.jsx(P,{children:e.jsx(O,{className:"py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.length," ",a("cms.items_selected","items selected")]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>ae("move"),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),a("cms.move","Move")]}),e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>ae("tag"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),a("cms.tag","Tag")]}),e.jsxs(h,{variant:"destructive",size:"sm",onClick:()=>ae("delete"),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),a("common.delete","Delete")]})]})]})})}),b.length>0&&e.jsxs(P,{children:[e.jsx(V,{children:e.jsx(L,{children:a("cms.folders","Folders")})}),e.jsx(O,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(c==null?void 0:c.parent_id)&&e.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg cursor-pointer hover:bg-accent",onClick:()=>k(c.parent_id),children:[e.jsx(Oe,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-center",children:"..."})]}),b.map(s=>e.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg cursor-pointer hover:bg-accent",onClick:()=>k(s.id),children:[e.jsx(Q,{className:"h-8 w-8 text-blue-500 mb-2"}),e.jsx("span",{className:"text-sm text-center font-medium",children:s.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.media_count," files"]})]},s.id))]})})]}),e.jsxs(P,{children:[e.jsxs(V,{children:[e.jsx(L,{children:a("cms.media_files","Media Files")}),e.jsxs(Me,{children:[N.total||0," ",a("cms.total_files","total files")]})]}),e.jsxs(O,{children:[f==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:N.data.map(s=>e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"aspect-square border rounded-lg overflow-hidden bg-gray-50",children:[e.jsx(ie,{checked:x.includes(s.id),onCheckedChange:C=>{u(C?B=>[...B,s.id]:B=>B.filter(te=>te!==s.id))},className:"absolute top-2 left-2 z-10"}),s.type==="image"?e.jsx("img",{src:s.url,alt:s.alt_text||s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:xe(s.type)}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxs(he,{children:[e.jsx(pe,{asChild:!0,children:e.jsx(h,{variant:"secondary",size:"sm",children:e.jsx(je,{className:"h-4 w-4"})})}),e.jsxs(ue,{children:[e.jsxs($,{onClick:()=>R(s.id,"edit"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),a("common.edit","Edit")]}),e.jsxs($,{onClick:()=>R(s.id,"download"),children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),a("common.download","Download")]}),e.jsx(fe,{}),e.jsxs($,{onClick:()=>R(s.id,"delete"),className:"text-destructive",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),a("common.delete","Delete")]})]})]})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium truncate",title:s.name,children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.human_file_size}),s.dimensions&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.dimensions.width," × ",s.dimensions.height]})]})]},s.id))}):e.jsx("div",{className:"space-y-2",children:N.data.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[e.jsx(ie,{checked:x.includes(s.id),onCheckedChange:C=>{u(C?B=>[...B,s.id]:B=>B.filter(te=>te!==s.id))}}),s.type==="image"?e.jsx("img",{src:s.url,alt:s.alt_text||s.name,className:"w-12 h-12 object-cover rounded"}):e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center",children:xe(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.human_file_size," • ",s.mime_type]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a("cms.uploaded_by","Uploaded by")," ",s.uploaded_by.name]})]}),e.jsxs(he,{children:[e.jsx(pe,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"sm",children:e.jsx(je,{className:"h-4 w-4"})})}),e.jsxs(ue,{align:"end",children:[e.jsxs($,{onClick:()=>R(s.id,"edit"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),a("common.edit","Edit")]}),e.jsxs($,{onClick:()=>R(s.id,"download"),children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),a("common.download","Download")]}),e.jsx(fe,{}),e.jsxs($,{onClick:()=>R(s.id,"delete"),className:"text-destructive",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),a("common.delete","Delete")]})]})]})]},s.id))}),N.data.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(K,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:a("cms.no_media_found","No media files found")}),e.jsx("p",{className:"text-sm",children:a("cms.upload_first_media","Upload your first media file to get started")}),e.jsxs(h,{className:"mt-4",onClick:()=>j(!0),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),a("cms.upload_media","Upload Media")]})]}),N.links&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",N.from||0," to ",N.to||0," of ",N.total||0," results"]}),e.jsx("div",{className:"flex gap-2",children:N.links.map((s,C)=>e.jsx(h,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&_.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},C))})]})]})]})]}),e.jsx(Re,{open:d,onClose:()=>j(!1),folders:b,currentFolderId:c==null?void 0:c.id,onUploadComplete:y}),e.jsx($e,{open:S,onClose:()=>{M(!1),U(void 0)},folders:b,currentFolderId:c==null?void 0:c.id,editFolder:G,onFolderCreated:H}),e.jsx(Ge,{open:D,onClose:()=>{w(!1),i(null)},action:l,selectedCount:x.length,selectedIds:x,folders:b,onActionComplete:we})]})}export{Ys as default};
