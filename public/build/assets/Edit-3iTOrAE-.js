import{u as T,G as k,j as e,S as A}from"./app-BMIA6nir.js";import{A as D}from"./AppLayout-DbMk6clK.js";import{C as _,a as B,b as F,d as L,c as f}from"./card-BAsSN-2Z.js";import{B as j}from"./createLucideIcon-Cg8jdX0w.js";import{I as V}from"./input-Bg5GDATO.js";import{L as d}from"./label-CM6YsqH1.js";import{T as E}from"./textarea-CP26afIU.js";import{S as m,a as u,b as h,c as x,d as i}from"./select-B6KOX9nY.js";import{B as o}from"./x-C3KwZK3B.js";import{A as I,a as P}from"./alert-CNp8ZuHk.js";import{u as U}from"./useTranslate-ER5gAOX6.js";import{A as R}from"./arrow-left-UX2kDF52.js";import{S as $}from"./save-D6UyxhH5.js";import{C as H}from"./circle-alert-DVIk47WR.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Re({ticket:a,categories:b,users:C}){var y,N;const{t:s}=U(),g=T(),{data:l,setData:n,put:w,processing:v,errors:t}=k({title:a.title,description:a.description,status:a.status,priority:a.priority,category_id:((y=a.category_id)==null?void 0:y.toString())||"",assigned_to:((N=a.assigned_to)==null?void 0:N.toString())||"",tags:a.tags||[]}),S=r=>{r.preventDefault(),w(g("support.tickets.update",a.id))},c=r=>{switch(r){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=r=>{switch(r){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(D,{children:[e.jsx(A,{title:`${s("common.edit","Edit")} ${s("support.ticket","Ticket")} #${a.ticket_number}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:g("support.tickets.show",a.id),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),s("common.back","Back")]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[s("common.edit","Edit")," ",s("support.ticket","Ticket")," #",a.ticket_number]}),e.jsx("p",{className:"text-muted-foreground",children:s("support.edit_ticket_description","Update ticket information and status")})]})]})}),e.jsx("form",{onSubmit:S,className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(_,{children:[e.jsxs(B,{children:[e.jsx(F,{children:s("support.ticket_details","Ticket Details")}),e.jsx(L,{children:s("support.edit_ticket_details_description","Update the ticket information")})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"title",children:[s("support.title","Title")," *"]}),e.jsx(V,{id:"title",value:l.title,onChange:r=>n("title",r.target.value),placeholder:s("support.title_placeholder","Brief description of the issue"),className:t.title?"border-red-500":""}),t.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.title})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"description",children:[s("support.description","Description")," *"]}),e.jsx(E,{id:"description",value:l.description,onChange:r=>n("description",r.target.value),placeholder:s("support.description_placeholder","Detailed description of the issue"),rows:6,className:t.description?"border-red-500":""}),t.description&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.description})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"status",children:[s("support.status","Status")," *"]}),e.jsxs(m,{value:l.status,onValueChange:r=>n("status",r),children:[e.jsx(u,{className:t.status?"border-red-500":"",children:e.jsx(h,{})}),e.jsxs(x,{children:[e.jsx(i,{value:"open",children:e.jsx(o,{className:c("open"),variant:"secondary",children:s("support.status_open","Open")})}),e.jsx(i,{value:"in_progress",children:e.jsx(o,{className:c("in_progress"),variant:"secondary",children:s("support.status_in_progress","In Progress")})}),e.jsx(i,{value:"pending",children:e.jsx(o,{className:c("pending"),variant:"secondary",children:s("support.status_pending","Pending")})}),e.jsx(i,{value:"resolved",children:e.jsx(o,{className:c("resolved"),variant:"secondary",children:s("support.status_resolved","Resolved")})}),e.jsx(i,{value:"closed",children:e.jsx(o,{className:c("closed"),variant:"secondary",children:s("support.status_closed","Closed")})})]})]}),t.status&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.status})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"priority",children:[s("support.priority","Priority")," *"]}),e.jsxs(m,{value:l.priority,onValueChange:r=>n("priority",r),children:[e.jsx(u,{className:t.priority?"border-red-500":"",children:e.jsx(h,{})}),e.jsxs(x,{children:[e.jsx(i,{value:"low",children:e.jsx(o,{className:p("low"),variant:"secondary",children:s("support.priority_low","Low")})}),e.jsx(i,{value:"medium",children:e.jsx(o,{className:p("medium"),variant:"secondary",children:s("support.priority_medium","Medium")})}),e.jsx(i,{value:"high",children:e.jsx(o,{className:p("high"),variant:"secondary",children:s("support.priority_high","High")})}),e.jsx(i,{value:"urgent",children:e.jsx(o,{className:p("urgent"),variant:"secondary",children:s("support.priority_urgent","Urgent")})})]})]}),t.priority&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.priority})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"category",children:s("support.category","Category")}),e.jsxs(m,{value:l.category_id,onValueChange:r=>n("category_id",r),children:[e.jsx(u,{className:t.category_id?"border-red-500":"",children:e.jsx(h,{placeholder:s("support.select_category","Select category")})}),e.jsxs(x,{children:[e.jsx(i,{value:"",children:s("support.no_category","No Category")}),b.map(r=>e.jsx(i,{value:r.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),r.name]})},r.id))]})]}),t.category_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.category_id})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"assigned_to",children:s("support.assign_to","Assign To")}),e.jsxs(m,{value:l.assigned_to,onValueChange:r=>n("assigned_to",r),children:[e.jsx(u,{children:e.jsx(h,{placeholder:s("support.select_assignee","Select assignee")})}),e.jsxs(x,{children:[e.jsx(i,{value:"",children:s("support.unassigned","Unassigned")}),C.map(r=>e.jsx(i,{value:r.id.toString(),children:r.name},r.id))]})]})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(_,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(j,{type:"submit",className:"w-full",disabled:v,children:[e.jsx($,{className:"h-4 w-4 mr-2"}),v?s("common.saving","Saving..."):s("common.save_changes","Save Changes")]}),e.jsx(j,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:e.jsx("a",{href:g("support.tickets.show",a.id),children:s("common.cancel","Cancel")})})]})})}),e.jsxs(I,{children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx(P,{children:s("support.edit_help","Changes to status and priority will be logged in the ticket history.")})]})]})]})})]})]})}export{Re as default};
