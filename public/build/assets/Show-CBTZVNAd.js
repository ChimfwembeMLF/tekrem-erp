import{u as L,r as b,j as e,S as A,A as j}from"./app-BMIA6nir.js";import{A as B}from"./AppLayout-DbMk6clK.js";import{C as c,a as n,b as d,c as m,d as C}from"./card-BAsSN-2Z.js";import{B as i}from"./createLucideIcon-Cg8jdX0w.js";import{B as T,U}from"./x-C3KwZK3B.js";import{L as o}from"./label-CM6YsqH1.js";import{I as k}from"./input-Bg5GDATO.js";import{T as R}from"./textarea-CP26afIU.js";import{S as V}from"./separator-DnQonHW9.js";import{u as P}from"./useTranslate-ER5gAOX6.js";import{t as f}from"./index-Dj2TB_RL.js";import{A as W}from"./arrow-left-UX2kDF52.js";import{C as F}from"./copy-XqgUo3o3.js";import{D}from"./download-CNZP3fGS.js";import{S as H}from"./square-pen-CReBrXbl.js";import{E as q}from"./external-link-DiDOWbPw.js";import{E as O}from"./eye-DdivFxyT.js";import{T as G}from"./trash-2-DZc0jDKK.js";import{H as K}from"./hard-drive-B7d7LCs2.js";import{F as N}from"./file-text-D25AipK4.js";import{I as S}from"./image-Ct2miMof.js";import{C as Q}from"./calendar-DTsvo4Hi.js";import{V as J}from"./video-CV7uNjDn.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Ye({media:t,variants:_=[]}){const{t:s}=P(),p=L(),[x,g]=b.useState(!1),[h,u]=b.useState({alt_text:t.alt_text||"",caption:t.caption||"",description:t.description||""}),l=r=>{switch(r){case"edit":g(!0);break;case"save":j.put(p("cms.media.update",t.id),h,{onSuccess:()=>{f.success(s("cms.media_updated","Media updated successfully")),g(!1)},onError:()=>{f.error(s("cms.media_update_failed","Failed to update media"))}});break;case"cancel":u({alt_text:t.alt_text||"",caption:t.caption||"",description:t.description||""}),g(!1);break;case"download":window.open(t.url,"_blank");break;case"copy-url":navigator.clipboard.writeText(t.url),f.success(s("cms.url_copied","URL copied to clipboard"));break;case"delete":confirm(s("cms.confirm_delete_media","Are you sure you want to delete this media file?"))&&j.delete(p("cms.media.destroy",t.id),{onSuccess:()=>{f.success(s("cms.media_deleted","Media deleted successfully")),j.visit(p("cms.media.index"))}});break}},v=r=>{if(r===0)return"0 Bytes";const a=1024,z=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(r)/Math.log(a));return parseFloat((r/Math.pow(a,y)).toFixed(2))+" "+z[y]},E=r=>new Date(r).toLocaleDateString(),w=t.mime_type.startsWith("image/")?S:t.mime_type.startsWith("video/")?J:N,I=t.mime_type.startsWith("image/"),M=t.mime_type.startsWith("video/");return e.jsxs(B,{children:[e.jsx(A,{title:t.name}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>j.visit(p("cms.media.index")),children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),s("common.back","Back")]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.original_name}),e.jsx("p",{className:"text-muted-foreground",children:t.description||s("cms.no_description","No description provided")})]})]}),e.jsx("div",{className:"flex gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"outline",onClick:()=>l("cancel"),children:s("common.cancel","Cancel")}),e.jsx(i,{onClick:()=>l("save"),children:s("common.save","Save")})]}):e.jsxs(e.Fragment,{children:[e.jsxs(i,{variant:"outline",onClick:()=>l("copy-url"),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),s("cms.copy_url","Copy URL")]}),e.jsxs(i,{variant:"outline",onClick:()=>l("download"),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),s("common.download","Download")]}),e.jsxs(i,{onClick:()=>l("edit"),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),s("common.edit","Edit")]})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),s("cms.media_preview","Media Preview")]})}),e.jsx(m,{children:e.jsx("div",{className:"flex justify-center",children:I?e.jsx("img",{src:t.url,alt:t.alt_text||t.original_name,className:"max-w-full max-h-96 rounded-lg shadow-lg"}):M?e.jsx("video",{src:t.url,controls:!0,className:"max-w-full max-h-96 rounded-lg shadow-lg"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border-2 border-dashed border-muted rounded-lg",children:[e.jsx(w,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:t.original_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.mime_type})]})})})]}),e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(d,{children:s("cms.media_details","Media Details")}),e.jsx(C,{children:x?s("cms.edit_media_details","Edit media information"):s("cms.media_information","Media file information")})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.file_name","File Name")}),e.jsx("p",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:t.name})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.original_name","Original Name")}),e.jsx("p",{className:"text-sm",children:t.original_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"alt_text",children:s("cms.alt_text","Alt Text")}),x?e.jsx(k,{id:"alt_text",value:h.alt_text,onChange:r=>u(a=>({...a,alt_text:r.target.value})),placeholder:s("cms.alt_text_placeholder","Describe the image for accessibility")}):e.jsx("p",{className:"text-sm bg-muted px-2 py-1 rounded",children:t.alt_text||s("cms.no_alt_text","No alt text provided")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"caption",children:s("cms.caption","Caption")}),x?e.jsx(k,{id:"caption",value:h.caption,onChange:r=>u(a=>({...a,caption:r.target.value})),placeholder:s("cms.caption_placeholder","Enter a caption for this media")}):e.jsx("p",{className:"text-sm bg-muted px-2 py-1 rounded",children:t.caption||s("cms.no_caption","No caption provided")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:s("cms.description","Description")}),x?e.jsx(R,{id:"description",value:h.description,onChange:r=>u(a=>({...a,description:r.target.value})),placeholder:s("cms.description_placeholder","Enter a description for this media"),rows:3}):e.jsx("p",{className:"text-sm bg-muted px-2 py-1 rounded",children:t.description||s("cms.no_description","No description provided")})]})]})]}),_.length>0&&e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(d,{children:s("cms.image_variants","Image Variants")}),e.jsx(C,{children:s("cms.image_variants_desc","Different sizes and formats of this image")})]}),e.jsx(m,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:_.map((r,a)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:r.name}),e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(q,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Size: ",r.width," × ",r.height]}),e.jsxs("p",{children:["File Size: ",v(r.size)]})]})]},a))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(d,{children:s("cms.quick_actions","Quick Actions")})}),e.jsxs(m,{className:"space-y-2",children:[e.jsx(i,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),s("cms.view_original","View Original")]})}),e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>l("download"),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),s("common.download","Download")]}),e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>l("copy-url"),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),s("cms.copy_url","Copy URL")]}),e.jsx(V,{}),e.jsxs(i,{variant:"destructive",className:"w-full justify-start",onClick:()=>l("delete"),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),s("common.delete","Delete")]})]})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(d,{children:s("cms.file_information","File Information")})}),e.jsxs(m,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(K,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.file_size","File Size"),":"]}),e.jsx("span",{children:v(t.size)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.mime_type","MIME Type"),":"]}),e.jsx(T,{variant:"outline",children:t.mime_type})]}),t.width&&t.height&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(S,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.dimensions","Dimensions"),":"]}),e.jsxs("span",{children:[t.width," × ",t.height]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.uploaded_by","Uploaded by"),":"]}),e.jsx("span",{children:t.created_by.name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.uploaded_at","Uploaded"),":"]}),e.jsx("span",{children:E(t.created_at)})]}),t.folder&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.folder","Folder"),":"]}),e.jsx("span",{children:t.folder.name})]})]})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(d,{children:s("cms.url_information","URL Information")})}),e.jsxs(m,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.public_url","Public URL")}),e.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs font-mono break-all",children:t.url})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.file_path","File Path")}),e.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs font-mono break-all",children:t.file_path})]})]})]})]})]})]})]})}export{Ye as default};
