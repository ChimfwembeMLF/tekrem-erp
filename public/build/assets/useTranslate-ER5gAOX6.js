import{r as f,g as M,b as U}from"./app-BMIA6nir.js";const _=(e,t,n,a)=>{var s,g,p,h;const r=[n,{code:t,...a||{}}];if((g=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&g.forward)return e.services.logger.forward(r,"warn","react-i18next::",!0);m(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(h=(p=e==null?void 0:e.services)==null?void 0:p.logger)!=null&&h.warn?e.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},z={},E=(e,t,n,a)=>{m(n)&&z[n]||(m(n)&&(z[n]=new Date),_(e,t,n,a))},P=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},C=(e,t,n)=>{e.loadNamespaces(t,P(e,n))},A=(e,t,n,a)=>{if(m(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return C(e,n,a);n.forEach(r=>{e.options.ns.indexOf(r)<0&&e.options.ns.push(r)}),e.loadLanguages(t,P(e,a))},G=(e,t,n={})=>!t.languages||!t.languages.length?(E(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,r)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!r(a.isLanguageChangingTo,e))return!1}}),m=e=>typeof e=="string",$=e=>typeof e=="object"&&e!==null,k=f.createContext();class J{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const W=(e,t)=>{const n=f.useRef();return f.useEffect(()=>{n.current=e},[e,t]),n.current},j=(e,t,n,a)=>e.getFixedT(t,n,a),X=(e,t,n,a)=>f.useCallback(j(e,t,n,a),[e,t,n,a]),Y=(e,t={})=>{var I,O,R,v;const{i18n:n}=t,{i18n:a,defaultNS:r}=f.useContext(k)||{},s=n||a||M();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new J),!s){E(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=(u,l)=>m(l)?l:$(l)&&m(l.defaultValue)?l.defaultValue:Array.isArray(u)?u[u.length-1]:u,c=[i,{},!1];return c.t=i,c.i18n={},c.ready=!1,c}(I=s.options.react)!=null&&I.wait&&E(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g={...U(),...s.options.react,...t},{useSuspense:p,keyPrefix:h}=g;let o=r||((O=s.options)==null?void 0:O.defaultNS);o=m(o)?[o]:o||["translation"],(v=(R=s.reportNamespaces).addUsedNamespaces)==null||v.call(R,o);const d=(s.isInitialized||s.initializedStoreOnce)&&o.every(i=>G(i,s,g)),F=X(s,t.lng||null,g.nsMode==="fallback"?o:o[0],h),S=()=>F,y=()=>j(s,t.lng||null,g.nsMode==="fallback"?o:o[0],h),[b,w]=f.useState(S);let T=o.join();t.lng&&(T=`${t.lng}${T}`);const L=W(T),N=f.useRef(!0);f.useEffect(()=>{const{bindI18n:i,bindI18nStore:c}=g;N.current=!0,!d&&!p&&(t.lng?A(s,t.lng,o,()=>{N.current&&w(y)}):C(s,o,()=>{N.current&&w(y)})),d&&L&&L!==T&&N.current&&w(y);const u=()=>{N.current&&w(y)};return i&&(s==null||s.on(i,u)),c&&(s==null||s.store.on(c,u)),()=>{N.current=!1,s&&(i==null||i.split(" ").forEach(l=>s.off(l,u))),c&&s&&c.split(" ").forEach(l=>s.store.off(l,u))}},[s,T]),f.useEffect(()=>{N.current&&d&&w(S)},[s,h,d]);const x=[b,s,d];if(x.t=b,x.i18n=s,x.ready=d,d||!d&&!p)return x;throw new Promise(i=>{t.lng?A(s,t.lng,o,()=>i()):C(s,o,()=>i())})};function B(){const{t:e,i18n:t}=Y();return{t:(a,r,s)=>t.exists(a)?e(a,s):r||a,i18n:t,currentLanguage:t.language,changeLanguage:t.changeLanguage,languages:t.languages}}export{B as u};
