import{u as b,r as f,j as e,S as T,x as c,A as d}from"./app-BMIA6nir.js";import{A as U}from"./AppLayout-DbMk6clK.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{I as R}from"./input-Bg5GDATO.js";import{S as _,a as A,b as k,c as B,d as g}from"./select-B6KOX9nY.js";import{B as o}from"./x-C3KwZK3B.js";import{C as E,a as F,b as H,c as I}from"./card-BAsSN-2Z.js";import{T as P,a as z,b as v,c as l,d as M,e as n}from"./table-DqBb-9tC.js";import{u as V}from"./useTranslate-ER5gAOX6.js";import{U as N}from"./users-3SuyoAg3.js";import{S as D}from"./search-_p1CX5vB.js";import{F as L}from"./funnel-v8IwREza.js";import{E as q}from"./eye-DdivFxyT.js";import{S as G}from"./square-pen-CReBrXbl.js";import{T as K}from"./trash-2-DZc0jDKK.js";import{P as y}from"./plus-BjPf5uI-.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function qe({users:r,roles:S,filters:i}){V();const t=b(),[x,h]=f.useState(i.search||""),[p,j]=f.useState(i.role||""),u=()=>{d.get(t("admin.users.index"),{search:x||void 0,role:p||void 0},{preserveState:!0,replace:!0})},w=()=>{h(""),j(""),d.get(t("admin.users.index"),{},{preserveState:!0,replace:!0})},C=s=>{switch(s){case"admin":return"destructive";case"manager":return"default";case"staff":return"secondary";case"customer":return"outline";default:return"secondary"}};return e.jsxs(U,{title:"User Management",renderHeader:()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"User Management"}),e.jsx(c,{href:t("admin.users.create"),children:e.jsxs(a,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Create User"]})})]}),children:[e.jsx(T,{title:"User Management"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(E,{children:[e.jsxs(F,{children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"System Users"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(R,{placeholder:"Search users...",value:x,onChange:s=>h(s.target.value),onKeyPress:s=>s.key==="Enter"&&u(),className:"pl-10"})]})}),e.jsxs(_,{value:p,onValueChange:j,children:[e.jsx(A,{className:"w-full sm:w-48",children:e.jsx(k,{placeholder:"Filter by role"})}),e.jsxs(B,{children:[e.jsx(g,{value:"none",children:"All Roles"}),S.map(s=>e.jsx(g,{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{onClick:u,variant:"outline",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Filter"]}),e.jsx(a,{onClick:w,variant:"outline",children:"Clear"})]})]})]}),e.jsxs(I,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(P,{children:[e.jsx(z,{children:e.jsxs(v,{children:[e.jsx(l,{children:"User"}),e.jsx(l,{children:"Email Status"}),e.jsx(l,{children:"Roles"}),e.jsx(l,{children:"Direct Permissions"}),e.jsx(l,{children:"Created"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(M,{children:r.data.map(s=>e.jsxs(v,{children:[e.jsx(n,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})}),e.jsx(n,{children:e.jsx(o,{variant:s.email_verified_at?"default":"destructive",children:s.email_verified_at?"Verified":"Unverified"})}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.roles.map(m=>e.jsx(o,{variant:C(m.name),children:m.name},m.id)),s.roles.length===0&&e.jsx("span",{className:"text-sm text-gray-500",children:"No roles"})]})}),e.jsx(n,{children:e.jsx(o,{variant:"outline",children:s.permissions.length})}),e.jsx(n,{children:e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{href:t("admin.users.show",s.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(c,{href:t("admin.users.edit",s.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{confirm("Are you sure you want to delete this user?")&&d.delete(t("admin.users.destroy",s.id))},children:e.jsx(K,{className:"h-4 w-4"})})]})})]},s.id))})]})}),r.data.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No users found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i.search||i.role?"Try adjusting your search criteria.":"Get started by creating a new user."}),!i.search&&!i.role&&e.jsx("div",{className:"mt-6",children:e.jsx(c,{href:t("admin.users.create"),children:e.jsxs(a,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Create User"]})})})]}),r.last_page>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",r.from," to ",r.to," of ",r.total," results"]}),e.jsx("div",{className:"flex gap-2",children:r.links.map((s,m)=>e.jsx(a,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&d.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},m))})]})]})]})})})]})}export{qe as default};
