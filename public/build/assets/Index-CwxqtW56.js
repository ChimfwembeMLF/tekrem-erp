import{r as f,j as e,S as q,x as h,A as x}from"./app-BMIA6nir.js";import{C as N,a as P,b as _,c as v,d as z}from"./card-BAsSN-2Z.js";import{B as o}from"./createLucideIcon-Cg8jdX0w.js";import{B as n}from"./x-C3KwZK3B.js";import{I as K}from"./input-Bg5GDATO.js";import{S as E,a as V,b as k,c as M,d as r}from"./select-B6KOX9nY.js";import{D as O,a as X,b as $,c as p}from"./NotificationComponent-CHA3vjZG.js";import{A as J,a as Q}from"./avatar-DdiG0YBt.js";import{A as W}from"./AppLayout-DbMk6clK.js";import{u as Y}from"./useTranslate-ER5gAOX6.js";import{t as d}from"./index-Dj2TB_RL.js";import{S as Z}from"./search-_p1CX5vB.js";import{F as ee}from"./funnel-v8IwREza.js";import{F as se}from"./file-text-D25AipK4.js";import{P as D}from"./plus-BjPf5uI-.js";import{E as ae}from"./ellipsis-DJ3pNpl6.js";import{E as te}from"./eye-DdivFxyT.js";import{S as re}from"./square-pen-CReBrXbl.js";import{C as le}from"./copy-XqgUo3o3.js";import{T as ie}from"./trash-2-DZc0jDKK.js";import{G as ce}from"./globe-S29F6yCY.js";import{L as ne}from"./lock-uJsQfGf1.js";import{H as oe}from"./hash-DHWgar7Q.js";import{T as me}from"./trending-up-00s2SIxN.js";import{S as y}from"./star-D4SUxlZH.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./share-2-cOWypco3.js";import"./log-out-B525vUfE.js";function hs({templates:l,filters:j}){var F,A;const{t:a}=Y(),[b,w]=f.useState(j.search||""),[u,C]=f.useState(j.category||"all"),[g,S]=f.useState(j.is_public||"all"),T=()=>{x.get(route("ai.prompt-templates.index"),{search:b,category:u==="all"?"":u,is_public:g==="all"?"":g},{preserveState:!0,preserveScroll:!0})},I=()=>{w(""),C("all"),S("all"),x.get(route("ai.prompt-templates.index"))},H=async s=>{var t;try{const m=await(await fetch(route("ai.prompt-templates.duplicate",s),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""}})).json();m.success?(d.success(m.message),x.reload()):d.error(m.message)}catch{d.error("Failed to duplicate template")}},B=s=>{confirm(a("Are you sure you want to delete this template?"))&&x.delete(route("ai.prompt-templates.destroy",s),{onSuccess:()=>d.success(a("Template deleted successfully")),onError:()=>d.error(a("Failed to delete template"))})},G=s=>({crm:"bg-blue-100 text-blue-800",finance:"bg-green-100 text-green-800",support:"bg-orange-100 text-orange-800",marketing:"bg-purple-100 text-purple-800",general:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",L=s=>{if(!s)return null;const t=[],i=Math.floor(s),m=s%1!==0;for(let c=0;c<i;c++)t.push(e.jsx(y,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},c));m&&t.push(e.jsx(y,{className:"h-3 w-3 fill-yellow-200 text-yellow-400"},"half"));const U=5-Math.ceil(s);for(let c=0;c<U;c++)t.push(e.jsx(y,{className:"h-3 w-3 text-gray-300"},`empty-${c}`));return e.jsx("div",{className:"flex items-center space-x-0.5",children:t})},R=(s,t=100)=>s.length<=t?s:s.substring(0,t)+"...";return e.jsxs(W,{title:a("Prompt Templates"),renderHeader:()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:a("Prompt Templates")}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:a("Create and manage reusable AI prompt templates")})]}),e.jsx(h,{href:route("ai.prompt-templates.create"),children:e.jsxs(o,{children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),a("Create Template")]})})]}),children:[e.jsx(q,{title:a("Prompt Templates")}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs(N,{children:[e.jsx(P,{children:e.jsx(_,{className:"text-lg",children:a("Filters")})}),e.jsx(v,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:a("Search templates..."),value:b,onChange:s=>w(s.target.value),className:"pl-10",onKeyPress:s=>s.key==="Enter"&&T()})]}),e.jsxs(E,{value:u,onValueChange:C,children:[e.jsx(V,{children:e.jsx(k,{placeholder:a("All Categories")})}),e.jsxs(M,{children:[e.jsx(r,{value:"all",children:a("All Categories")}),e.jsx(r,{value:"crm",children:a("CRM")}),e.jsx(r,{value:"finance",children:a("Finance")}),e.jsx(r,{value:"support",children:a("Support")}),e.jsx(r,{value:"marketing",children:a("Marketing")}),e.jsx(r,{value:"general",children:a("General")})]})]}),e.jsxs(E,{value:g,onValueChange:S,children:[e.jsx(V,{children:e.jsx(k,{placeholder:a("All Visibility")})}),e.jsxs(M,{children:[e.jsx(r,{value:"all",children:a("All Visibility")}),e.jsx(r,{value:"1",children:a("Public")}),e.jsx(r,{value:"0",children:a("Private")})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(o,{onClick:T,className:"flex-1",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),a("Filter")]}),e.jsx(o,{variant:"outline",onClick:I,children:a("Clear")})]})]})})]}),((F=l.data.templates)==null?void 0:F.length)===0?e.jsx(N,{children:e.jsxs(v,{className:"text-center py-12",children:[e.jsx(se,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a("No templates found")}),e.jsx("p",{className:"text-gray-600 mb-4",children:a("Create your first prompt template to get started.")}),e.jsx(h,{href:route("ai.prompt-templates.create"),children:e.jsxs(o,{children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),a("Create Template")]})})]})}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:(A=l.data.templates)==null?void 0:A.map(s=>e.jsxs(N,{className:"relative hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(_,{className:"text-lg",children:s.name}),s.is_system&&e.jsx(n,{variant:"default",className:"text-xs",children:a("System")})]}),e.jsx(z,{className:"text-sm",children:s.description})]}),e.jsxs(O,{children:[e.jsx(X,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"sm",children:e.jsx(ae,{className:"h-4 w-4"})})}),e.jsxs($,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(h,{href:route("ai.prompt-templates.show",s.id),children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),a("View")]})}),e.jsx(p,{asChild:!0,children:e.jsxs(h,{href:route("ai.prompt-templates.edit",s.id),children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),a("Edit")]})}),e.jsxs(p,{onClick:()=>H(s.id),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),a("Duplicate")]}),!s.is_system&&e.jsxs(p,{onClick:()=>B(s.id),className:"text-red-600",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),a("Delete")]})]})]})]})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:a("Category")}),e.jsx(n,{className:G(s.category),children:s.category.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:a("Visibility")}),e.jsx("div",{className:"flex items-center space-x-1",children:s.is_public?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:a("Public")})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:a("Private")})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:a("Author")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"h-6 w-6",children:e.jsx(Q,{className:"text-xs",children:s.user.name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-sm",children:s.user.name})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:a("Variables")}),e.jsxs(n,{variant:"outline",children:[s.variables.length," ",a("variables")]})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[a("Template Preview"),":"]}),e.jsx("div",{className:"bg-gray-50 p-2 rounded text-xs text-gray-700 font-mono",children:R(s.template)})]}),s.variables.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[a("Variables"),":"]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.variables.slice(0,4).map((t,i)=>e.jsxs(n,{variant:"secondary",className:"text-xs",children:[e.jsx(oe,{className:"h-2 w-2 mr-1"}),t]},i)),s.variables.length>4&&e.jsxs(n,{variant:"secondary",className:"text-xs",children:["+",s.variables.length-4]})]})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[a("Tags"),":"]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map((t,i)=>e.jsx(n,{variant:"outline",className:"text-xs",children:t},i)),s.tags.length>3&&e.jsxs(n,{variant:"outline",className:"text-xs",children:["+",s.tags.length-3]})]})]}),e.jsx("div",{className:"pt-2 border-t flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(me,{className:"h-3 w-3 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[s.usage_count," ",a("uses")]})]}),s.avg_rating&&e.jsxs("div",{className:"flex items-center space-x-1",children:[L(s.avg_rating),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",s.avg_rating.toFixed(1),")"]})]})]})})]})]},s.id))}),l.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[a("Showing")," ",l.from," ",a("to")," ",l.to," ",a("of")," ",l.total," ",a("results")]}),e.jsx("div",{className:"flex space-x-1",children:l.links.map((s,t)=>e.jsx(o,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&x.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},t))})]})]})})]})}export{hs as default};
