import{u as y,G as C,j as e,S as N,x as h}from"./app-BMIA6nir.js";import{A as f}from"./AppLayout-DbMk6clK.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{C as S,a as k,b as w,d as E,c as _}from"./card-BAsSN-2Z.js";import{I as j}from"./input-Bg5GDATO.js";import{L as c}from"./label-CM6YsqH1.js";import{T as D}from"./textarea-CP26afIU.js";import{S as o,a as m,b as p,c as x,d as r}from"./select-B6KOX9nY.js";import{S as T}from"./save-D6UyxhH5.js";import{A as F}from"./arrow-left-UX2kDF52.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Te({communication:s,clients:A,leads:I}){const d=y(),{data:l,setData:a,put:v,processing:u,errors:i}=C({type:s.type,content:s.content,subject:s.subject||"",communication_date:s.communication_date.split("T")[0],direction:s.direction||"",status:s.status||""}),g=t=>{t.preventDefault(),v(d("crm.communications.update",s.id))},b=t=>new Date(t).toISOString().slice(0,16);return e.jsxs(f,{title:"Edit Communication",renderHeader:()=>e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{href:d("crm.communications.show",s.id),children:e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Back to Communication"]})}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Edit Communication"})]})}),children:[e.jsx(N,{title:"Edit Communication"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(S,{children:[e.jsxs(k,{children:[e.jsx(w,{children:"Edit Communication"}),e.jsx(E,{children:"Update the communication details below."})]}),e.jsx(_,{children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.communicable&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium mb-2",children:["Associated ",s.communicable_type.includes("Client")?"Client":"Lead"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.communicable.name," (",s.communicable.email,")"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"type",children:"Type *"}),e.jsxs(o,{value:l.type,onValueChange:t=>a("type",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select communication type"})}),e.jsxs(x,{children:[e.jsx(r,{value:"email",children:"Email"}),e.jsx(r,{value:"call",children:"Call"}),e.jsx(r,{value:"meeting",children:"Meeting"}),e.jsx(r,{value:"note",children:"Note"})]})]}),i.type&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"direction",children:"Direction"}),e.jsxs(o,{value:l.direction,onValueChange:t=>a("direction",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select direction"})}),e.jsxs(x,{children:[e.jsx(r,{value:"",children:"Not specified"}),e.jsx(r,{value:"inbound",children:"Inbound"}),e.jsx(r,{value:"outbound",children:"Outbound"})]})]}),i.direction&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.direction})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"communication_date",children:"Communication Date *"}),e.jsx(j,{id:"communication_date",type:"datetime-local",value:b(s.communication_date),onChange:t=>a("communication_date",t.target.value),required:!0}),i.communication_date&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.communication_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"status",children:"Status"}),e.jsxs(o,{value:l.status,onValueChange:t=>a("status",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select status"})}),e.jsxs(x,{children:[e.jsx(r,{value:"",children:"Not specified"}),e.jsx(r,{value:"completed",children:"Completed"}),e.jsx(r,{value:"scheduled",children:"Scheduled"}),e.jsx(r,{value:"cancelled",children:"Cancelled"})]})]}),i.status&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"subject",children:"Subject"}),e.jsx(j,{id:"subject",type:"text",placeholder:"Enter communication subject (optional)",value:l.subject,onChange:t=>a("subject",t.target.value)}),i.subject&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.subject})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"content",children:"Content *"}),e.jsx(D,{id:"content",placeholder:"Enter communication content...",value:l.content,onChange:t=>a("content",t.target.value),rows:6,required:!0}),i.content&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.content})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx(h,{href:d("crm.communications.show",s.id),children:e.jsx(n,{type:"button",variant:"outline",children:"Cancel"})}),e.jsxs(n,{type:"submit",disabled:u,children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),u?"Updating...":"Update Communication"]})]})]})})]})})})]})}export{Te as default};
