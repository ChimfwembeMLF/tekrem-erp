import{u as D,r as P,j as e,S as E,A as x,x as B}from"./app-BMIA6nir.js";import{A as L,C as U}from"./AppLayout-DbMk6clK.js";import{C as l,a as n,b as m,c as d,d as y}from"./card-BAsSN-2Z.js";import{B as i}from"./createLucideIcon-Cg8jdX0w.js";import{B as j,U as O}from"./x-C3KwZK3B.js";import{L as o}from"./label-CM6YsqH1.js";import{S as z}from"./separator-DnQonHW9.js";import{u as F}from"./useTranslate-ER5gAOX6.js";import{t as u}from"./index-Dj2TB_RL.js";import{A as H}from"./arrow-left-UX2kDF52.js";import{S as f}from"./star-D4SUxlZH.js";import{E as C}from"./eye-DdivFxyT.js";import{C as b}from"./copy-XqgUo3o3.js";import{S}from"./square-pen-CReBrXbl.js";import{C as I}from"./code-CCW4zUdR.js";import{F as J}from"./file-text-D25AipK4.js";import{D as q}from"./download-CNZP3fGS.js";import{T as R}from"./trash-2-DZc0jDKK.js";import{C as k}from"./calendar-DTsvo4Hi.js";import{S as M}from"./sheet-1SUjjT9Y.js";import"./useTypedPage-hmuARwun.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function qe({template:t,categories:T,pages:p=[]}){var v,w;const{t:s}=F(),r=D(),[h,A]=P.useState(!1),c=a=>{var _;switch(a){case"edit":x.visit(r("cms.templates.edit",t.id));break;case"preview":window.open(r("cms.templates.preview",t.id),"_blank");break;case"duplicate":x.post(r("cms.templates.duplicate",t.id),{},{onSuccess:()=>{u.success(s("cms.template_duplicated","Template duplicated successfully"))}});break;case"set-default":x.post(r("cms.templates.set-default",t.id),{},{onSuccess:()=>{u.success(s("cms.template_set_default","Template set as default"))}});break;case"export":window.open(r("cms.templates.export",t.id),"_blank");break;case"delete":if((_=t.usage_stats)!=null&&_.total_pages&&t.usage_stats.total_pages>0){u.error(s("cms.cannot_delete_template_in_use","Cannot delete template that is in use"));return}confirm(s("cms.confirm_delete_template","Are you sure you want to delete this template?"))&&x.delete(r("cms.templates.destroy",t.id),{onSuccess:()=>{u.success(s("cms.template_deleted","Template deleted successfully")),x.visit(r("cms.templates.index"))}});break}},N=a=>new Date(a).toLocaleDateString(),g=a=>{try{return JSON.stringify(a,null,2)}catch{return"Invalid JSON"}};return e.jsxs(L,{children:[e.jsx(E,{title:t.name}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>x.visit(r("cms.templates.index")),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),s("common.back","Back")]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[t.name,t.is_default&&e.jsx(f,{className:"h-5 w-5 text-yellow-500 fill-current"})]}),e.jsx("p",{className:"text-muted-foreground",children:t.description||s("cms.no_description","No description provided")})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",onClick:()=>c("preview"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),s("cms.preview","Preview")]}),e.jsxs(i,{variant:"outline",onClick:()=>c("duplicate"),children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),s("cms.duplicate","Duplicate")]}),e.jsxs(i,{onClick:()=>c("edit"),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),s("common.edit","Edit")]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(l,{children:[e.jsx(n,{children:e.jsx(m,{children:s("cms.template_overview","Template Overview")})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.template_name","Template Name")}),e.jsx("p",{className:"text-lg font-semibold",children:t.name})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.slug","Slug")}),e.jsx("p",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:t.slug})]})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.category","Category")}),e.jsx("div",{className:"mt-1",children:e.jsx(j,{variant:"outline",children:T[t.category]||t.category})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{className:"text-sm font-medium text-muted-foreground",children:[s("cms.status","Status"),":"]}),e.jsx(j,{variant:t.is_active?"default":"secondary",children:t.is_active?s("cms.active","Active"):s("cms.inactive","Inactive")})]}),t.is_default&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:s("cms.default_template","Default Template")})]})]})]})]}),e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),s("cms.template_content","Template Content")]}),e.jsx(y,{children:s("cms.template_content_preview","Preview of the template HTML/Blade content")})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(o,{className:"text-sm font-medium",children:[s("cms.content","Content")," (",t.content.length," ",s("common.characters","characters"),")"]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>A(!h),children:h?s("common.hide","Hide"):s("common.show","Show")})]}),h&&e.jsx("div",{className:"bg-muted p-4 rounded-lg",children:e.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap overflow-x-auto",children:t.content})})]})})]}),p.length>0&&e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),s("cms.pages_using_template","Pages Using This Template")]}),e.jsxs(y,{children:[p.length," ",s("cms.pages_found","pages found")]})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:p.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:a.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",a.slug]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:a.status==="published"?"default":"secondary",children:a.status}),e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(B,{href:r("cms.pages.show",a.id),children:s("common.view","View")})})]})]},a.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(n,{children:e.jsx(m,{children:s("cms.quick_actions","Quick Actions")})}),e.jsxs(d,{className:"space-y-2",children:[e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>c("edit"),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),s("common.edit","Edit")]}),e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>c("preview"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),s("cms.preview","Preview")]}),e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>c("duplicate"),children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),s("cms.duplicate","Duplicate")]}),!t.is_default&&e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>c("set-default"),children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),s("cms.set_as_default","Set as Default")]}),e.jsxs(i,{variant:"outline",className:"w-full justify-start",onClick:()=>c("export"),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),s("cms.export","Export")]}),e.jsx(z,{}),e.jsxs(i,{variant:"destructive",className:"w-full justify-start",onClick:()=>c("delete"),disabled:(((v=t.usage_stats)==null?void 0:v.total_pages)||0)>0,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),s("common.delete","Delete")]})]})]}),t.usage_stats&&e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),s("cms.usage_statistics","Usage Statistics")]})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:s("cms.total_pages","Total Pages")}),e.jsx("span",{className:"font-medium",children:t.usage_stats.total_pages})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:s("cms.published_pages","Published Pages")}),e.jsx("span",{className:"font-medium",children:t.usage_stats.published_pages})]})]})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsx(m,{children:s("cms.template_information","Template Information")})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(O,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.created_by","Created by"),":"]}),e.jsx("span",{children:((w=t.created_by)==null?void 0:w.name)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.created_at","Created"),":"]}),e.jsx("span",{children:N(t.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[s("cms.updated_at","Updated"),":"]}),e.jsx("span",{children:N(t.updated_at)})]})]})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),s("cms.advanced_settings","Advanced Settings")]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.template_fields","Template Fields")}),e.jsx("pre",{className:"mt-1 text-xs font-mono bg-muted p-2 rounded overflow-x-auto",children:g(t.fields)})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground",children:s("cms.template_settings","Template Settings")}),e.jsx("pre",{className:"mt-1 text-xs font-mono bg-muted p-2 rounded overflow-x-auto",children:g(t.settings)})]})]})]})]})]})]})]})}export{qe as default};
