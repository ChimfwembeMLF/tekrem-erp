import{u as f,j as e,S as y,A as v}from"./app-BMIA6nir.js";import{A as w}from"./AppLayout-DbMk6clK.js";import{B as c}from"./createLucideIcon-Cg8jdX0w.js";import{C as d,a as x,b as o,c as h}from"./card-BAsSN-2Z.js";import{B as p}from"./x-C3KwZK3B.js";import{u as b}from"./useTranslate-ER5gAOX6.js";import{S as R}from"./shield-DwKJ9Ble.js";import{U as r}from"./users-3SuyoAg3.js";import{K as l}from"./key-Qw2I2-NE.js";import{C as j}from"./calendar-DTsvo4Hi.js";import{A as C}from"./arrow-left-UX2kDF52.js";import{S}from"./square-pen-CReBrXbl.js";import{T as D}from"./trash-2-DZc0jDKK.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Ne({role:s}){b();const m=f(),g=t=>{switch(t){case"admin":return"destructive";case"manager":return"default";case"staff":return"secondary";case"customer":return"outline";default:return"secondary"}},n=["admin","manager","staff","customer"].includes(s.name),u=()=>{if(n){alert("System roles cannot be deleted.");return}if(s.users_count>0){alert("Cannot delete role that has users assigned to it. Please reassign users first.");return}confirm("Are you sure you want to delete this role? This action cannot be undone.")&&v.delete(m("admin.roles.destroy",s.id))},N=s.permissions.reduce((t,i)=>{const a=i.name.split(".")[0]||"general";return t[a]||(t[a]=[]),t[a].push(i),t},{});return e.jsxs(w,{title:`Role: ${s.name}`,renderHeader:()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:m("admin.roles.index"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Back to Roles"]})}),e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Role Details: ",s.name]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:m("admin.roles.edit",s.id),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Edit Role"]})}),!n&&e.jsxs(c,{variant:"outline",className:"text-red-600 hover:text-red-700",onClick:u,children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Delete Role"]})]})]}),children:[e.jsx(y,{title:`Role: ${s.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs(d,{children:[e.jsx(x,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Role Information"]})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium capitalize",children:s.name}),e.jsx(p,{variant:g(s.name),children:s.name}),n&&e.jsx(p,{variant:"outline",children:"System Role"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-lg",children:s.description||"No description provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Statistics"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{children:[s.users_count," users"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(l,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{children:[s.permissions_count," permissions"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-lg",children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-lg",children:new Date(s.updated_at).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role ID"}),e.jsxs("p",{className:"text-lg font-mono",children:["#",s.id]})]})]})]})})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5"}),"Assigned Users (",s.users_count,")"]})}),e.jsx(h,{children:s.users&&s.users.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.users.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(r,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(r,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No users assigned"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No users have been assigned to this role yet."})]})})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-5 w-5"}),"Permissions (",s.permissions_count,")"]})}),e.jsx(h,{children:s.permissions.length>0?e.jsx("div",{className:"space-y-6",children:Object.entries(N).map(([t,i])=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-lg mb-3 capitalize",children:[t," Module"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:i.map(a=>e.jsxs("div",{className:"flex items-start space-x-2 p-2 border rounded",children:[e.jsx(l,{className:"h-4 w-4 mt-0.5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:a.name}),a.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.description})]})]},a.id))})]},t))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(l,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No permissions assigned"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"This role has no permissions assigned to it."})]})})]})]})})]})}export{Ne as default};
