import{u as b,G as U,j as s,S as k}from"./app-BMIA6nir.js";import{A as E}from"./AppLayout-DbMk6clK.js";import{B as c}from"./createLucideIcon-Cg8jdX0w.js";import{I as l}from"./input-Bg5GDATO.js";import{L as d}from"./label-CM6YsqH1.js";import{C as p,a as x,b as h,c as j}from"./card-BAsSN-2Z.js";import{C as g}from"./checkbox-B8CiFAgv.js";import{u as S}from"./useTranslate-ER5gAOX6.js";import{U as _}from"./x-C3KwZK3B.js";import{S as F}from"./shield-DwKJ9Ble.js";import{K as A}from"./key-Qw2I2-NE.js";import{S as $}from"./save-D6UyxhH5.js";import{A as B}from"./arrow-left-UX2kDF52.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";function Es({user:t,roles:N,permissions:u}){S();const o=b(),{data:r,setData:i,put:w,processing:f,errors:a}=U({name:t.name,email:t.email,password:"",password_confirmation:"",roles:t.roles,permissions:t.permissions}),v=e=>{e.preventDefault(),w(o("admin.users.update",t.id))},C=(e,m)=>{m?i("roles",[...r.roles,e]):i("roles",r.roles.filter(n=>n!==e))},y=(e,m)=>{m?i("permissions",[...r.permissions,e]):i("permissions",r.permissions.filter(n=>n!==e))};return s.jsxs(E,{title:"Edit User",renderHeader:()=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(c,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:o("admin.users.index"),children:[s.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),s.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Edit User: ",t.name]})]}),children:[s.jsx(k,{title:`Edit User: ${t.name}`}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs(p,{children:[s.jsx(x,{children:s.jsxs(h,{className:"flex items-center gap-2",children:[s.jsx(_,{className:"h-5 w-5"}),"Basic Information"]})}),s.jsxs(j,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{htmlFor:"name",children:"Full Name *"}),s.jsx(l,{id:"name",type:"text",value:r.name,onChange:e=>i("name",e.target.value),placeholder:"Enter full name",className:a.name?"border-red-500":""}),a.name&&s.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{htmlFor:"email",children:"Email Address *"}),s.jsx(l,{id:"email",type:"email",value:r.email,onChange:e=>i("email",e.target.value),placeholder:"Enter email address",className:a.email?"border-red-500":""}),a.email&&s.jsx("p",{className:"text-sm text-red-500",children:a.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{htmlFor:"password",children:"New Password (leave blank to keep current)"}),s.jsx(l,{id:"password",type:"password",value:r.password,onChange:e=>i("password",e.target.value),placeholder:"Enter new password",className:a.password?"border-red-500":""}),a.password&&s.jsx("p",{className:"text-sm text-red-500",children:a.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{htmlFor:"password_confirmation",children:"Confirm New Password"}),s.jsx(l,{id:"password_confirmation",type:"password",value:r.password_confirmation,onChange:e=>i("password_confirmation",e.target.value),placeholder:"Confirm new password",className:a.password_confirmation?"border-red-500":""}),a.password_confirmation&&s.jsx("p",{className:"text-sm text-red-500",children:a.password_confirmation})]})]})]})]}),s.jsxs(p,{children:[s.jsx(x,{children:s.jsxs(h,{className:"flex items-center gap-2",children:[s.jsx(F,{className:"h-5 w-5"}),"Role Assignment"]})}),s.jsxs(j,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(e=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(g,{id:`role-${e.id}`,checked:r.roles.includes(e.name),onCheckedChange:m=>C(e.name,m)}),s.jsxs("div",{className:"flex-1",children:[s.jsx(d,{htmlFor:`role-${e.id}`,className:"font-medium capitalize",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description||"No description available"})]})]},e.id))}),a.roles&&s.jsx("p",{className:"text-sm text-red-500 mt-2",children:a.roles})]})]}),s.jsxs(p,{children:[s.jsx(x,{children:s.jsxs(h,{className:"flex items-center gap-2",children:[s.jsx(A,{className:"h-5 w-5"}),"Direct Permissions (Optional)"]})}),s.jsxs(j,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:u.map(e=>s.jsxs("div",{className:"flex items-start space-x-2 p-2 border rounded",children:[s.jsx(g,{id:`permission-${e.id}`,checked:r.permissions.includes(e.name),onCheckedChange:m=>y(e.name,m)}),s.jsxs("div",{className:"flex-1",children:[s.jsx(d,{htmlFor:`permission-${e.id}`,className:"text-sm",children:e.name}),e.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]},e.id))}),a.permissions&&s.jsx("p",{className:"text-sm text-red-500 mt-2",children:a.permissions})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(c,{type:"button",variant:"outline",asChild:!0,children:s.jsx("a",{href:o("admin.users.index"),children:"Cancel"})}),s.jsxs(c,{type:"submit",disabled:f,children:[s.jsx($,{className:"h-4 w-4 mr-2"}),f?"Updating...":"Update User"]})]})]})})})]})}export{Es as default};
