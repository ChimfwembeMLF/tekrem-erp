import{u as y,j as e,S as k,x as o}from"./app-BMIA6nir.js";import{A as C}from"./AppLayout-DbMk6clK.js";import{C as i,a,b as l,c as n,d as f}from"./card-BAsSN-2Z.js";import{B as m}from"./x-C3KwZK3B.js";import{B as x}from"./createLucideIcon-Cg8jdX0w.js";import{S}from"./separator-DnQonHW9.js";import{u as T}from"./useTranslate-ER5gAOX6.js";import{A}from"./arrow-left-UX2kDF52.js";import{S as N}from"./square-pen-CReBrXbl.js";import{T as h}from"./ticket-B_Ks_Sjf.js";import{T as D}from"./target-DIhftedx.js";import{C as R}from"./clock-BTinGqFV.js";import{S as L}from"./sheet-1SUjjT9Y.js";import{C as z}from"./calendar-DTsvo4Hi.js";import{U as B}from"./users-3SuyoAg3.js";import"./useTypedPage-hmuARwun.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Ce({category:t,recentTickets:j,monthlyStats:u}){const{t:s}=T(),c=y(),g=r=>{switch(r){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=r=>{switch(r){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=t.tickets_count>0&&t.resolved_tickets_count!=null?(t.resolved_tickets_count/t.tickets_count*100).toFixed(1):"0",_=t.avg_resolution_time??0,w=r=>{if(r<60)return`${Math.round(r)}m`;const d=Math.floor(r/60),b=Math.round(r%60);return`${d}h ${b}m`};return console.log("monthlyStats",u),e.jsxs(C,{children:[e.jsx(k,{title:`${s("support.category","Category")}: ${t.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(o,{href:c("support.categories.index"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),s("common.back","Back")]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:t.color}}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.name}),e.jsx(m,{variant:t.is_active?"default":"secondary",children:t.is_active?s("support.active","Active"):s("support.inactive","Inactive")})]}),t.description&&e.jsx("p",{className:"text-muted-foreground",children:t.description})]})]}),e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(o,{href:c("support.categories.edit",t.id),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s("common.edit","Edit")]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(i,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:s("support.total_tickets","Total Tickets")}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.tickets_count}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.resolved_tickets_count," resolved"]})]})]}),e.jsxs(i,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:s("support.resolution_rate","Resolution Rate")}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[v,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("support.of_total_tickets","of total tickets")})]})]}),e.jsxs(i,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:s("support.avg_resolution_time","Avg Resolution Time")}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w(_)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("support.average_time","average time")})]})]}),e.jsxs(i,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:s("support.default_priority","Default Priority")}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx(m,{className:p(t.default_priority),variant:"secondary",children:t.default_priority}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("support.for_new_tickets","for new tickets")})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsxs(a,{children:[e.jsx(l,{children:s("support.recent_tickets","Recent Tickets")}),e.jsx(f,{children:s("support.latest_tickets_in_category","Latest tickets in this category")})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:j.length>0?j.map(r=>{var d;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium",children:["#",r.ticket_number]}),e.jsx(m,{className:g(r.status),variant:"secondary",children:r.status.replace("_"," ")}),e.jsx(m,{className:p(r.priority),variant:"secondary",children:r.priority})]}),e.jsx("h4",{className:"font-medium text-sm leading-tight",children:r.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(d=r.requester)==null?void 0:d.name," â€¢ ",new Date(r.created_at).toLocaleDateString()]})]}),e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(o,{href:c("support.tickets.show",r.id),children:s("common.view","View")})})]},r.id)}):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(h,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:s("support.no_tickets_in_category","No tickets in this category yet")})]})})})]}),e.jsxs(i,{children:[e.jsxs(a,{children:[e.jsx(l,{children:s("support.monthly_statistics","Monthly Statistics")}),e.jsx(f,{children:s("support.ticket_trends","Ticket creation and resolution trends")})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.map((r,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:r.month})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:r.tickets}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Created"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-green-600",children:r.resolved}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Resolved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-medium",children:[r.tickets>0?(r.resolved/r.tickets*100).toFixed(0):0,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]},d))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(a,{children:e.jsx(l,{children:s("support.category_settings","Category Settings")})}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.sort_order","Sort Order")}),e.jsx("span",{className:"font-medium",children:t.sort_order})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.status","Status")}),e.jsx(m,{variant:t.is_active?"default":"secondary",children:t.is_active?s("support.active","Active"):s("support.inactive","Inactive")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.default_priority","Default Priority")}),e.jsx(m,{className:p(t.default_priority),variant:"secondary",children:t.default_priority})]}),t.default_sla_policy&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.default_sla","Default SLA")}),e.jsx("span",{className:"font-medium",children:t.default_sla_policy.name})]}),t.auto_assign_user&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.auto_assign","Auto Assign")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:t.auto_assign_user.name})]})]}),e.jsx(S,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.created","Created")}),e.jsx("span",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("support.updated","Updated")}),e.jsx("span",{className:"font-medium",children:new Date(t.updated_at).toLocaleDateString()})]})]})})]}),e.jsxs(i,{children:[e.jsx(a,{children:e.jsx(l,{children:s("support.quick_actions","Quick Actions")})}),e.jsxs(n,{className:"space-y-2",children:[e.jsx(x,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(o,{href:c("support.tickets.create",{category_id:t.id}),children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),s("support.create_ticket","Create Ticket")]})}),e.jsx(x,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsx(o,{href:c("support.tickets.index",{category_id:t.id}),children:s("support.view_all_tickets","View All Tickets")})}),e.jsx(x,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(o,{href:c("support.categories.edit",t.id),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s("support.edit_category","Edit Category")]})})]})]})]})]})]})]})}export{Ce as default};
