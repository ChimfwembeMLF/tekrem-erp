import{u as F,G as T,j as e,S as w,x as k}from"./app-BMIA6nir.js";import{A as L}from"./AppLayout-DbMk6clK.js";import{C as p,a as x,b as h,d as j,c as u}from"./card-BAsSN-2Z.js";import{B as g}from"./createLucideIcon-Cg8jdX0w.js";import{I as v}from"./input-Bg5GDATO.js";import{L as a}from"./label-CM6YsqH1.js";import{T as $}from"./textarea-CP26afIU.js";import{S as y,a as C,b as N,c as f,d}from"./select-B6KOX9nY.js";import{C as A}from"./checkbox-B8CiFAgv.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function we({auth:H,project:n,users:_,availableDependencies:o}){const c=F(),{data:t,setData:r,post:b,processing:m,errors:i}=T({name:"",description:"",due_date:"",priority:"medium",assigned_to:"empty",dependencies:[]}),S=s=>{s.preventDefault();const l={...t,assigned_to:t.assigned_to==="empty"?"":t.assigned_to};b(c("projects.milestones.store",n.id),{data:l})},D=s=>{const l=t.dependencies;l.includes(s)?r("dependencies",l.filter(M=>M!==s)):r("dependencies",[...l,s])};return e.jsxs(L,{title:`Create Milestone - ${n.name}`,renderHeader:()=>e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Create Milestone for ",n.name]}),children:[e.jsx(w,{title:`Create Milestone - ${n.name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:S,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Milestone Information"}),e.jsx(j,{children:"Create a new milestone for this project"})]}),e.jsxs(u,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{htmlFor:"name",children:["Milestone Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"name",value:t.name,onChange:s=>r("name",s.target.value),placeholder:"Enter milestone name"}),i.name&&e.jsx("p",{className:"text-red-500 text-sm",children:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx($,{id:"description",value:t.description,onChange:s=>r("description",s.target.value),placeholder:"Describe the milestone objectives and deliverables",rows:4}),i.description&&e.jsx("p",{className:"text-red-500 text-sm",children:i.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"due_date",children:"Due Date"}),e.jsx(v,{id:"due_date",type:"date",value:t.due_date,onChange:s=>r("due_date",s.target.value)}),i.due_date&&e.jsx("p",{className:"text-red-500 text-sm",children:i.due_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{htmlFor:"priority",children:["Priority ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(y,{value:t.priority,onValueChange:s=>r("priority",s),children:[e.jsx(C,{children:e.jsx(N,{})}),e.jsxs(f,{children:[e.jsx(d,{value:"low",children:"Low"}),e.jsx(d,{value:"medium",children:"Medium"}),e.jsx(d,{value:"high",children:"High"}),e.jsx(d,{value:"critical",children:"Critical"})]})]}),i.priority&&e.jsx("p",{className:"text-red-500 text-sm",children:i.priority})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"assigned_to",children:"Assigned To"}),e.jsxs(y,{value:t.assigned_to,onValueChange:s=>r("assigned_to",s),children:[e.jsx(C,{children:e.jsx(N,{placeholder:"Select assignee"})}),e.jsxs(f,{children:[e.jsx(d,{value:"empty",children:"No assignee"}),_.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))]})]}),i.assigned_to&&e.jsx("p",{className:"text-red-500 text-sm",children:i.assigned_to})]})]})]})]}),o.length>0&&e.jsxs(p,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Dependencies"}),e.jsx(j,{children:"Select milestones that must be completed before this one"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:`milestone-${s.id}`,checked:t.dependencies.includes(s.id),onCheckedChange:()=>D(s.id)}),e.jsx(a,{htmlFor:`milestone-${s.id}`,className:"text-sm",children:s.name})]},s.id))}),i.dependencies&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:i.dependencies})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(k,{href:c("projects.milestones.index",n.id),children:e.jsx(g,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(g,{type:"submit",disabled:m,children:m?"Creating...":"Create Milestone"})]})]})})})})]})}export{we as default};
