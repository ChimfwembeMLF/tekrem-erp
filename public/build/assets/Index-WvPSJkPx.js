import{u as _,r as j,j as e,S as R,x as r,A as g}from"./app-BMIA6nir.js";import{A as z}from"./AppLayout-DbMk6clK.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{C as i,c as l,a as P,b as T,d as U}from"./card-BAsSN-2Z.js";import{B as d}from"./x-C3KwZK3B.js";import{I as A}from"./input-Bg5GDATO.js";import{u as M}from"./useTranslate-ER5gAOX6.js";import{S as m}from"./shield-DwKJ9Ble.js";import{U as x}from"./users-3SuyoAg3.js";import{S as E}from"./search-_p1CX5vB.js";import{G as B}from"./grid-3x3-X-imM9-2.js";import{L as D}from"./list-4SH12gn-.js";import{E as N}from"./eye-DdivFxyT.js";import{S as u}from"./square-pen-CReBrXbl.js";import{T as f}from"./trash-2-DZc0jDKK.js";import{P as y}from"./plus-BjPf5uI-.js";import{U as V}from"./user-check-s2c-295p.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Me({roles:c,permissionMatrix:v,filters:w}){M();const t=_(),[k,b]=j.useState(w.search||""),[n,o]=j.useState("cards"),C=s=>{b(s),g.get(t("admin.roles.index"),{search:s},{preserveState:!0,replace:!0})},h=s=>{if(s.is_system_role){alert("System roles cannot be deleted.");return}if(s.users_count>0){alert("Cannot delete role that has users assigned to it. Please reassign users first.");return}confirm("Are you sure you want to delete this role? This action cannot be undone.")&&g.delete(t("admin.roles.destroy",s.id))},p=s=>{switch(s){case"admin":return"destructive";case"manager":return"default";case"staff":return"secondary";case"customer":return"outline";default:return"secondary"}};return e.jsxs(z,{title:"Role Management",renderHeader:()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Role Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{href:t("admin.roles.matrix"),children:e.jsxs(a,{variant:"outline",children:[e.jsx("div",{className:"h-4 w-4 mr-2"}),"Permission Matrix"]})}),e.jsx(r,{href:t("admin.roles.user-assignment"),children:e.jsxs(a,{variant:"outline",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"User Assignment"]})}),e.jsx(r,{href:t("admin.roles.create"),children:e.jsxs(a,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Create Role"]})})]})]}),children:[e.jsx(R,{title:"Role Management"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(i,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Roles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.length})]})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.reduce((s,S)=>s+S.users_count,0)})]})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"System Roles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.filter(s=>s.is_system_role).length})]})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Permission Modules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:Object.keys(v).length})]})]})})})]}),e.jsx(i,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(A,{placeholder:"Search roles...",value:k,onChange:s=>C(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(a,{variant:n==="cards"?"default":"outline",size:"sm",onClick:()=>o("cards"),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Cards"]}),e.jsxs(a,{variant:n==="table"?"default":"outline",size:"sm",onClick:()=>o("table"),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Table"]})]})]})})}),e.jsx(i,{children:e.jsxs(l,{className:"p-6",children:[n==="cards"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(s=>e.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(P,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),s.name]}),e.jsx(d,{variant:p(s.name),children:s.name})]}),e.jsx(U,{className:"text-sm",children:s.description||"No description provided"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-4 w-4"}),"Users"]}),e.jsx(d,{variant:"outline",children:s.users_count})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"h-4 w-4"}),"Permissions"]}),e.jsx(d,{variant:"outline",children:s.permissions_count})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{href:t("admin.roles.show",s.id),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsx(r,{href:t("admin.roles.edit",s.id),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),"Edit"]})}),!s.is_system_role&&e.jsxs(a,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>h(s),children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]})})]},s.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Users"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Permissions"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:c.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:s.name}),e.jsx(d,{variant:p(s.name),children:s.name}),s.is_system_role&&e.jsx(d,{variant:"outline",children:"System"})]})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:s.description||"No description provided"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:s.users_count})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:[s.permissions_count," permissions"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{href:t("admin.roles.show",s.id),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsx(r,{href:t("admin.roles.edit",s.id),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),"Edit"]})}),!s.is_system_role&&e.jsxs(a,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>h(s),children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},s.id))})]})}),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No roles found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by creating a new role."}),e.jsx("div",{className:"mt-6",children:e.jsx(r,{href:t("admin.roles.create"),children:e.jsxs(a,{children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Create Role"]})})})]})]})})]})})]})}export{Me as default};
