import{u as V,r as i,j as e,S as O,x as o,A as p}from"./app-BMIA6nir.js";import{A as U,R as q}from"./AppLayout-DbMk6clK.js";import{C as G,a as J,b as K,d as Q,c as W}from"./card-BAsSN-2Z.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{I as X}from"./input-Bg5GDATO.js";import{B as Y}from"./x-C3KwZK3B.js";import{S as b,a as _,b as w,c as C,d as x}from"./select-B6KOX9nY.js";import{u as Z}from"./useTranslate-ER5gAOX6.js";import{t as A}from"./index-Dj2TB_RL.js";import{P as T}from"./plus-BjPf5uI-.js";import{C as f}from"./NotificationComponent-CHA3vjZG.js";import{F as $}from"./file-text-D25AipK4.js";import{C as ee}from"./calendar-DTsvo4Hi.js";import{S as te}from"./square-pen-CReBrXbl.js";import{T as se}from"./trash-2-DZc0jDKK.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function Ye({payments:c,filters:l,statuses:m,paymentMethods:d,accounts:ae}){var S;const{t:s}=Z(),a=V(),[j,N]=i.useState(l.search||""),[h,g]=i.useState(l.status||"all"),[u,y]=i.useState(l.payment_method||"all"),[v,D]=i.useState(l.account||"all"),[I,P]=i.useState(l.date_from||""),[R,F]=i.useState(l.date_to||""),k=()=>{p.get(a("finance.payments.index"),{search:j,status:h==="all"?"":h,payment_method:u==="all"?"":u,account:v==="all"?"":v,date_from:I,date_to:R},{preserveState:!0,replace:!0})},z=()=>{N(""),g("all"),y("all"),D("all"),P(""),F(""),p.get(a("finance.payments.index"),{},{preserveState:!0,replace:!0})},B=t=>{confirm(s("common.confirm_delete","Are you sure you want to delete this item?"))&&p.delete(a("finance.payments.destroy",t),{onSuccess:()=>{A.success(s("finance.payment_deleted","Payment deleted successfully"))},onError:()=>{A.error(s("common.error_occurred","An error occurred"))}})},E=(t,r="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(t),L=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=t=>{switch(t){case"completed":return"✓";case"pending":return"○";case"failed":return"✗";default:return"○"}},M=t=>{switch(t){case"credit_card":return e.jsx(f,{className:"h-4 w-4"});case"bank_transfer":return e.jsx(q,{className:"h-4 w-4"});default:return e.jsx(f,{className:"h-4 w-4"})}};return e.jsxs(U,{title:s("finance.payments","Payments"),children:[e.jsx(O,{title:s("finance.payments","Payments")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(G,{children:[e.jsxs(J,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(K,{children:s("finance.payments","Payments")}),e.jsx(Q,{children:s("finance.payments_description","Track and manage your payments")})]}),e.jsx(o,{href:a("finance.payments.create"),children:e.jsxs(n,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),s("finance.record_payment","Record Payment")]})})]}),e.jsxs(W,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-2",children:[e.jsxs("form",{onSubmit:t=>{t.preventDefault(),k()},className:"flex gap-2 flex-1",children:[e.jsx(X,{type:"text",placeholder:s("finance.search_payments","Search payments..."),value:j,onChange:t=>N(t.target.value),className:"max-w-sm"}),e.jsx(n,{type:"submit",variant:"secondary",children:s("common.search","Search")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{value:h,onValueChange:g,children:[e.jsx(_,{className:"w-40",children:e.jsx(w,{placeholder:s("common.all_statuses","All statuses")})}),e.jsxs(C,{children:[e.jsx(x,{value:"all",children:s("common.all_statuses","All statuses")}),m&&Object.entries(m).map(([t,r])=>e.jsx(x,{value:t,children:r},t))]})]}),e.jsxs(b,{value:u,onValueChange:y,children:[e.jsx(_,{className:"w-40",children:e.jsx(w,{placeholder:s("common.all_methods","All methods")})}),e.jsxs(C,{children:[e.jsx(x,{value:"all",children:s("common.all_methods","All methods")}),d&&Object.entries(d).map(([t,r])=>e.jsx(x,{value:t,children:r},t))]})]}),e.jsx(n,{variant:"outline",onClick:z,children:s("common.reset","Reset")})]})]}),c.data.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:s("finance.no_payments","No payments found")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s("finance.record_first_payment_desc","Get started by recording your first payment.")}),e.jsx(o,{href:a("finance.payments.create"),children:e.jsxs(n,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),s("finance.record_payment","Record Payment")]})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:s("finance.payment_number","Payment #")}),e.jsx("th",{className:"text-left p-2",children:s("finance.invoice","Invoice")}),e.jsx("th",{className:"text-left p-2",children:s("finance.client","Client")}),e.jsx("th",{className:"text-left p-2",children:s("finance.amount","Amount")}),e.jsx("th",{className:"text-left p-2",children:s("finance.payment_method","Method")}),e.jsx("th",{className:"text-left p-2",children:s("finance.payment_date","Date")}),e.jsx("th",{className:"text-left p-2",children:s("common.status","Status")}),e.jsx("th",{className:"text-left p-2",children:s("common.actions","Actions")})]})}),e.jsx("tbody",{children:c.data.map(t=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"p-2",children:e.jsx(o,{href:a("finance.payments.show",t.id),className:"text-blue-600 hover:underline font-medium",children:t.payment_number})}),e.jsx("td",{className:"p-2",children:t.invoice?e.jsxs(o,{href:a("finance.invoices.show",t.invoice.id),className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx($,{className:"h-4 w-4"}),t.invoice.invoice_number]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx("td",{className:"p-2",children:t.payable?e.jsx("span",{className:"font-medium",children:t.payable.name}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx("td",{className:"p-2 font-medium",children:E(t.amount,t.account.currency)}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[M(t.payment_method),e.jsx("span",{children:d&&d[t.payment_method]||t.payment_method})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"}),new Date(t.payment_date).toLocaleDateString()]})}),e.jsx("td",{className:"p-2",children:e.jsxs(Y,{className:L(t.status),variant:"secondary",children:[e.jsx("span",{className:"mr-1",children:H(t.status)}),m&&m[t.status]||t.status]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{href:a("finance.payments.edit",t.id),children:e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(te,{className:"h-4 w-4 mr-1"}),s("common.edit","Edit")]})}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>B(t.id),className:"text-red-600",children:[e.jsx(se,{className:"h-4 w-4 mr-1"}),s("common.delete","Delete")]})]})})]},t.id))})]})}),c.last_page>1&&e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",c.from," to ",c.to," of ",c.total," payments"]}),e.jsx("div",{className:"flex gap-1",children:(S=c.links)==null?void 0:S.map((t,r)=>t.url===null?e.jsx(n,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:t.label}},r):e.jsx(o,{href:t.url,children:e.jsx(n,{variant:t.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:t.label}})},r))})]})]})]})})})]})}export{Ye as default};
