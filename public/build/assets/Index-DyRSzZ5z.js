import{r as y,j as e,S,A as C}from"./app-BMIA6nir.js";import{A as T,L as M}from"./AppLayout-DbMk6clK.js";import{C as a,a as c,b as l,c as d,d as n}from"./card-BAsSN-2Z.js";import{B as f}from"./createLucideIcon-Cg8jdX0w.js";import{S as E,a as O,b as k,c as L,d as m}from"./select-B6KOX9nY.js";import{B as o}from"./x-C3KwZK3B.js";import{u as A}from"./useTranslate-ER5gAOX6.js";import{D as v}from"./download-CNZP3fGS.js";import{F as z}from"./file-text-D25AipK4.js";import{E as g}from"./eye-DdivFxyT.js";import{I as B}from"./image-Ct2miMof.js";import{S as P}from"./search-_p1CX5vB.js";import{T as F}from"./trending-up-00s2SIxN.js";import{C as I}from"./clock-BTinGqFV.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Le({analytics:r,dateRange:N}){const{t}=A(),[x,_]=y.useState(N.period),w=s=>{_(s),C.get(route("cms.analytics"),{period:s},{preserveState:!0,replace:!0})},h=s=>{window.open(route("cms.analytics.export",{format:s,period:x}),"_blank")},j=s=>{const i=["Bytes","KB","MB","GB"];if(s===0)return"0 Bytes";const u=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,u)*100)/100+" "+i[u]},p=s=>{switch(s){case"published":return"bg-green-500";case"draft":return"bg-yellow-500";case"scheduled":return"bg-blue-500";case"archived":return"bg-gray-500";default:return"bg-gray-500"}},b=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600";return e.jsxs(T,{children:[e.jsx(S,{title:t("cms.analytics","CMS Analytics")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("cms.analytics","CMS Analytics")}),e.jsx("p",{className:"text-muted-foreground",children:t("cms.analytics_description","View content performance and statistics")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{value:x,onValueChange:w,children:[e.jsx(O,{className:"w-40",children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(m,{value:"7d",children:t("cms.last_7_days","Last 7 days")}),e.jsx(m,{value:"30d",children:t("cms.last_30_days","Last 30 days")}),e.jsx(m,{value:"90d",children:t("cms.last_90_days","Last 90 days")}),e.jsx(m,{value:"1y",children:t("cms.last_year","Last year")})]})]}),e.jsxs(f,{variant:"outline",onClick:()=>h("csv"),children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),t("cms.export_csv","Export CSV")]}),e.jsxs(f,{variant:"outline",onClick:()=>h("json"),children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),t("cms.export_json","Export JSON")]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("cms.total_pages","Total Pages")}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.overview.total_pages}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",r.overview.new_pages]})," new this period"]})]})]}),e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("cms.total_views","Total Views")}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.overview.total_views.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.overview.published_pages," published pages"]})]})]}),e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("cms.media_files","Media Files")}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.overview.total_media}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[j(r.overview.media_size)," total"]})]})]}),e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("cms.redirects","Redirects")}),e.jsx(M,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.overview.active_redirects}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.overview.redirect_hits," total hits"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsx(l,{children:t("cms.content_distribution","Content Distribution")}),e.jsx(n,{children:t("cms.content_by_status_description","Content breakdown by status")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(r.content.by_status).map(([s,i])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${p(s)}`}),e.jsx("span",{className:"text-sm capitalize",children:s})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${p(s)}`,style:{width:`${i/r.overview.total_pages*100}%`}})}),e.jsx("span",{className:"text-sm font-medium w-8 text-right",children:i})]})]},s))})})]}),e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),t("cms.seo_overview","SEO Overview")]}),e.jsx(n,{children:t("cms.seo_score_distribution","SEO score distribution across pages")})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${b(r.seo.average_score)}`,children:[r.seo.average_score,"/100"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average SEO Score"})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(r.seo.score_distribution).map(([s,i])=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"capitalize",children:s.replace("_"," ")}),e.jsx(o,{variant:"outline",children:i})]},s))})]})})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),t("cms.top_pages","Top Pages")]}),e.jsx(n,{children:t("cms.most_viewed_pages","Most viewed pages")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:r.performance.top_pages.slice(0,8).map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["/",s.slug]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(g,{className:"h-3 w-3"}),s.views]})]},i))})})]}),e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsx(l,{children:t("cms.seo_issues","SEO Issues")}),e.jsx(n,{children:t("cms.common_seo_problems","Common SEO problems found")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(r.seo.issues).map(([s,i])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:s.replace("_"," ")}),e.jsx(o,{variant:i>0?"destructive":"secondary",children:i})]},s))})})]}),e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsx(l,{children:t("cms.media_usage","Media Usage")}),e.jsx(n,{children:t("cms.media_breakdown","Media files breakdown")})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.media.storage.total_files}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Files"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.media.unused_count}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Unused"})]})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(r.media.by_type).map(([s,i])=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"capitalize",children:s}),e.jsx("span",{className:"font-medium",children:i})]},s))}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Size: ",j(r.media.storage.total_size)]})})]})})]})]}),e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),t("cms.performance_metrics","Performance Metrics")]}),e.jsx(n,{children:t("cms.page_load_performance","Page load performance statistics")})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.performance.page_load_times.average,"s"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Load Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.performance.page_load_times.median,"s"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Median Load Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.performance.page_load_times.p95,"s"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"95th Percentile"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.performance.avg_content_length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Content Length"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsx(l,{children:t("cms.traffic_sources","Traffic Sources")}),e.jsx(n,{children:t("cms.traffic_breakdown","Traffic source breakdown")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(r.traffic.sources).map(([s,i])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm capitalize",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${i}%`}})}),e.jsxs("span",{className:"text-sm font-medium w-8 text-right",children:[i,"%"]})]})]},s))})})]}),e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsx(l,{children:t("cms.top_redirects","Top Redirects")}),e.jsx(n,{children:t("cms.most_used_redirects","Most frequently used redirects")})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:r.traffic.redirects.top_redirects.slice(0,5).map((s,i)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:s.from_url}),e.jsxs(o,{variant:"outline",children:[s.hit_count," hits"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["→ ",s.to_url]})]},i))})})]})]})]})]})}export{Le as default};
