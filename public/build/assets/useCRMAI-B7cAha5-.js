import{r as c}from"./app-BMIA6nir.js";import{t as r}from"./index-Dj2TB_RL.js";function w(){const[i,n]=c.useState(!1);return{loading:i,getLeadInsights:async o=>{var t;n(!0);try{const s=await(await fetch(route("crm.leads.ai-insights"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify(o)})).json();return s.success?s.insights:(r.error("Failed to get AI insights"),null)}catch(e){return console.error("Error getting lead insights:",e),r.error("Error getting AI insights"),null}finally{n(!1)}},generateEmailTemplate:async(o,t={},e={})=>{var s;n(!0);try{const l=await(await fetch(route("crm.leads.generate-email"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""},body:JSON.stringify({purpose:o,lead_data:t,context:e})})).json();return l.success?(r.success("Email template generated successfully!"),l.template):(r.error(l.message||"Failed to generate email template"),null)}catch(a){return console.error("Error generating email template:",a),r.error("Error generating email template"),null}finally{n(!1)}},analyzeSentiment:async(o,t="general")=>{var e;n(!0);try{const a=await(await fetch(route("crm.communications.analyze-sentiment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.getAttribute("content"))||""},body:JSON.stringify({content:o,type:t})})).json();return a.success?a.analysis:(r.error(a.message||"Failed to analyze sentiment"),null)}catch(s){return console.error("Error analyzing sentiment:",s),r.error("Error analyzing sentiment"),null}finally{n(!1)}},getFollowUpRecommendations:async o=>{n(!0);try{const e=await(await fetch(route("crm.leads.follow-up-recommendations",o))).json();return e.success?e.recommendations:(r.error(e.message||"Failed to get follow-up recommendations"),null)}catch(t){return console.error("Error getting follow-up recommendations:",t),r.error("Error getting follow-up recommendations"),null}finally{n(!1)}},getConversionPrediction:async o=>{n(!0);try{const e=await(await fetch(route("crm.leads.conversion-prediction",o))).json();return e.success?e.prediction:(r.error(e.message||"Failed to get conversion prediction"),null)}catch(t){return console.error("Error getting conversion prediction:",t),r.error("Error getting conversion prediction"),null}finally{n(!1)}},analyzeClientHealth:async o=>{n(!0);try{const e=await(await fetch(route("crm.clients.health-analysis",o))).json();return e.success?e.analysis:(r.error(e.message||"Failed to analyze client health"),null)}catch(t){return console.error("Error analyzing client health:",t),r.error("Error analyzing client health"),null}finally{n(!1)}},generateCommunicationEmailTemplate:async(o,t={})=>{var e;n(!0);try{const a=await(await fetch(route("crm.communications.generate-email-template"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.getAttribute("content"))||""},body:JSON.stringify({purpose:o,context:t})})).json();return a.success?(r.success("Email template generated successfully!"),a.template):(r.error(a.message||"Failed to generate email template"),null)}catch(s){return console.error("Error generating email template:",s),r.error("Error generating email template"),null}finally{n(!1)}}}}export{w as u};
