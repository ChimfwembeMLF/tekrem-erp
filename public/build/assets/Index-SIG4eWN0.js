import{j as e,S as _,x as F,A as m,u as D}from"./app-BMIA6nir.js";import{C as P}from"./CustomerLayout-7LFTkDxI.js";import{C as r,a as c,b as i,c as l}from"./card-BAsSN-2Z.js";import{B as A}from"./x-C3KwZK3B.js";import{B as o}from"./createLucideIcon-Cg8jdX0w.js";import{I}from"./input-Bg5GDATO.js";import{S as M,a as T,b as B,c as V,d}from"./select-B6KOX9nY.js";import{P as H}from"./progress-BgfGBUAj.js";import{F as f}from"./NotificationComponent-CHA3vjZG.js";import{C as p}from"./clock-BTinGqFV.js";import{C as N}from"./circle-check-big-DCsv6rXk.js";import{P as g}from"./pause-DQg-zhyH.js";import{F as k}from"./funnel-v8IwREza.js";import{S as E}from"./search-_p1CX5vB.js";import{C as L}from"./calendar-DTsvo4Hi.js";import{U as O}from"./users-3SuyoAg3.js";import{E as U}from"./eye-DdivFxyT.js";import{C as z}from"./circle-alert-DVIk47WR.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./file-text-D25AipK4.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function ye({projects:t,stats:n,filters:a}){var h,u;const v=s=>{s.preventDefault();const C=new FormData(s.currentTarget).get("search"),S=D();m.get(S("customer.projects.index"),{...a,search:C||void 0},{preserveState:!0,replace:!0})},w=s=>{m.get(route("customer.projects.index"),{...a,status:s==="all"?void 0:s},{preserveState:!0,replace:!0})},y=s=>{switch(s){case"active":return e.jsx(p,{className:"h-4 w-4"});case"completed":return e.jsx(N,{className:"h-4 w-4"});case"on_hold":return e.jsx(g,{className:"h-4 w-4"});default:return e.jsx(z,{className:"h-4 w-4"})}},b=s=>{switch(s){case"active":return"default";case"completed":return"secondary";case"on_hold":return"outline";default:return"destructive"}},x=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(P,{children:[e.jsx(_,{title:"My Projects"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Track progress and manage your active projects"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Projects"}),e.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.total})})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Active"}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.active})})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Completed"}),e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.completed})})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"On Hold"}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.on_hold})})]})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("form",{onSubmit:v,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(I,{name:"search",placeholder:"Search projects...",defaultValue:a.search||"",className:"pl-10"})]})}),e.jsxs(M,{value:a.status||"all",onValueChange:w,children:[e.jsx(T,{className:"w-full sm:w-48",children:e.jsx(B,{placeholder:"Filter by status"})}),e.jsxs(V,{children:[e.jsx(d,{value:"all",children:"All Status"}),e.jsx(d,{value:"active",children:"Active"}),e.jsx(d,{value:"completed",children:"Completed"}),e.jsx(d,{value:"on_hold",children:"On Hold"})]})]})]})})]}),((h=t.data)==null?void 0:h.length)>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:(u=t.data)==null?void 0:u.map(s=>e.jsxs(r,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(c,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{className:"text-lg",children:s.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(A,{variant:b(s.status),children:[y(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status.replace("_"," ")})]})})]})})}),e.jsxs(l,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(H,{value:s.progress,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsxs("span",{children:[x(s.start_date)," - ",x(s.end_date)]})]}),s.teamMembers.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.teamMembers.length," team member",s.teamMembers.length!==1?"s":""]})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx(F,{href:route("customer.projects.show",s.id),children:e.jsxs(o,{className:"w-full",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"View Details"]})})})]})]},s.id))}):e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(f,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No projects found"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:a.search||a.status?"No projects match your current filters.":"You don't have any projects yet."}),(a.search||a.status)&&e.jsx(o,{variant:"outline",onClick:()=>m.get(route("customer.projects.index")),children:"Clear Filters"})]})}),t.data.length>0&&t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.from," to ",t.to," of ",t.total," projects"]}),e.jsx("div",{className:"flex items-center space-x-2",children:t.links.map((s,j)=>e.jsx(o,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&m.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},j))})]})]})]})}export{ye as default};
