import{u as f,r as c,G as x,j as e,S as h}from"./app-BMIA6nir.js";import{A as v,F as l,a as g}from"./AuthButton-ByHmwx1d.js";import"./checkbox-B8CiFAgv.js";import"./label-CM6YsqH1.js";import{K as j}from"./key-Qw2I2-NE.js";import{c as b}from"./createLucideIcon-Cg8jdX0w.js";import"./card-BAsSN-2Z.js";import"./input-Bg5GDATO.js";import"./loader-circle-BUEefOfS.js";import"./index-DdwO_6Rs.js";import"./index-BN56TOeV.js";import"./index-BDIc0y8N.js";import"./index-DgfI6AGt.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],R=b("key-round",C);function I(){const d=f(),[r,m]=c.useState(!1),o=x({code:"",recovery_code:""}),n=c.useRef(null),a=c.useRef(null);function p(t){t.preventDefault();const s=!r;m(s),setTimeout(()=>{var i,u;s?((i=n.current)==null||i.focus(),o.setData("code","")):((u=a.current)==null||u.focus(),o.setData("recovery_code",""))},100)}function y(t){t.preventDefault(),o.post(d("two-factor.login"))}return e.jsxs(v,{title:"Two-Factor Authentication",description:r?"Enter your emergency recovery code to continue.":"Enter the code from your authenticator app.",children:[e.jsx(h,{title:"Two-Factor Confirmation"}),e.jsx("div",{className:"mb-6 flex items-center gap-2 p-4 text-sm border rounded bg-blue-50 text-blue-700 border-blue-200",children:r?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{children:"Please confirm access to your account by entering one of your emergency recovery codes."})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{children:"Please confirm access to your account by entering the authentication code provided by your authenticator application."})]})}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r?e.jsx(l,{label:"Recovery Code",id:"recovery_code",type:"text",value:o.data.recovery_code,onChange:t=>o.setData("recovery_code",t.currentTarget.value),error:o.errors.recovery_code,ref:n,autoComplete:"one-time-code"}):e.jsx(l,{label:"Authentication Code",id:"code",type:"text",inputMode:"numeric",value:o.data.code,onChange:t=>o.setData("code",t.currentTarget.value),error:o.errors.code,autoFocus:!0,autoComplete:"one-time-code",ref:a}),e.jsxs("div",{className:"flex flex-col space-y-4 pt-2",children:[e.jsx(g,{type:"submit",isLoading:o.processing,loadingText:"Verifying...",children:"Verify and Log in"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-primary underline underline-offset-4 transition-colors",onClick:p,children:r?"Use an authentication code":"Use a recovery code"})})]})]})]})}export{I as default};
