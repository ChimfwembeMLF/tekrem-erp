import{r as w,j as e,S as C}from"./app-BMIA6nir.js";import{A as S,C as A}from"./AppLayout-DbMk6clK.js";import{C as r,a as i,b as a,c as l,d as j}from"./card-BAsSN-2Z.js";import{B as F}from"./createLucideIcon-Cg8jdX0w.js";import{S as T,a as k,b as L,c as P,d as x}from"./select-B6KOX9nY.js";import{u as R}from"./useTranslate-ER5gAOX6.js";import{D as B}from"./download-CNZP3fGS.js";import{C as D}from"./clock-BTinGqFV.js";import{C as $}from"./circle-check-big-DCsv6rXk.js";import{T as E}from"./target-DIhftedx.js";import{R as u,C as K,X as V,Y as q,T as f,B as I,a as O}from"./generateCategoricalChart-71Idvjih.js";import{B as U}from"./BarChart-DEKLa_g_.js";import{U as X}from"./users-3SuyoAg3.js";import{P as Y,a as G}from"./PieChart-CoJ2J4Cg.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./tiny-invariant-BaFNuDhB.js";function Ye({dateRange:H,ticketMetrics:d,performanceMetrics:o,agentPerformance:g,categoryAnalytics:v,slaCompliance:N,satisfactionMetrics:n,knowledgeBaseMetrics:p}){const{t}=R(),[_,y]=w.useState("30"),h=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],c=s=>{if(s<60)return`${Math.round(s)}m`;const m=Math.floor(s/60),b=Math.round(s%60);return`${m}h ${b}m`};return e.jsxs(S,{children:[e.jsx(C,{title:t("support.analytics","Support Analytics")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("support.analytics","Support Analytics")}),e.jsx("p",{className:"text-muted-foreground",children:t("support.analytics_description","Comprehensive support performance insights")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{value:_,onValueChange:y,children:[e.jsx(k,{className:"w-40",children:e.jsx(L,{})}),e.jsxs(P,{children:[e.jsx(x,{value:"7",children:t("common.last_7_days","Last 7 days")}),e.jsx(x,{value:"30",children:t("common.last_30_days","Last 30 days")}),e.jsx(x,{value:"90",children:t("common.last_90_days","Last 90 days")}),e.jsx(x,{value:"365",children:t("common.last_year","Last year")})]})]}),e.jsxs(F,{variant:"outline",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),t("common.export","Export")]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:t("support.total_tickets","Total Tickets")}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.total}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.open," open, ",d.overdue," overdue"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:t("support.avg_response_time","Avg Response Time")}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(o.avg_response_time)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["SLA: ",o.first_response_sla_met.toFixed(1),"% met"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:t("support.avg_resolution_time","Avg Resolution Time")}),e.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(o.avg_resolution_time)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["SLA: ",o.resolution_sla_met.toFixed(1),"% met"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:t("support.satisfaction_rating","Satisfaction Rating")}),e.jsx(E,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[n.avg_rating.toFixed(1),"/5"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.satisfaction_rate.toFixed(1),"% satisfied"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(a,{children:t("support.tickets_by_priority","Tickets by Priority")})}),e.jsx(l,{children:e.jsx(u,{width:"100%",height:300,children:e.jsxs(U,{data:d.by_priority,children:[e.jsx(K,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"priority"}),e.jsx(q,{}),e.jsx(f,{}),e.jsx(I,{dataKey:"count",fill:"#8884d8"})]})})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(a,{children:t("support.sla_compliance","SLA Compliance")})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:N.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{className:"font-medium",children:[s.compliance_percentage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${s.compliance_percentage>=95?"bg-green-500":s.compliance_percentage>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.compliance_percentage}%`}})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.tickets_count," tickets"]})]},s.id))})})]})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(a,{children:t("support.agent_performance","Agent Performance")}),e.jsx(j,{children:t("support.agent_performance_description","Individual agent metrics and performance")})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:g.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(X,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.tickets_assigned," assigned, ",s.tickets_resolved," resolved"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[s.resolution_rate.toFixed(1),"% resolution rate"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Avg: ",c(s.avg_resolution_time)]})]})]},s.id))})})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(a,{children:t("support.category_performance","Category Performance")}),e.jsx(j,{children:t("support.category_performance_description","Performance metrics by ticket category")})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:v.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.total_tickets," total tickets"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[s.resolution_rate.toFixed(1),"% resolved"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Avg: ",c(s.avg_resolution_time)]})]})]},s.id))})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(a,{children:t("support.knowledge_base_stats","Knowledge Base Statistics")})}),e.jsx(l,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.total_articles}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t("support.articles","Articles")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.total_faqs}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t("support.faqs","FAQs")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.total_views}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t("support.total_views","Total Views")})]})]})})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(a,{children:t("support.satisfaction_distribution","Satisfaction Distribution")})}),e.jsx(l,{children:e.jsx(u,{width:"100%",height:200,children:e.jsxs(Y,{children:[e.jsx(G,{data:n.rating_distribution,cx:"50%",cy:"50%",labelLine:!1,label:({satisfaction_rating:s})=>`${s} ⭐`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:n.rating_distribution.map((s,m)=>e.jsx(O,{fill:h[m%h.length]},`cell-${m}`))}),e.jsx(f,{})]})})})]})]})]})]})}export{Ye as default};
