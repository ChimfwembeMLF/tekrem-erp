import{r as w,j as e,S as F,A as c,x as C}from"./app-BMIA6nir.js";import{A as L,N as j}from"./AppLayout-DbMk6clK.js";import{C as x,a as b,b as y,c as h,d as B}from"./card-BAsSN-2Z.js";import{B as i}from"./createLucideIcon-Cg8jdX0w.js";import{I as P}from"./input-Bg5GDATO.js";import{S as V,a as H,b as Q,c as U,d as _}from"./select-B6KOX9nY.js";import{B as $}from"./x-C3KwZK3B.js";import{C as q}from"./checkbox-B8CiFAgv.js";import{D as K,a as O,b as R,c as m,g as S}from"./NotificationComponent-CHA3vjZG.js";import{u as G}from"./useTranslate-ER5gAOX6.js";import{U as J}from"./upload-DoO0wQwa.js";import{P as k}from"./plus-BjPf5uI-.js";import{F as W}from"./funnel-v8IwREza.js";import{S as X}from"./search-_p1CX5vB.js";import{T as D}from"./trash-2-DZc0jDKK.js";import{E as Y}from"./ellipsis-DJ3pNpl6.js";import{E as M}from"./eye-DdivFxyT.js";import{S as A}from"./square-pen-CReBrXbl.js";import{C as Z}from"./copy-XqgUo3o3.js";import{D as ee}from"./download-CNZP3fGS.js";import{L as se}from"./list-4SH12gn-.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function rs({menus:l,locations:f,filters:d}){const{t}=G(),[o,p]=w.useState([]),[v,E]=w.useState(d.search||""),g=()=>{c.get(route("cms.menus.index"),{...d,search:v},{preserveState:!0,replace:!0})},z=(s,a)=>{c.get(route("cms.menus.index"),{...d,[s]:a||void 0},{preserveState:!0,replace:!0})},u=s=>{o.length!==0&&c.post(route("cms.menus.bulk-action"),{action:s,menu_ids:o},{onSuccess:()=>{p([])}})},n=(s,a)=>{switch(a){case"edit":c.visit(route("cms.menus.edit",s));break;case"view":c.visit(route("cms.menus.show",s));break;case"duplicate":c.post(route("cms.menus.duplicate",s));break;case"export":window.open(route("cms.menus.export",s),"_blank");break;case"delete":confirm(t("cms.confirm_delete_menu","Are you sure you want to delete this menu?"))&&c.delete(route("cms.menus.destroy",s));break}},I=s=>new Date(s).toLocaleDateString(),N=(s,a=0)=>s.map(r=>e.jsxs("div",{className:`${a>0?"ml-4 border-l pl-4":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r.is_active?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm",children:r.title}),r.url&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r.url,")"]})]}),r.children&&r.children.length>0&&e.jsx("div",{className:"mt-1",children:N(r.children,a+1)})]},r.id));return e.jsxs(L,{children:[e.jsx(F,{title:t("cms.menus","Menus")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("cms.menus","Menus")}),e.jsx("p",{className:"text-muted-foreground",children:t("cms.menus_description","Manage site navigation and menus")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs("label",{htmlFor:"import-menu",className:"cursor-pointer",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),t("cms.import_menu","Import Menu")]})}),e.jsx("input",{id:"import-menu",type:"file",accept:".json",className:"hidden",onChange:s=>{var a;if((a=s.target.files)!=null&&a[0]){const r=new FormData;r.append("menu_file",s.target.files[0]),c.post(route("cms.menus.import"),r)}}}),e.jsx(i,{asChild:!0,children:e.jsxs(C,{href:route("cms.menus.create"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),t("cms.create_menu","Create Menu")]})})]})]}),e.jsxs(x,{children:[e.jsx(b,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),t("common.filters","Filters")]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{placeholder:t("cms.search_menus","Search menus..."),value:v,onChange:s=>E(s.target.value),onKeyPress:s=>s.key==="Enter"&&g()}),e.jsx(i,{variant:"outline",onClick:g,children:e.jsx(X,{className:"h-4 w-4"})})]})}),e.jsxs(V,{value:d.location||"all",onValueChange:s=>z("location",s==="all"?"":s),children:[e.jsx(H,{children:e.jsx(Q,{placeholder:t("cms.all_locations","All locations")})}),e.jsxs(U,{children:[e.jsx(_,{value:"all",children:t("cms.all_locations","All locations")}),Object.entries(f).map(([s,a])=>e.jsx(_,{value:s,children:a},s))]})]})]})})]}),o.length>0&&e.jsx(x,{children:e.jsx(h,{className:"py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.length," ",t("cms.menus_selected","menus selected")]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>u("activate"),children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),t("cms.activate","Activate")]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>u("deactivate"),children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),t("cms.deactivate","Deactivate")]}),e.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>u("delete"),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),t("common.delete","Delete")]})]})]})})}),e.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:l.data.map(s=>e.jsxs(x,{className:"group hover:shadow-md transition-shadow",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{checked:o.includes(s.id),onCheckedChange:a=>{p(a?r=>[...r,s.id]:r=>r.filter(T=>T!==s.id))}}),e.jsxs("div",{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[s.name,e.jsx($,{variant:s.is_active?"default":"secondary",children:s.is_active?t("cms.active","Active"):t("cms.inactive","Inactive")})]}),e.jsx(B,{children:s.description})]})]}),e.jsxs(K,{children:[e.jsx(O,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsxs(R,{align:"end",children:[e.jsxs(m,{onClick:()=>n(s.id,"view"),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),t("common.view","View")]}),e.jsxs(m,{onClick:()=>n(s.id,"edit"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),t("common.edit","Edit")]}),e.jsx(S,{}),e.jsxs(m,{onClick:()=>n(s.id,"duplicate"),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),t("cms.duplicate","Duplicate")]}),e.jsxs(m,{onClick:()=>n(s.id,"export"),children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),t("cms.export","Export")]}),e.jsx(S,{}),e.jsxs(m,{onClick:()=>n(s.id,"delete"),className:"text-destructive",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),t("common.delete","Delete")]})]})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:t("cms.location","Location")}),e.jsx("div",{className:"font-medium",children:f[s.location]||s.location})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:t("cms.items","Items")}),e.jsx("div",{className:"font-medium",children:s.items_count})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:t("cms.created_by","Created by")}),e.jsx("div",{className:"font-medium",children:s.created_by.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:t("cms.created_at","Created")}),e.jsx("div",{className:"font-medium",children:I(s.created_at)})]})]}),s.items&&s.items.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),t("cms.menu_items","Menu Items")]}),e.jsxs("div",{className:"max-h-32 overflow-y-auto border rounded p-2 bg-gray-50",children:[N(s.items.slice(0,5)),s.items.length>5&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["+",s.items.length-5," more items"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(s.id,"view"),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),t("common.view","View")]}),e.jsxs(i,{size:"sm",className:"flex-1",onClick:()=>n(s.id,"edit"),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),t("common.edit","Edit")]})]})]})})]},s.id))}),l.data.length===0&&e.jsx(x,{children:e.jsxs(h,{className:"text-center py-8",children:[e.jsx(j,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:t("cms.no_menus_found","No menus found")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("cms.create_first_menu","Create your first menu to get started")}),e.jsx(i,{asChild:!0,children:e.jsxs(C,{href:route("cms.menus.create"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),t("cms.create_menu","Create Menu")]})})]})}),l.links&&l.data.length>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",l.from||0," to ",l.to||0," of ",l.total||0," results"]}),e.jsx("div",{className:"flex gap-2",children:l.links.map((s,a)=>e.jsx(i,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&c.visit(s.url),dangerouslySetInnerHTML:{__html:s.label}},a))})]})]})]})}export{rs as default};
