import{r as l,u as p,G as f,j as s}from"./app-BMIA6nir.js";import{A as g,D as a,T as w,I as j,a as v,c as y}from"./SecondaryButton-CpjXw7yt.js";import{A as N}from"./ActionMessage-BHW7rjd8.js";import{P as c}from"./PrimaryButton-DpJmRNkC.js";import"./transition-Dyv_LKQb.js";import"./with-selector-CvGlte-K.js";function M({sessions:n}){const[d,i]=l.useState(!1),u=p(),r=l.useRef(null),o=f({password:""});function h(){i(!0),setTimeout(()=>{var e;return(e=r.current)==null?void 0:e.focus()},250)}function m(){o.delete(u("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>t(),onError:()=>{var e;return(e=r.current)==null?void 0:e.focus()},onFinish:()=>o.reset()})}function t(){i(!1),o.reset()}return s.jsxs(g,{title:"Browser Sessions",description:"Manage and log out your active sessions on other browsers and devices.",children:[s.jsx("div",{className:"max-w-xl text-sm text-gray-600",children:"If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password."}),n.length>0?s.jsx("div",{className:"mt-5 space-y-6",children:n.map((e,x)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{children:e.agent.is_desktop?s.jsx("svg",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-8 h-8 text-gray-500",children:s.jsx("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-gray-500",children:[s.jsx("path",{d:"M0 0h24v24H0z",stroke:"none"}),s.jsx("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"}),s.jsx("path",{d:"M11 5h2M12 17v.01"})]})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[e.agent.platform," - ",e.agent.browser]}),s.jsx("div",{children:s.jsxs("div",{className:"text-xs text-gray-500",children:[e.ip_address,",",e.is_current_device?s.jsx("span",{className:"text-green-500 font-semibold",children:"This device"}):s.jsxs("span",{children:["Last active ",e.last_active]})]})})]})]},x))}):null,s.jsxs("div",{className:"flex items-center mt-5",children:[s.jsx(c,{onClick:h,children:"Log Out Other Browser Sessions"}),s.jsx(N,{on:o.recentlySuccessful,className:"ml-3",children:"Done."})]}),s.jsxs(a,{isOpen:d,onClose:t,children:[s.jsxs(a.Content,{title:"Log Out Other Browser Sessions",children:["Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices.",s.jsxs("div",{className:"mt-4",children:[s.jsx(w,{type:"password",className:"mt-1 block w-3/4",placeholder:"Password",ref:r,value:o.data.password,onChange:e=>o.setData("password",e.currentTarget.value)}),s.jsx(j,{message:o.errors.password,className:"mt-2"})]})]}),s.jsxs(a.Footer,{children:[s.jsx(v,{onClick:t,children:"Cancel"}),s.jsx(c,{onClick:m,className:y("ml-2",{"opacity-25":o.processing}),disabled:o.processing,children:"Log Out Other Browser Sessions"})]})]})]})}export{M as default};
