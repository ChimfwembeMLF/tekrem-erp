import{j as e,S as A,x as n,A as h,u as V}from"./app-BMIA6nir.js";import{C as M}from"./CustomerLayout-7LFTkDxI.js";import{C as l,a as c,b as i,d as p,c as o}from"./card-BAsSN-2Z.js";import{B as u,U as H}from"./x-C3KwZK3B.js";import{B as x}from"./createLucideIcon-Cg8jdX0w.js";import{I as L}from"./input-Bg5GDATO.js";import{S as g,a as f,b as N,c as v,d as a}from"./select-B6KOX9nY.js";import{P as w}from"./plus-BjPf5uI-.js";import{B as R}from"./book-B8h2_Mez.js";import{C as q}from"./users-3SuyoAg3.js";import{T as b}from"./ticket-B_Ks_Sjf.js";import{C}from"./circle-alert-DVIk47WR.js";import{C as S}from"./clock-BTinGqFV.js";import{C as y}from"./circle-check-big-DCsv6rXk.js";import{S as E}from"./search-_p1CX5vB.js";import{C as G}from"./calendar-DTsvo4Hi.js";import{M as U}from"./message-square-32k9udjC.js";import{E as z}from"./eye-DdivFxyT.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./NotificationComponent-CHA3vjZG.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./log-out-B525vUfE.js";import"./file-text-D25AipK4.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";function ye({tickets:t,stats:d,filters:r}){const _=s=>{s.preventDefault();const I=new FormData(s.currentTarget).get("search"),P=V();h.get(P("customer.support.index"),{...r,search:I||void 0},{preserveState:!0,replace:!0})},j=(s,m)=>{h.get(route("customer.support.index"),{...r,[s]:m==="all"?void 0:m},{preserveState:!0,replace:!0})},T=s=>{switch(s){case"resolved":case"closed":return e.jsx(y,{className:"h-4 w-4"});case"in_progress":return e.jsx(S,{className:"h-4 w-4"});case"open":return e.jsx(C,{className:"h-4 w-4"});default:return e.jsx(b,{className:"h-4 w-4"})}},B=s=>{switch(s){case"resolved":case"closed":return"secondary";case"in_progress":return"default";case"open":return"destructive";default:return"outline"}},D=s=>{switch(s){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},F=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(M,{children:[e.jsx(A,{title:"Support Portal"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Support Portal"}),e.jsx("p",{className:"text-muted-foreground",children:"Get help and manage your support tickets"})]}),e.jsx(n,{href:route("customer.support.create"),children:e.jsxs(x,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Create Ticket"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(n,{href:route("customer.support.create"),children:e.jsx(l,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-lg",children:"Create New Ticket"}),e.jsx(p,{children:"Get help with your issues"})]})]})})})}),e.jsx(n,{href:route("customer.support.knowledge-base.index"),children:e.jsx(l,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(R,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-lg",children:"Knowledge Base"}),e.jsx(p,{children:"Browse helpful articles"})]})]})})})}),e.jsx(n,{href:route("customer.support.faq"),children:e.jsx(l,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(c,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-lg",children:"FAQ"}),e.jsx(p,{children:"Common questions"})]})]})})})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Tickets"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.total})})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Open"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.open})})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"In Progress"}),e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.in_progress})})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Resolved"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.resolved})})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Closed"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.closed})})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"My Tickets"}),e.jsxs(u,{variant:"outline",children:[t.total," total"]})]})}),e.jsxs(o,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(L,{name:"search",placeholder:"Search tickets...",defaultValue:r.search||"",className:"pl-10"})]})}),e.jsxs(g,{value:r.status||"all",onValueChange:s=>j("status",s),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Filter by status"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"open",children:"Open"}),e.jsx(a,{value:"in_progress",children:"In Progress"}),e.jsx(a,{value:"resolved",children:"Resolved"}),e.jsx(a,{value:"closed",children:"Closed"})]})]}),e.jsxs(g,{value:r.priority||"all",onValueChange:s=>j("priority",s),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Filter by priority"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Priorities"}),e.jsx(a,{value:"high",children:"High"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"low",children:"Low"})]})]}),e.jsxs(g,{value:r.category||"all",onValueChange:s=>j("category",s),children:[e.jsx(f,{children:e.jsx(N,{placeholder:"Filter by category"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Categories"}),e.jsx(a,{value:"technical",children:"Technical"}),e.jsx(a,{value:"billing",children:"Billing"}),e.jsx(a,{value:"general",children:"General"})]})]})]}),e.jsx("div",{className:"space-y-4",children:t.data.length>0?t.data.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-2 bg-secondary rounded-lg",children:T(s.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium truncate",children:s.subject}),e.jsx(u,{variant:"outline",className:"text-xs",children:s.ticket_number})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),F(s.created_at)]}),s.assigned_to&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-3 w-3"}),s.assigned_to.name]}),s.responses_count>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),s.responses_count," response",s.responses_count!==1?"s":""]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(u,{variant:B(s.status),children:s.status.replace("_"," ")}),e.jsx(u,{variant:D(s.priority),children:s.priority})]}),e.jsx(n,{href:route("customer.support.tickets.show",s.id),children:e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(z,{className:"h-4 w-4"})})})]})]},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No tickets found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:r.search||r.status||r.priority||r.category?"No tickets match your current filters.":"You haven't created any support tickets yet."}),r.search||r.status||r.priority||r.category?e.jsx(x,{variant:"outline",onClick:()=>h.get(route("customer.support.index")),children:"Clear Filters"}):e.jsx(n,{href:route("customer.support.create"),children:e.jsxs(x,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Create Your First Ticket"]})})]})}),t.data.length>0&&t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t.from," to ",t.to," of ",t.total," tickets"]}),e.jsx("div",{className:"flex items-center space-x-2",children:t.links.map((s,m)=>e.jsx(x,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&h.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},m))})]})]})]})]})]})}export{ye as default};
