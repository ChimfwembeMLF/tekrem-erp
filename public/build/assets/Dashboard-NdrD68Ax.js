import{r as g,j as e,S as C,x as d}from"./app-BMIA6nir.js";import{A as S}from"./AppLayout-DbMk6clK.js";import{C as a,a as r,b as i,c as l,d as x}from"./card-BAsSN-2Z.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{B as h}from"./x-C3KwZK3B.js";import{P as D}from"./progress-BgfGBUAj.js";import{u as B}from"./useTranslate-ER5gAOX6.js";import{S as u}from"./sheet-1SUjjT9Y.js";import{B as N}from"./brain-D-NomhzH.js";import{M as v}from"./message-square-32k9udjC.js";import{F as b}from"./file-text-D25AipK4.js";import{A as I}from"./activity-BI-t7JT3.js";import{C as F}from"./circle-check-big-DCsv6rXk.js";import{C as q}from"./circle-alert-DVIk47WR.js";import{T as P}from"./trending-up-00s2SIxN.js";import{B as y}from"./bot-COuCQh0r.js";import{Z as T}from"./zap-CQoeASxN.js";import"./useTypedPage-hmuARwun.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Ie({stats:o,usageStats:c,recentConversations:j,popularTemplates:p,services:w,dailyUsage:U,usageByOperation:z}){const{t:s}=B(),[R,_]=g.useState(null);g.useEffect(()=>{fetch(route("ai.dashboard.quick-stats")).then(t=>t.json()).then(t=>_(t)).catch(console.error)},[]);const k=t=>{switch(t){case"mistral":return e.jsx(y,{className:"h-4 w-4"});case"openai":return e.jsx(N,{className:"h-4 w-4"});case"anthropic":return e.jsx(T,{className:"h-4 w-4"});default:return e.jsx(y,{className:"h-4 w-4"})}},A=t=>{switch(t){case"mistral":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"openai":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"anthropic":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},f=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}).format(t),m=t=>new Intl.NumberFormat().format(t);return e.jsxs(S,{title:s("ai.dashboard","AI Dashboard"),renderHeader:()=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight","data-testid":"page-title",children:s("ai.dashboard","AI Dashboard")}),e.jsxs("div",{className:"flex gap-2","data-testid":"quick-actions-container",children:[e.jsx(d,{href:route("ai.services.create"),children:e.jsxs(n,{variant:"outline",size:"sm","data-testid":"create-service-button",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),s("ai.create_service","Create Service")]})}),e.jsx(d,{href:route("ai.analytics.dashboard"),children:e.jsxs(n,{size:"sm","data-testid":"analytics-button",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),s("ai.analytics","Analytics")]})})]})]}),children:[e.jsx(C,{title:s("ai.dashboard","AI Dashboard")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4","data-testid":"stats-container",children:[e.jsxs(a,{"data-testid":"total-services-card",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:s("ai.services","Services")}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.total_services}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s("ai.enabled","Enabled")," AI ",s("ai.services","services")]})]})]}),e.jsxs(a,{"data-testid":"total-models-card",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:s("ai.models","Models")}),e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.total_models}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s("ai.active","Active")," AI ",s("ai.models","models")]})]})]}),e.jsxs(a,{"data-testid":"total-conversations-card",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:s("ai.conversations","Conversations")}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.total_conversations}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s("ai.active","Active")," ",s("ai.conversations","conversations")]})]})]}),e.jsxs(a,{"data-testid":"total-usage-card",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:s("ai.prompt_templates","Templates")}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.total_templates}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("ai.prompt_templates","Prompt templates")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{className:"lg:col-span-2",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),s("ai.usage_analytics","Usage Analytics")]}),e.jsx(x,{children:"Last 7 days performance overview"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m(c.total_requests)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("common.requests","Requests")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m(c.total_tokens)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("ai.tokens_used","Tokens")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f(c.total_cost)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("ai.cost","Cost")})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[c.success_rate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("ai.success_rate","Success Rate")})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:s("ai.success_rate","Success Rate")}),e.jsxs("span",{children:[c.success_rate.toFixed(1),"%"]})]}),e.jsx(D,{value:c.success_rate,className:"h-2"})]})]})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),s("ai.services","AI Services")]}),e.jsx(x,{children:s("ai.service_configuration","Service configuration")})]}),e.jsxs(l,{children:[e.jsx("div",{className:"space-y-3",children:w.map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[k(t.provider),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:t.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.models_count," ",s("ai.models","models")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.is_default&&e.jsx(h,{variant:"outline",className:"text-xs",children:s("common.default","Default")}),e.jsx(h,{variant:"outline",className:`text-xs ${A(t.provider)}`,children:t.provider}),t.is_enabled?e.jsx(F,{className:"h-4 w-4 text-green-500"}):e.jsx(q,{className:"h-4 w-4 text-red-500"})]})]},t.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx(d,{href:route("ai.services.index"),children:e.jsx(n,{variant:"outline",size:"sm",className:"w-full",children:s("common.view_all","View All")})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),s("ai.conversation_history","Recent Conversations")]}),e.jsx(x,{children:"Latest AI conversations"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"space-y-3",children:j.length>0?j.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:t.title||"Untitled Conversation"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.user.name," • ",t.ai_model.name]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[t.message_count," messages • ",m(t.total_tokens)," tokens"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(t.last_message_at).toLocaleDateString()}),e.jsx("div",{className:"text-xs font-medium",children:f(t.total_cost)})]})]},t.id)):e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:s("common.no_results","No conversations found")})}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx(d,{href:route("ai.conversations.index"),children:e.jsx(n,{variant:"outline",size:"sm",className:"w-full",children:s("common.view_all","View All")})})})]})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),s("ai.template_library","Popular Templates")]}),e.jsx(x,{children:"Most used prompt templates"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"space-y-3",children:p.length>0?p.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:t.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.category,t.is_system&&e.jsx(h,{variant:"outline",className:"ml-2 text-xs",children:s("common.system","System")}),t.is_public&&e.jsx(h,{variant:"outline",className:"ml-2 text-xs",children:s("common.public","Public")})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:m(t.usage_count)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s("common.uses","uses")})]})]},t.id)):e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:s("common.no_results","No templates found")})}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx(d,{href:route("ai.prompt-templates.index"),children:e.jsx(n,{variant:"outline",size:"sm",className:"w-full",children:s("common.view_all","View All")})})})]})]})]})]})]})}export{Ie as default};
