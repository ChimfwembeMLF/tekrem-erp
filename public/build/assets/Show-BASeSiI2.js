import{u as w,r as v,j as e,S as b,x as d,A as y}from"./app-BMIA6nir.js";import{A as _}from"./AppLayout-DbMk6clK.js";import{C as r,a as l,c as o,b as m,d as k}from"./card-BAsSN-2Z.js";import{B as p,U as C}from"./x-C3KwZK3B.js";import{B as i}from"./createLucideIcon-Cg8jdX0w.js";import{u as S}from"./useTranslate-ER5gAOX6.js";import{A as T}from"./arrow-left-UX2kDF52.js";import{S as A}from"./share-2-cOWypco3.js";import{S as L}from"./square-pen-CReBrXbl.js";import{S as B}from"./star-D4SUxlZH.js";import{C as D}from"./calendar-DTsvo4Hi.js";import{C as E}from"./clock-BTinGqFV.js";import{E as f}from"./eye-DdivFxyT.js";import{T as q}from"./thumbs-up-BgoIjls2.js";import{T as z}from"./thumbs-down-SVKOui9E.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Ae({article:s,relatedArticles:h}){const{t}=S(),c=w(),[n,g]=v.useState(!1),u=a=>{var j;if(n)return;const x=a?"helpful":"not-helpful";fetch(`/support/knowledge-base/${s.id}/${x}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||""}}).then(()=>{g(!0),y.reload({only:["article"]})})},N=a=>{switch(a){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(_,{children:[e.jsx(b,{title:s.title}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{href:c("support.knowledge-base.index"),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),t("common.back","Back")]})})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),t("common.share","Share")]}),e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{href:c("support.knowledge-base.edit",s.id),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),t("common.edit","Edit")]})})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsx(r,{children:e.jsx(l,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(p,{className:N(s.status),variant:"secondary",children:s.status}),s.is_featured&&e.jsxs(p,{variant:"default",children:[e.jsx(B,{className:"h-3 w-3 mr-1"}),"Featured"]}),s.category&&e.jsxs(p,{variant:"outline",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:s.category.color}}),s.category.name]})]}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-4",children:s.title}),s.excerpt&&e.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:s.excerpt}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-4 w-4"}),s.author.name]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),new Date(s.published_at||s.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"h-4 w-4"}),s.reading_time," min read"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"}),s.view_count," views"]})]})]})})})}),e.jsx(r,{children:e.jsx(o,{className:"pt-6",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:s.content.replace(/\n/g,"<br>")}})})})}),e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsx(m,{children:t("support.was_this_helpful","Was this article helpful?")}),e.jsx(k,{children:t("support.feedback_description","Let us know if this article helped you")})]}),e.jsxs(o,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:n?"secondary":"outline",onClick:()=>u(!0),disabled:n,className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),t("common.yes","Yes")," (",s.helpful_count,")"]}),e.jsxs(i,{variant:n?"secondary":"outline",onClick:()=>u(!1),disabled:n,className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),t("common.no","No")," (",s.not_helpful_count,")"]}),s.helpful_count+s.not_helpful_count>0&&e.jsxs("div",{className:"ml-4 text-sm text-muted-foreground",children:[s.helpfulness_ratio,"% found this helpful"]})]}),n&&e.jsx("p",{className:"text-sm text-green-600 mt-2",children:t("support.feedback_thanks","Thank you for your feedback!")})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(m,{children:t("support.article_stats","Article Statistics")})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.views","Views")}),e.jsx("span",{className:"font-medium",children:s.view_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.helpful_votes","Helpful Votes")}),e.jsx("span",{className:"font-medium",children:s.helpful_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.reading_time","Reading Time")}),e.jsxs("span",{className:"font-medium",children:[s.reading_time," min"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.last_updated","Last Updated")}),e.jsx("span",{className:"font-medium",children:new Date(s.updated_at).toLocaleDateString()})]})]})})]}),h.length>0&&e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(m,{children:t("support.related_articles","Related Articles")})}),e.jsx(o,{className:"space-y-3",children:h.map(a=>e.jsx("div",{className:"border-b last:border-b-0 pb-3 last:pb-0",children:e.jsxs(d,{href:c("support.knowledge-base.show",a.id),className:"block hover:text-primary",children:[e.jsx("h4",{className:"font-medium text-sm leading-tight mb-1",children:a.title}),a.excerpt&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.excerpt}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[e.jsx(f,{className:"h-3 w-3"}),a.view_count," views"]})]})},a.id))})]}),s.tags&&s.tags.length>0&&e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(m,{children:t("support.tags","Tags")})}),e.jsx(o,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((a,x)=>e.jsx(p,{variant:"secondary",className:"text-xs",children:a},x))})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(m,{children:t("support.quick_actions","Quick Actions")})}),e.jsxs(o,{className:"space-y-2",children:[e.jsx(i,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsx(d,{href:c("support.tickets.create",{requester_type:"App\\Models\\User",requester_id:1}),children:t("support.create_ticket","Create Support Ticket")})}),e.jsx(i,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsx(d,{href:c("support.knowledge-base.index"),children:t("support.browse_articles","Browse All Articles")})})]})]})]})]})]})]})}export{Ae as default};
