import{u as k,r as A,j as e,S as P,x as o,A as y}from"./app-BMIA6nir.js";import{A as V}from"./AppLayout-DbMk6clK.js";import{C as u,a as F,b as I,c as x}from"./card-BAsSN-2Z.js";import{B as h,U as O}from"./x-C3KwZK3B.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{I as B}from"./input-Bg5GDATO.js";import{S as c,a as d,b as m,c as p,d as t}from"./select-B6KOX9nY.js";import{C as D}from"./checkbox-B8CiFAgv.js";import{u as E}from"./useTranslate-ER5gAOX6.js";import{P as N}from"./plus-BjPf5uI-.js";import{F as R}from"./funnel-v8IwREza.js";import{S as U}from"./search-_p1CX5vB.js";import{T as q}from"./triangle-alert-BWIpgUmg.js";import{C as L}from"./clock-BTinGqFV.js";import{E as z}from"./eye-DdivFxyT.js";import{T as H}from"./ticket-B_Ks_Sjf.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function qe({tickets:g,categories:b,users:w,filters:a}){const{t:r}=E(),l=k(),[j,_]=A.useState(a.search||""),C=s=>{s.preventDefault(),y.get(l("support.tickets.index"),{...a,search:j},{preserveState:!0,replace:!0})},i=(s,f)=>{y.get(l("support.tickets.index"),{...a,[s]:f==="all"?"":f},{preserveState:!0,replace:!0})},S=s=>{switch(s){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=s=>{switch(s){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=s=>s&&new Date(s)<new Date;return e.jsxs(V,{children:[e.jsx(P,{title:r("support.tickets","Support Tickets")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("support.tickets","Support Tickets")}),e.jsx("p",{className:"text-muted-foreground",children:r("support.tickets_description","Manage and track support tickets")})]}),e.jsx(n,{asChild:!0,children:e.jsxs(o,{href:l("support.tickets.create"),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),r("support.create_ticket","Create Ticket")]})})]}),e.jsxs(u,{children:[e.jsx(F,{children:e.jsxs(I,{className:"flex items-center",children:[e.jsx(R,{className:"h-5 w-5 mr-2"}),r("common.filters","Filters")]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[e.jsxs("form",{onSubmit:C,className:"flex gap-2",children:[e.jsx(B,{placeholder:r("common.search","Search..."),value:j,onChange:s=>_(s.target.value),className:"flex-1"}),e.jsx(n,{type:"submit",size:"sm",children:e.jsx(U,{className:"h-4 w-4"})})]}),e.jsxs(c,{value:a.status||"all",onValueChange:s=>i("status",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:r("support.status","Status")})}),e.jsxs(p,{children:[e.jsx(t,{value:"all",children:r("common.all","All")}),e.jsx(t,{value:"open",children:r("support.status_open","Open")}),e.jsx(t,{value:"in_progress",children:r("support.status_in_progress","In Progress")}),e.jsx(t,{value:"pending",children:r("support.status_pending","Pending")}),e.jsx(t,{value:"resolved",children:r("support.status_resolved","Resolved")}),e.jsx(t,{value:"closed",children:r("support.status_closed","Closed")})]})]}),e.jsxs(c,{value:a.priority||"all",onValueChange:s=>i("priority",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:r("support.priority","Priority")})}),e.jsxs(p,{children:[e.jsx(t,{value:"all",children:r("common.all","All")}),e.jsx(t,{value:"low",children:r("support.priority_low","Low")}),e.jsx(t,{value:"medium",children:r("support.priority_medium","Medium")}),e.jsx(t,{value:"high",children:r("support.priority_high","High")}),e.jsx(t,{value:"urgent",children:r("support.priority_urgent","Urgent")})]})]}),e.jsxs(c,{value:a.category_id||"all",onValueChange:s=>i("category_id",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:r("support.category","Category")})}),e.jsxs(p,{children:[e.jsx(t,{value:"all",children:r("common.all","All")}),b.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(c,{value:a.assigned_to||"all",onValueChange:s=>i("assigned_to",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:r("support.assigned_to","Assigned To")})}),e.jsxs(p,{children:[e.jsx(t,{value:"all",children:r("common.all","All")}),e.jsx(t,{value:"unassigned",children:r("support.unassigned","Unassigned")}),w.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{id:"overdue",checked:a.overdue==="true",onCheckedChange:s=>i("overdue",s?"true":"")}),e.jsx("label",{htmlFor:"overdue",className:"text-sm font-medium",children:r("support.overdue_only","Overdue Only")})]})]})})]}),e.jsx("div",{className:"space-y-4",children:g.data.map(s=>e.jsx(u,{className:`hover:shadow-md transition-shadow ${v(s.due_date||"")?"border-red-500":""}`,children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(o,{href:l("support.tickets.show",s.id),className:"text-lg font-semibold hover:text-primary",children:["#",s.ticket_number]}),e.jsx(h,{className:S(s.status),variant:"secondary",children:s.status.replace("_"," ")}),e.jsx(h,{className:T(s.priority),variant:"secondary",children:s.priority}),v(s.due_date||"")&&e.jsxs(h,{variant:"destructive",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.category&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.category.color}}),s.category.name]}),s.assigned_to&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"h-3 w-3"}),s.assigned_to.name]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),new Date(s.created_at).toLocaleDateString()]}),s.requester&&e.jsxs("div",{children:["Requester: ",s.requester.name]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(o,{href:l("support.tickets.show",s.id),children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),r("common.view","View")]})})})]})})},s.id))}),g.data.length===0&&e.jsx(u,{children:e.jsxs(x,{className:"text-center py-8",children:[e.jsx(H,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:r("support.no_tickets","No tickets found")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:r("support.no_tickets_description","Get started by creating your first support ticket.")}),e.jsx(n,{asChild:!0,children:e.jsxs(o,{href:l("support.tickets.create"),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),r("support.create_ticket","Create Ticket")]})})]})})]})]})}export{qe as default};
