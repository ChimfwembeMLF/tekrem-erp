import{r as g,j as e}from"./app-BMIA6nir.js";import{C as I,a as O,b as V,d as oe,c as B}from"./card-BAsSN-2Z.js";import{c as N,B as l}from"./createLucideIcon-Cg8jdX0w.js";import{I as A}from"./input-Bg5GDATO.js";import{L as u}from"./label-CM6YsqH1.js";import{T as ee}from"./textarea-CP26afIU.js";import{S as K,a as G,b as Q,c as W,d as k}from"./select-B6KOX9nY.js";import{S as se}from"./switch-_qD_kSA5.js";import{B as ce,X as pe}from"./x-C3KwZK3B.js";import{T as de,a as me,b as X,c as J}from"./tabs-YflTNJKH.js";import{S as $}from"./separator-DnQonHW9.js";import{L as he}from"./list-4SH12gn-.js";import{C as je}from"./code-CCW4zUdR.js";import{L as xe}from"./link-5UzZl49p.js";import{I as Z}from"./image-Ct2miMof.js";import{V as ue}from"./video-CV7uNjDn.js";import{D as fe,b as ve,c as _e,d as ye,e as Ne}from"./dialog-BAVny-7O.js";import{u as ne}from"./useTranslate-ER5gAOX6.js";import{S as Y}from"./search-_p1CX5vB.js";import{F as we}from"./folder-DidVoRAH.js";import{G as be}from"./grid-3x3-X-imM9-2.js";import{C as te}from"./index-BN56TOeV.js";import{U as ke}from"./upload-DoO0wQwa.js";import{F as ie}from"./file-text-D25AipK4.js";import{P as Ce}from"./progress-BgfGBUAj.js";import{A as Se,a as Me}from"./alert-CNp8ZuHk.js";import{T as Le}from"./trending-up-00s2SIxN.js";import{C as Ee}from"./circle-x-D-Fm_LhT.js";import{T as Te}from"./triangle-alert-BWIpgUmg.js";import{C as ze}from"./circle-check-big-DCsv6rXk.js";import{E as Fe}from"./eye-DdivFxyT.js";import{S as le}from"./save-D6UyxhH5.js";import{G as ae}from"./globe-S29F6yCY.js";import{S as Ae}from"./sheet-1SUjjT9Y.js";import{C as Re}from"./calendar-DTsvo4Hi.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Pe=N("align-center",Ue);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],De=N("align-justify",$e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],qe=N("align-left",He);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Oe=N("align-right",Ie);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Be=N("bold",Ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Ge=N("italic",Ke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],We=N("layers",Qe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Je=N("list-ordered",Xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ye=N("palette",Ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],ss=N("quote",es);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],as=N("redo",ts);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],is=N("strikethrough",ns);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ls=N("type",rs);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],cs=N("underline",os);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],ms=N("undo",ds);function hs({value:d,onChange:S,onImageInsert:C,onVideoInsert:h,onLinkInsert:p,placeholder:L="Start writing...",className:D=""}){const s=g.useRef(null),i=g.useRef(!1);g.useEffect(()=>{s.current&&!i.current&&(s.current.innerHTML=d)},[d]);const M=()=>{s.current&&(i.current=!0,S(s.current.innerHTML),setTimeout(()=>{i.current=!1},0))},c=(n,m)=>{var v;document.execCommand(n,!1,m),(v=s.current)==null||v.focus(),M()},E=n=>{if(s.current){const m=window.getSelection();if(m&&m.rangeCount>0){const v=m.getRangeAt(0);v.deleteContents();const w=document.createElement("div");w.innerHTML=n;const b=document.createDocumentFragment();for(;w.firstChild;)b.appendChild(w.firstChild);v.insertNode(b),m.removeAllRanges()}M()}},y=n=>{if(n.ctrlKey||n.metaKey)switch(n.key){case"b":n.preventDefault(),c("bold");break;case"i":n.preventDefault(),c("italic");break;case"u":n.preventDefault(),c("underline");break;case"z":n.preventDefault(),n.shiftKey?c("redo"):c("undo");break}if(n.key==="Enter"){const m=window.getSelection();if(m&&m.rangeCount>0){const w=m.getRangeAt(0).commonAncestorContainer,b=w.nodeType===Node.TEXT_NODE?w.parentElement:w;b&&/^H[1-6]$/.test(b.tagName)&&(n.preventDefault(),E("<br><p><br></p>"))}}},T=n=>{c("formatBlock",`<${n}>`)},r=()=>{if(p)p();else{const n=prompt("Enter URL:");n&&c("createLink",n)}},j=()=>{if(C)C();else{const n=prompt("Enter image URL:");n&&E(`<img src="${n}" alt="" style="max-width: 100%; height: auto;" />`)}},o=()=>{if(h)h();else{const n=prompt("Enter video URL:");n&&E(`<video controls style="max-width: 100%;"><source src="${n}" /></video>`)}},R=()=>{const n=prompt("Enter color (hex, rgb, or name):");n&&c("foreColor",n)},_=()=>{const n=prompt("Enter background color (hex, rgb, or name):");n&&c("backColor",n)};return e.jsxs("div",{className:`border rounded-lg ${D}`,children:[e.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("undo"),title:"Undo (Ctrl+Z)",children:e.jsx(ms,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("redo"),title:"Redo (Ctrl+Shift+Z)",children:e.jsx(as,{className:"h-4 w-4"})}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsxs("select",{className:"px-2 py-1 border rounded text-sm",onChange:n=>T(n.target.value),defaultValue:"",children:[e.jsx("option",{value:"",children:"Format"}),e.jsx("option",{value:"p",children:"Paragraph"}),e.jsx("option",{value:"h1",children:"Heading 1"}),e.jsx("option",{value:"h2",children:"Heading 2"}),e.jsx("option",{value:"h3",children:"Heading 3"}),e.jsx("option",{value:"h4",children:"Heading 4"}),e.jsx("option",{value:"h5",children:"Heading 5"}),e.jsx("option",{value:"h6",children:"Heading 6"}),e.jsx("option",{value:"pre",children:"Preformatted"})]}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("bold"),title:"Bold (Ctrl+B)",children:e.jsx(Be,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("italic"),title:"Italic (Ctrl+I)",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("underline"),title:"Underline (Ctrl+U)",children:e.jsx(cs,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("strikeThrough"),title:"Strikethrough",children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:R,title:"Text Color",children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:_,title:"Background Color",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("justifyLeft"),title:"Align Left",children:e.jsx(qe,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("justifyCenter"),title:"Align Center",children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("justifyRight"),title:"Align Right",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("justifyFull"),title:"Justify",children:e.jsx(De,{className:"h-4 w-4"})}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("insertUnorderedList"),title:"Bullet List",children:e.jsx(he,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("insertOrderedList"),title:"Numbered List",children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>T("blockquote"),title:"Quote",children:e.jsx(ss,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>c("formatBlock","<pre>"),title:"Code Block",children:e.jsx(je,{className:"h-4 w-4"})}),e.jsx($,{orientation:"vertical",className:"h-6"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:r,title:"Insert Link",children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:j,title:"Insert Image",children:e.jsx(Z,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:o,title:"Insert Video",children:e.jsx(ue,{className:"h-4 w-4"})})]}),e.jsx("div",{ref:s,contentEditable:!0,className:"min-h-[300px] p-4 focus:outline-none prose prose-sm max-w-none",onInput:M,onKeyDown:y,"data-placeholder":L,style:{"--placeholder-color":"#9ca3af"},suppressContentEditableWarning:!0}),e.jsx("style",{jsx:!0,children:`
        [contenteditable]:empty:before {
          content: attr(data-placeholder);
          color: var(--placeholder-color);
          pointer-events: none;
        }
        
        [contenteditable] h1 {
          font-size: 2em;
          font-weight: bold;
          margin: 0.67em 0;
        }
        
        [contenteditable] h2 {
          font-size: 1.5em;
          font-weight: bold;
          margin: 0.75em 0;
        }
        
        [contenteditable] h3 {
          font-size: 1.17em;
          font-weight: bold;
          margin: 0.83em 0;
        }
        
        [contenteditable] h4 {
          font-size: 1em;
          font-weight: bold;
          margin: 1.12em 0;
        }
        
        [contenteditable] h5 {
          font-size: 0.83em;
          font-weight: bold;
          margin: 1.5em 0;
        }
        
        [contenteditable] h6 {
          font-size: 0.75em;
          font-weight: bold;
          margin: 1.67em 0;
        }
        
        [contenteditable] p {
          margin: 1em 0;
        }
        
        [contenteditable] blockquote {
          margin: 1em 40px;
          padding-left: 1em;
          border-left: 4px solid #ddd;
          font-style: italic;
        }
        
        [contenteditable] pre {
          background: #f5f5f5;
          padding: 1em;
          border-radius: 4px;
          overflow-x: auto;
          font-family: monospace;
        }
        
        [contenteditable] ul, [contenteditable] ol {
          margin: 1em 0;
          padding-left: 2em;
        }
        
        [contenteditable] li {
          margin: 0.5em 0;
        }
        
        [contenteditable] img {
          max-width: 100%;
          height: auto;
          border-radius: 4px;
        }
        
        [contenteditable] video {
          max-width: 100%;
          height: auto;
          border-radius: 4px;
        }
        
        [contenteditable] a {
          color: #3b82f6;
          text-decoration: underline;
        }
        
        [contenteditable] a:hover {
          color: #1d4ed8;
        }
      `})]})}function xs({isOpen:d=!0,onSelect:S,onClose:C,type:h="all",multiple:p=!1,maxSelection:L=10,className:D=""}){const{t:s}=ne(),[i,M]=g.useState([]),[c,E]=g.useState([]),[y,T]=g.useState([]),[r,j]=g.useState(null),[o,R]=g.useState(""),[_,n]=g.useState("grid"),[m,v]=g.useState(!1),[w,b]=g.useState(!1);g.useEffect(()=>{d&&z()},[d,r,h]);const z=async()=>{v(!0);try{const t=new URLSearchParams;h!=="all"&&t.append("type",h),r&&t.append("folder_id",r.toString());const x=await(await fetch(`/cms/media/picker?${t}`)).json();M(x.media||[]),E(x.folders||[])}catch(t){console.error("Failed to fetch media:",t)}finally{v(!1)}},U=async()=>{if(!o.trim()){z();return}v(!0);try{const t=new URLSearchParams({query:o,...h!=="all"&&{type:h},...r&&{folder_id:r.toString()}}),x=await(await fetch(`/cms/media/search?${t}`)).json();M(x.results||[])}catch(t){console.error("Failed to search media:",t)}finally{v(!1)}},P=async t=>{var f;b(!0);try{const x=new FormData;Array.from(t).forEach(ge=>{x.append("files[]",ge)}),r&&x.append("folder_id",r.toString()),(await(await fetch("/cms/media/upload",{method:"POST",body:x,headers:{"X-CSRF-TOKEN":((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||""}})).json()).success&&z()}catch(x){console.error("Failed to upload files:",x)}finally{b(!1)}},H=t=>{p?y.some(x=>x.id===t.id)?T(x=>x.filter(re=>re.id!==t.id)):y.length<L&&T(x=>[...x,t]):S(t)},q=()=>{p&&y.length>0&&y.forEach(t=>S(t))},F=t=>{switch(t){case"image":return e.jsx(Z,{className:"h-4 w-4"});case"video":return e.jsx(ue,{className:"h-4 w-4"});default:return e.jsx(ie,{className:"h-4 w-4"})}},a=i.filter(t=>!(h!=="all"&&t.type!==h||o&&!t.name.toLowerCase().includes(o.toLowerCase())));return e.jsx(fe,{open:d,onOpenChange:C,children:e.jsxs(ve,{className:`max-w-6xl max-h-[80vh] ${D}`,children:[e.jsxs(_e,{children:[e.jsx(ye,{children:s("cms.select_media","Select Media")}),e.jsx(Ne,{children:p?s("cms.select_multiple_media","Select one or more media files"):s("cms.select_single_media","Select a media file")})]}),e.jsxs(de,{defaultValue:"browse",className:"w-full",children:[e.jsxs(me,{children:[e.jsx(X,{value:"browse",children:s("cms.browse","Browse")}),e.jsx(X,{value:"upload",children:s("cms.upload","Upload")})]}),e.jsxs(J,{value:"browse",className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx(A,{placeholder:s("cms.search_media","Search media..."),value:o,onChange:t=>R(t.target.value),onKeyPress:t=>t.key==="Enter"&&U()}),e.jsx(l,{variant:"outline",onClick:U,children:e.jsx(Y,{className:"h-4 w-4"})})]}),e.jsxs(K,{value:(r==null?void 0:r.toString())||"",onValueChange:t=>j(t?parseInt(t):null),children:[e.jsx(G,{className:"w-48",children:e.jsx(Q,{placeholder:s("cms.all_folders","All folders")})}),e.jsxs(W,{children:[e.jsx(k,{value:"",children:s("cms.all_folders","All folders")}),c.map(t=>e.jsx(k,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),t.name]})},t.id))]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(l,{variant:_==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:e.jsx(be,{className:"h-4 w-4"})}),e.jsx(l,{variant:_==="list"?"default":"outline",size:"sm",onClick:()=>n("list"),children:e.jsx(he,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):_==="grid"?e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:a.map(t=>{const f=p&&y.some(x=>x.id===t.id);return e.jsxs("div",{className:`relative group cursor-pointer border-2 rounded-lg overflow-hidden transition-all ${f?"border-primary":"border-transparent hover:border-gray-300"}`,onClick:()=>H(t),children:[t.type==="image"?e.jsx("img",{src:t.url,alt:t.alt_text||t.name,className:"w-full h-20 object-cover"}):e.jsx("div",{className:"w-full h-20 bg-gray-100 flex items-center justify-center",children:F(t.type)}),p&&f&&e.jsx("div",{className:"absolute top-1 right-1 bg-primary text-primary-foreground rounded-full p-1",children:e.jsx(te,{className:"h-3 w-3"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs truncate",title:t.name,children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.human_file_size})]})]},t.id)})}):e.jsx("div",{className:"space-y-2",children:a.map(t=>{const f=p&&y.some(x=>x.id===t.id);return e.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded-lg cursor-pointer transition-all ${f?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>H(t),children:[t.type==="image"?e.jsx("img",{src:t.url,alt:t.alt_text||t.name,className:"w-12 h-12 object-cover rounded"}):e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center",children:F(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.human_file_size," • ",t.mime_type]}),t.dimensions&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.dimensions.width," × ",t.dimensions.height]})]}),p&&f&&e.jsx(te,{className:"h-5 w-5 text-primary"})]},t.id)})}),!m&&a.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:s("cms.no_media_found","No media files found")})]})]})]}),e.jsxs(J,{value:"upload",className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",onDrop:t=>{t.preventDefault();const f=t.dataTransfer.files;f.length>0&&P(f)},onDragOver:t=>t.preventDefault(),children:[e.jsx(ke,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:s("cms.drop_files_here","Drop files here")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s("cms.or_click_to_browse","or click to browse")}),e.jsx("input",{type:"file",multiple:!0,accept:h==="image"?"image/*":h==="video"?"video/*":"*/*",onChange:t=>{t.target.files&&P(t.target.files)},className:"hidden",id:"file-upload"}),e.jsx(l,{asChild:!0,children:e.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:s("cms.choose_files","Choose Files")})})]}),w&&e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mr-2"}),e.jsx("span",{children:s("cms.uploading","Uploading...")})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx("div",{children:p&&y.length>0&&e.jsxs(ce,{variant:"secondary",children:[y.length," ",s("cms.selected","selected")]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",onClick:C,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),s("common.cancel","Cancel")]}),p&&e.jsxs(l,{onClick:q,disabled:y.length===0,children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),s("cms.select_files","Select Files")," (",y.length,")"]})]})]})]})})}function us({title:d,metaTitle:S,metaDescription:C,content:h,slug:p,onScoreChange:L,className:D=""}){const{t:s}=ne(),[i,M]=g.useState({score:0,issues:[],recommendations:[],metrics:{titleLength:0,descriptionLength:0,contentLength:0,slugLength:0,imageCount:0,linkCount:0,readabilityScore:0}});g.useEffect(()=>{const r=c();M(r),L&&L(r.score)},[d,S,C,h,p]);const c=()=>{const r=[],j=[];let o=0;const R=h.replace(/<[^>]*>/g,""),_=R.split(/\s+/).filter(F=>F.length>0).length,n=S||d,m=n.length;n?m<30?(r.push({type:"warning",message:s("seo.title_too_short","Title is too short"),recommendation:s("seo.title_length_recommendation","Aim for 50-60 characters for optimal display in search results")}),o+=10):m>60?(r.push({type:"warning",message:s("seo.title_too_long","Title is too long"),recommendation:s("seo.title_length_recommendation","Aim for 50-60 characters for optimal display in search results")}),o+=10):(r.push({type:"success",message:s("seo.title_length_good","Title length is optimal")}),o+=20):r.push({type:"error",message:s("seo.missing_title","Missing title"),recommendation:s("seo.add_title_recommendation","Add a descriptive title for your page")});const v=(C==null?void 0:C.length)||0;C?v<120?(r.push({type:"warning",message:s("seo.description_too_short","Meta description is too short"),recommendation:s("seo.description_length_recommendation","Aim for 150-160 characters for optimal display")}),o+=10):v>160?(r.push({type:"warning",message:s("seo.description_too_long","Meta description is too long"),recommendation:s("seo.description_length_recommendation","Aim for 150-160 characters for optimal display")}),o+=10):(r.push({type:"success",message:s("seo.description_length_good","Meta description length is optimal")}),o+=20):r.push({type:"error",message:s("seo.missing_meta_description","Missing meta description"),recommendation:s("seo.add_meta_description_recommendation","Add a compelling meta description to improve click-through rates")}),_<300?(r.push({type:"warning",message:s("seo.content_too_short","Content is too short"),recommendation:s("seo.content_length_recommendation","Add more content (aim for at least 300 words)")}),o+=5):_>=300&&_<1e3?(r.push({type:"success",message:s("seo.content_length_good","Content length is good")}),o+=15):(r.push({type:"success",message:s("seo.content_length_excellent","Content length is excellent")}),o+=20);const w=p.length;w>75?(r.push({type:"warning",message:s("seo.slug_too_long","URL slug is too long"),recommendation:s("seo.slug_length_recommendation","Keep URL slugs under 75 characters")}),o+=5):p.includes("_")?(r.push({type:"warning",message:s("seo.slug_underscores","URL slug contains underscores"),recommendation:s("seo.slug_hyphens_recommendation","Use hyphens instead of underscores in URLs")}),o+=8):(r.push({type:"success",message:s("seo.slug_good","URL slug is well-formatted")}),o+=10);const b=(h.match(/<img/g)||[]).length;b===0?j.push(s("seo.add_images_recommendation","Consider adding images to improve engagement")):(r.push({type:"success",message:s("seo.images_present",`Found ${b} image(s)`)}),o+=10);const z=(h.match(/<a/g)||[]).length;z===0?j.push(s("seo.add_links_recommendation","Consider adding internal or external links")):(r.push({type:"success",message:s("seo.links_present",`Found ${z} link(s)`)}),o+=10);const U=(h.match(/<h[1-6]/g)||[]).length;U===0?r.push({type:"warning",message:s("seo.no_headings","No headings found"),recommendation:s("seo.add_headings_recommendation","Use headings (H1, H2, etc.) to structure your content")}):(r.push({type:"success",message:s("seo.headings_present",`Found ${U} heading(s)`)}),o+=10);const P=R.split(/[.!?]+/).filter(F=>F.trim().length>0),H=P.length>0?_/P.length:0;let q=100;return H>20?(q-=20,r.push({type:"warning",message:s("seo.sentences_too_long","Sentences are too long"),recommendation:s("seo.shorter_sentences_recommendation","Use shorter sentences for better readability")})):o+=5,o<50?j.push(s("seo.improve_basic_seo","Focus on basic SEO elements: title, description, and content length")):o<80&&j.push(s("seo.enhance_content","Enhance your content with more images, links, and better structure")),{score:Math.min(o,100),issues:r,recommendations:j,metrics:{titleLength:m,descriptionLength:v,contentLength:_,slugLength:w,imageCount:b,linkCount:z,readabilityScore:Math.max(q,0)}}},E=r=>r>=80?"text-green-600":r>=60?"text-yellow-600":"text-red-600",y=r=>r>=80?s("seo.excellent","Excellent"):r>=60?s("seo.good","Good"):r>=40?s("seo.needs_improvement","Needs Improvement"):s("seo.poor","Poor"),T=r=>{switch(r){case"success":return e.jsx(ze,{className:"h-4 w-4 text-green-600"});case"warning":return e.jsx(Te,{className:"h-4 w-4 text-yellow-600"});case"error":return e.jsx(Ee,{className:"h-4 w-4 text-red-600"});default:return null}};return e.jsxs(I,{className:D,children:[e.jsxs(O,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),s("seo.analysis","SEO Analysis")]}),e.jsx(oe,{children:s("seo.analysis_description","Real-time SEO analysis and recommendations")})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-4xl font-bold mb-2 ${E(i.score)}`,children:[i.score,"/100"]}),e.jsx("div",{className:"text-lg font-medium mb-2",children:y(i.score)}),e.jsx(Ce,{value:i.score,className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:i.metrics.titleLength}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("seo.title_chars","Title chars")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:i.metrics.descriptionLength}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("seo.desc_chars","Desc chars")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:i.metrics.contentLength}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("seo.words","Words")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:i.metrics.readabilityScore}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s("seo.readability","Readability")})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:s("seo.issues_recommendations","Issues & Recommendations")}),e.jsx("div",{className:"space-y-2",children:i.issues.map((r,j)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[T(r.type),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:r.message}),r.recommendation&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.recommendation})]})]},j))})]}),i.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:s("seo.additional_recommendations","Additional Recommendations")}),e.jsx("div",{className:"space-y-2",children:i.recommendations.map((r,j)=>e.jsxs(Se,{children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx(Me,{children:r})]},j))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[i.metrics.imageCount," images"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[i.metrics.linkCount," links"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[i.metrics.slugLength," char URL"]})]})]})]})]})}function Js({page:d,templates:S,pages:C,languages:h,onSave:p,onPreview:L,className:D=""}){var U,P,H,q,F;const{t:s}=ne(),[i,M]=g.useState({title:"",slug:"",excerpt:"",content:"",content_blocks:[],template:((U=S[0])==null?void 0:U.slug)||"default",layout:"default",meta_title:"",meta_description:"",meta_keywords:[],og_title:"",og_description:"",og_image:"",canonical_url:"",status:"draft",published_at:"",scheduled_at:"",parent_id:void 0,language:"en",is_homepage:!1,show_in_menu:!0,require_auth:!1,permissions:{},settings:{},...d}),[c,E]=g.useState("content"),[y,T]=g.useState(!1),[r,j]=g.useState(!1),[o,R]=g.useState(0),_=S.find(a=>a.slug===i.template);g.useEffect(()=>{if(i.title&&!(d!=null&&d.id)){const a=i.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();M(t=>({...t,slug:a}))}},[i.title,d==null?void 0:d.id]);const n=(a,t)=>{M(f=>({...f,[a]:t}))},m=a=>{const t={...i,...a&&{status:a}};p(t)},v=()=>{L&&L(i),T(!0)},w=()=>{i.scheduled_at&&m("scheduled")},b=a=>{var t;a&&!((t=i.meta_keywords)!=null&&t.includes(a))&&n("meta_keywords",[...i.meta_keywords||[],a])},z=a=>{var t;n("meta_keywords",((t=i.meta_keywords)==null?void 0:t.filter(f=>f!==a))||[])};return e.jsxs("div",{className:`space-y-6 ${D}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:d!=null&&d.id?s("cms.edit_page","Edit Page"):s("cms.create_page","Create Page")}),e.jsx("p",{className:"text-muted-foreground",children:d!=null&&d.id?s("cms.edit_page_description","Edit page content and settings"):s("cms.create_page_description","Create a new page")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",onClick:v,children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),s("cms.preview","Preview")]}),e.jsxs(l,{variant:"outline",onClick:()=>m("draft"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),s("cms.save_draft","Save Draft")]}),e.jsxs(l,{onClick:()=>m("published"),children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),s("cms.publish","Publish")]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(de,{value:c,onValueChange:E,children:[e.jsxs(me,{className:"grid w-full grid-cols-4",children:[e.jsxs(X,{value:"content",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),s("cms.content","Content")]}),e.jsxs(X,{value:"seo",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),s("cms.seo","SEO")]}),e.jsxs(X,{value:"design",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),s("cms.design","Design")]}),e.jsxs(X,{value:"settings",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),s("cms.settings","Settings")]})]}),e.jsx(J,{value:"content",className:"space-y-6",children:e.jsxs(I,{children:[e.jsx(O,{children:e.jsx(V,{children:s("cms.page_content","Page Content")})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"title",children:s("cms.title","Title")}),e.jsx(A,{id:"title",value:i.title,onChange:a=>n("title",a.target.value),placeholder:s("cms.enter_title","Enter page title")})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"slug",children:s("cms.slug","Slug")}),e.jsx(A,{id:"slug",value:i.slug,onChange:a=>n("slug",a.target.value),placeholder:s("cms.enter_slug","Enter page slug")})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"excerpt",children:s("cms.excerpt","Excerpt")}),e.jsx(ee,{id:"excerpt",value:i.excerpt||"",onChange:a=>n("excerpt",a.target.value),placeholder:s("cms.enter_excerpt","Enter page excerpt"),rows:3})]}),e.jsxs("div",{children:[e.jsx(u,{children:s("cms.content","Content")}),e.jsx(hs,{value:i.content,onChange:a=>n("content",a),onImageInsert:()=>j(!0)})]})]})]})}),e.jsxs(J,{value:"seo",className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(O,{children:[e.jsx(V,{children:s("cms.seo_optimization","SEO Optimization")}),e.jsx(oe,{children:s("cms.seo_description","Optimize your page for search engines")})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"meta_title",children:s("cms.meta_title","Meta Title")}),e.jsx(A,{id:"meta_title",value:i.meta_title||"",onChange:a=>n("meta_title",a.target.value),placeholder:s("cms.enter_meta_title","Enter meta title")}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[((P=i.meta_title)==null?void 0:P.length)||0,"/60 characters"]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"meta_description",children:s("cms.meta_description","Meta Description")}),e.jsx(ee,{id:"meta_description",value:i.meta_description||"",onChange:a=>n("meta_description",a.target.value),placeholder:s("cms.enter_meta_description","Enter meta description"),rows:3}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[((H=i.meta_description)==null?void 0:H.length)||0,"/160 characters"]})]}),e.jsxs("div",{children:[e.jsx(u,{children:s("cms.meta_keywords","Meta Keywords")}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(q=i.meta_keywords)==null?void 0:q.map((a,t)=>e.jsxs(ce,{variant:"secondary",className:"cursor-pointer",onClick:()=>z(a),children:[a," ×"]},t))}),e.jsx(A,{placeholder:s("cms.add_keyword","Add keyword and press Enter"),onKeyPress:a=>{a.key==="Enter"&&(b(a.currentTarget.value),a.currentTarget.value="")}})]}),e.jsx($,{}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"og_title",children:s("cms.og_title","Open Graph Title")}),e.jsx(A,{id:"og_title",value:i.og_title||"",onChange:a=>n("og_title",a.target.value),placeholder:s("cms.enter_og_title","Enter Open Graph title")})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"og_description",children:s("cms.og_description","Open Graph Description")}),e.jsx(ee,{id:"og_description",value:i.og_description||"",onChange:a=>n("og_description",a.target.value),placeholder:s("cms.enter_og_description","Enter Open Graph description"),rows:3})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"og_image",children:s("cms.og_image","Open Graph Image")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{id:"og_image",value:i.og_image||"",onChange:a=>n("og_image",a.target.value),placeholder:s("cms.enter_og_image_url","Enter image URL")}),e.jsx(l,{variant:"outline",onClick:()=>j(!0),children:e.jsx(Z,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"canonical_url",children:s("cms.canonical_url","Canonical URL")}),e.jsx(A,{id:"canonical_url",value:i.canonical_url||"",onChange:a=>n("canonical_url",a.target.value),placeholder:s("cms.enter_canonical_url","Enter canonical URL")})]})]})]}),e.jsx(us,{title:i.title,metaTitle:i.meta_title,metaDescription:i.meta_description,content:i.content,slug:i.slug,onScoreChange:R})]}),e.jsx(J,{value:"design",className:"space-y-6",children:e.jsxs(I,{children:[e.jsx(O,{children:e.jsx(V,{children:s("cms.template_layout","Template & Layout")})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"template",children:s("cms.template","Template")}),e.jsxs(K,{value:i.template,onValueChange:a=>n("template",a),children:[e.jsx(G,{children:e.jsx(Q,{})}),e.jsx(W,{children:S.map(a=>e.jsx(k,{value:a.slug,children:a.name},a.slug))})]}),(_==null?void 0:_.description)&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_.description})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"layout",children:s("cms.layout","Layout")}),e.jsxs(K,{value:i.layout||"default",onValueChange:a=>n("layout",a),children:[e.jsx(G,{children:e.jsx(Q,{})}),e.jsxs(W,{children:[e.jsx(k,{value:"default",children:"Default"}),e.jsx(k,{value:"full-width",children:"Full Width"}),e.jsx(k,{value:"sidebar-left",children:"Sidebar Left"}),e.jsx(k,{value:"sidebar-right",children:"Sidebar Right"})]})]})]})]})]})}),e.jsx(J,{value:"settings",className:"space-y-6",children:e.jsxs(I,{children:[e.jsx(O,{children:e.jsx(V,{children:s("cms.page_settings","Page Settings")})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"language",children:s("cms.language","Language")}),e.jsxs(K,{value:i.language,onValueChange:a=>n("language",a),children:[e.jsx(G,{children:e.jsx(Q,{})}),e.jsx(W,{children:Object.entries(h).map(([a,t])=>e.jsx(k,{value:a,children:t},a))})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"parent_id",children:s("cms.parent_page","Parent Page")}),e.jsxs(K,{value:((F=i.parent_id)==null?void 0:F.toString())||"",onValueChange:a=>n("parent_id",a?parseInt(a):void 0),children:[e.jsx(G,{children:e.jsx(Q,{placeholder:s("cms.select_parent","Select parent page")})}),e.jsxs(W,{children:[e.jsx(k,{value:"empty",children:s("cms.no_parent","No parent")}),C.filter(a=>a.id!==(d==null?void 0:d.id)).map(a=>e.jsx(k,{value:a.id.toString(),children:a.title},a.id))]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{id:"is_homepage",checked:i.is_homepage,onCheckedChange:a=>n("is_homepage",a)}),e.jsx(u,{htmlFor:"is_homepage",children:s("cms.set_as_homepage","Set as homepage")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{id:"show_in_menu",checked:i.show_in_menu,onCheckedChange:a=>n("show_in_menu",a)}),e.jsx(u,{htmlFor:"show_in_menu",children:s("cms.show_in_menu","Show in menu")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{id:"require_auth",checked:i.require_auth,onCheckedChange:a=>n("require_auth",a)}),e.jsx(u,{htmlFor:"require_auth",children:s("cms.require_authentication","Require authentication")})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsx(O,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),s("cms.publishing","Publishing")]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{children:s("cms.status","Status")}),e.jsxs(K,{value:i.status,onValueChange:a=>n("status",a),children:[e.jsx(G,{children:e.jsx(Q,{})}),e.jsxs(W,{children:[e.jsx(k,{value:"draft",children:"Draft"}),e.jsx(k,{value:"published",children:"Published"}),e.jsx(k,{value:"scheduled",children:"Scheduled"}),e.jsx(k,{value:"archived",children:"Archived"})]})]})]}),i.status==="scheduled"&&e.jsxs("div",{children:[e.jsx(u,{htmlFor:"scheduled_at",children:s("cms.schedule_for","Schedule for")}),e.jsx(A,{id:"scheduled_at",type:"datetime-local",value:i.scheduled_at||"",onChange:a=>n("scheduled_at",a.target.value)}),e.jsxs(l,{className:"w-full mt-2",onClick:w,children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),s("cms.schedule","Schedule")]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",className:"flex-1",onClick:()=>m("draft"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),s("cms.save","Save")]}),e.jsxs(l,{className:"flex-1",onClick:()=>m("published"),children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),s("cms.publish","Publish")]})]})]})]}),o>0&&e.jsxs(I,{children:[e.jsx(O,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),s("cms.seo_score","SEO Score")]})}),e.jsx(B,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold mb-2",children:[o,"/100"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]})})]})]})]}),r&&e.jsx(xs,{onSelect:a=>{c==="seo"&&n("og_image",a.url),j(!1)},onClose:()=>j(!1),type:"image"})]})}export{Js as P};
