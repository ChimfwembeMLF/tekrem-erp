import{r as v,j as e,S as D}from"./app-BMIA6nir.js";import{C as r,a as i,b as c,c as l,d as b}from"./card-BAsSN-2Z.js";import{B as w}from"./createLucideIcon-Cg8jdX0w.js";import{B as n}from"./x-C3KwZK3B.js";import{T as B,a as M,b as f,c as y}from"./tabs-YflTNJKH.js";import{P as O}from"./progress-BgfGBUAj.js";import{A as I}from"./AppLayout-DbMk6clK.js";import{u as R}from"./useTranslate-ER5gAOX6.js";import{t as N}from"./index-Dj2TB_RL.js";import{M as U}from"./message-square-32k9udjC.js";import{Z as F}from"./zap-CQoeASxN.js";import{D as P}from"./dollar-sign-Cli0KufN.js";import{T as z}from"./trending-up-00s2SIxN.js";import{B as E}from"./brain-D-NomhzH.js";import{A as _}from"./activity-BI-t7JT3.js";import{B as L}from"./bot-COuCQh0r.js";import{C as $}from"./circle-check-big-DCsv6rXk.js";import{C as H}from"./circle-alert-DVIk47WR.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./NotificationComponent-CHA3vjZG.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-circle-CVsRMw7b.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function ze({stats:x,services:T=[],analytics:C,quick_stats:S}){const{t}=R(),[k,g]=v.useState(!1),[K,Z]=v.useState("7 days"),a=S||{today:{requests:0,tokens:0,cost:0,success_rate:0},changes:{requests:0,tokens:0,cost:0}},d=C||{overview:{total_requests:0,success_rate:0,total_tokens:0,total_cost:0},usage_by_operation:{},usage_by_model:{}},A=async s=>{var o;g(!0);try{const u=await(await fetch(route("ai.dashboard.test-connection"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({service_id:s})})).json();u.success?N.success(u.message):N.error(u.message)}catch{N.error("Failed to test connection")}finally{g(!1)}},m=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),h=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(s),j=s=>s>0?"text-green-600":s<0?"text-red-600":"text-gray-600",p=s=>s>0?"↗":s<0?"↘":"→";return e.jsxs(I,{title:t("AI Dashboard"),renderHeader:()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:t("AI Dashboard")}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:t("Monitor and manage your AI services and usage")})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(w,{variant:"outline",size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),t("Refresh")]})})]}),children:[e.jsx(D,{title:t("AI Dashboard")}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:t("Requests Today")}),e.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m(a.today.requests)}),e.jsxs("p",{className:`text-xs ${j(a.changes.requests)}`,children:[p(a.changes.requests)," ",Math.abs(a.changes.requests),"% from yesterday"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:t("Tokens Used")}),e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m(a.today.tokens)}),e.jsxs("p",{className:`text-xs ${j(a.changes.tokens)}`,children:[p(a.changes.tokens)," ",Math.abs(a.changes.tokens),"% from yesterday"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:t("Cost Today")}),e.jsx(P,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h(a.today.cost)}),e.jsxs("p",{className:`text-xs ${j(a.changes.cost)}`,children:[p(a.changes.cost)," ",Math.abs(a.changes.cost),"% from yesterday"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:t("Success Rate")}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.today.success_rate,"%"]}),e.jsx(O,{value:a.today.success_rate,className:"mt-2"})]})]})]}),e.jsxs(B,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(M,{children:[e.jsx(f,{value:"overview",children:t("Overview")}),e.jsx(f,{value:"services",children:t("Services")}),e.jsx(f,{value:"analytics",children:t("Analytics")})]}),e.jsx(y,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center",children:[e.jsx(E,{className:"h-5 w-5 mr-2"}),t("System Overview")]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("AI Services")}),e.jsx(n,{variant:"secondary",children:x.total_services})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("AI Models")}),e.jsx(n,{variant:"secondary",children:x.total_models})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("Conversations")}),e.jsx(n,{variant:"secondary",children:x.total_conversations})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("Templates")}),e.jsx(n,{variant:"secondary",children:x.total_templates})]})]})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),t("Usage Overview")]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("Total Requests")}),e.jsx("span",{className:"font-medium",children:m(d.overview.total_requests)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("Success Rate")}),e.jsxs("span",{className:"font-medium",children:[d.overview.success_rate,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("Total Tokens")}),e.jsx("span",{className:"font-medium",children:m(d.overview.total_tokens)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t("Total Cost")}),e.jsx("span",{className:"font-medium",children:h(d.overview.total_cost)})]})]})]})]})}),e.jsx(y,{value:"services",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:T.map(s=>e.jsxs(r,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx(c,{className:"text-lg",children:s.name}),e.jsx(b,{children:s.provider})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.is_default&&e.jsx(n,{variant:"default",children:t("Default")}),e.jsxs(n,{variant:s.status==="online"?"default":"destructive",className:"flex items-center",children:[s.status==="online"?e.jsx($,{className:"h-3 w-3 mr-1"}):e.jsx(H,{className:"h-3 w-3 mr-1"}),s.status]}),e.jsx(w,{variant:"outline",size:"sm",onClick:()=>A(s.id),disabled:k,children:t("Test")})]})]})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.usage.requests_today}),e.jsx("div",{className:"text-sm text-gray-600",children:t("Requests Today")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:m(s.usage.tokens_today)}),e.jsx("div",{className:"text-sm text-gray-600",children:t("Tokens Today")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:h(s.usage.cost_today)}),e.jsx("div",{className:"text-sm text-gray-600",children:t("Cost Today")})]})]})})]},s.id))})}),e.jsx(y,{value:"analytics",className:"space-y-6",children:e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(c,{children:t("Usage Analytics")}),e.jsx(b,{children:t("Detailed analytics and usage patterns")})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:t("Usage by Operation")}),e.jsx("div",{className:"space-y-2",children:Object.entries(d.usage_by_operation).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm capitalize",children:s}),e.jsx(n,{variant:"outline",children:o})]},s))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:t("Usage by Model")}),e.jsx("div",{className:"space-y-2",children:Object.entries(d.usage_by_model).map(([s,o])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx(n,{variant:"outline",children:o})]},s))})]})]})})]})})]})]})})]})}export{ze as default};
