import{u as M,r as o,j as e,S as E,x as i,A as x}from"./app-BMIA6nir.js";import{A as P}from"./AppLayout-DbMk6clK.js";import{B as t}from"./createLucideIcon-Cg8jdX0w.js";import{C as y,a as v,b as N,c as w,d as H}from"./card-BAsSN-2Z.js";import{I as U}from"./input-Bg5GDATO.js";import{L as h}from"./label-CM6YsqH1.js";import{S,a as b,b as C,c as A,d as a}from"./select-B6KOX9nY.js";import{B as V}from"./x-C3KwZK3B.js";import{F as R}from"./funnel-v8IwREza.js";import{S as T}from"./search-_p1CX5vB.js";import{F as p}from"./file-text-D25AipK4.js";import{P as F}from"./plus-BjPf5uI-.js";import{E as q}from"./eye-DdivFxyT.js";import{S as G}from"./square-pen-CReBrXbl.js";import{T as J}from"./trash-2-DZc0jDKK.js";import{C as K}from"./calendar-DTsvo4Hi.js";import{P as O}from"./phone-347MTOqH.js";import{M as Q}from"./mail-CApE3o7R.js";import{A as W}from"./arrow-down-m0RBjUEt.js";import{A as X}from"./arrow-up-BCZyUv1P.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Ze({communications:r,filters:c}){const l=M(),[u,j]=o.useState(c.search||""),[m,f]=o.useState(c.type||"all"),[d,g]=o.useState(c.status||"all"),D=s=>{s.preventDefault(),x.get(l("crm.communications.index"),{search:u,type:m==="all"?"":m,status:d==="all"?"":d},{preserveState:!0})},I=()=>{j(""),f("all"),g("all"),x.get(l("crm.communications.index"))},k=s=>{switch(s){case"email":return e.jsx(Q,{className:"h-4 w-4"});case"call":return e.jsx(O,{className:"h-4 w-4"});case"meeting":return e.jsx(K,{className:"h-4 w-4"});case"note":return e.jsx(p,{className:"h-4 w-4"});default:return e.jsx(p,{className:"h-4 w-4"})}},L=s=>{if(!s)return null;const n={completed:"default",scheduled:"secondary",cancelled:"destructive"};return e.jsx(V,{variant:n[s]||"outline",children:s.charAt(0).toUpperCase()+s.slice(1)})},_=s=>s?s==="inbound"?e.jsx(W,{className:"h-3 w-3 text-green-600"}):e.jsx(X,{className:"h-3 w-3 text-blue-600"}):null,z=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=s=>{confirm("Are you sure you want to delete this communication?")&&x.delete(l("crm.communications.destroy",s))};return e.jsxs(P,{title:"Communications",renderHeader:()=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Communications"}),e.jsx(i,{href:l("crm.communications.create"),children:e.jsxs(t,{children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Add Communication"]})})]}),children:[e.jsx(E,{title:"Communications"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs(y,{className:"mb-6",children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:D,className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx(h,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(U,{id:"search",type:"text",placeholder:"Search communications...",value:u,onChange:s=>j(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"min-w-[150px]",children:[e.jsx(h,{htmlFor:"type",children:"Type"}),e.jsxs(S,{value:m,onValueChange:f,children:[e.jsx(b,{children:e.jsx(C,{placeholder:"All Types"})}),e.jsxs(A,{children:[e.jsx(a,{value:"all",children:"All Types"}),e.jsx(a,{value:"email",children:"Email"}),e.jsx(a,{value:"call",children:"Call"}),e.jsx(a,{value:"meeting",children:"Meeting"}),e.jsx(a,{value:"note",children:"Note"})]})]})]}),e.jsxs("div",{className:"min-w-[150px]",children:[e.jsx(h,{htmlFor:"status",children:"Status"}),e.jsxs(S,{value:d,onValueChange:g,children:[e.jsx(b,{children:e.jsx(C,{placeholder:"All Statuses"})}),e.jsxs(A,{children:[e.jsx(a,{value:"all",children:"All Statuses"}),e.jsx(a,{value:"completed",children:"Completed"}),e.jsx(a,{value:"scheduled",children:"Scheduled"}),e.jsx(a,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(t,{type:"submit",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Search"]}),e.jsx(t,{type:"button",variant:"outline",onClick:I,children:"Clear"})]})]})})]}),e.jsxs(y,{children:[e.jsxs(v,{children:[e.jsxs(N,{children:["Communications (",r.total,")"]}),e.jsx(H,{children:"Manage all communications with clients and leads"})]}),e.jsxs(w,{children:[r.data.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No communications found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Get started by creating your first communication."}),e.jsx(i,{href:l("crm.communications.create"),children:e.jsxs(t,{children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Add Communication"]})})]}):e.jsx("div",{className:"space-y-4",children:r.data.map(s=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[k(s.type),e.jsx("span",{className:"font-medium capitalize",children:s.type})]}),_(s.direction),L(s.status)]}),s.subject&&e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:s.subject}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:s.content}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:z(s.communication_date)}),s.communicable&&e.jsxs("span",{children:[s.communicable_type.includes("Client")?"Client":"Lead",": ",s.communicable.name]}),s.user&&e.jsxs("span",{children:["By: ",s.user.name]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(i,{href:l("crm.communications.show",s.id),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(i,{href:l("crm.communications.edit",s.id),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>B(s.id),className:"text-red-600 hover:text-red-700",children:e.jsx(J,{className:"h-4 w-4"})})]})]})},s.id))}),r.last_page>1&&e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",r.from," to ",r.to," of ",r.total," communications"]}),e.jsx("div",{className:"flex gap-1",children:r.links.map((s,n)=>s.url===null?e.jsx(t,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:s.label}},n):e.jsx(i,{href:s.url,children:e.jsx(t,{variant:s.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:s.label}})},n))})]})]})]})]})})]})}export{Ze as default};
