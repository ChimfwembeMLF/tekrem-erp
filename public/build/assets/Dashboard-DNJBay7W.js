import{j as e,S as R,x as N}from"./app-BMIA6nir.js";import{A as S}from"./AppLayout-DbMk6clK.js";import{C as a,a as i,b as l,c as n}from"./card-BAsSN-2Z.js";import{B as o}from"./x-C3KwZK3B.js";import{B as c}from"./createLucideIcon-Cg8jdX0w.js";import{u as A}from"./useTranslate-ER5gAOX6.js";import{P as D}from"./plus-BjPf5uI-.js";import{B as P}from"./book-open-DEtrBf1m.js";import{T as $}from"./ticket-B_Ks_Sjf.js";import{C as F}from"./clock-BTinGqFV.js";import{C as b}from"./circle-check-big-DCsv6rXk.js";import{T as v}from"./trending-up-00s2SIxN.js";import{R as y,C as L,X as M,Y as k,T as w,B as z,a as O}from"./generateCategoricalChart-71Idvjih.js";import{B as E}from"./BarChart-DEKLa_g_.js";import{P as K,a as q}from"./PieChart-CoJ2J4Cg.js";import{E as m}from"./eye-DdivFxyT.js";import{T as U}from"./triangle-alert-BWIpgUmg.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./tiny-invariant-BaFNuDhB.js";function Ee({stats:d,ticketsByPriority:_,ticketsByCategory:h,recentTickets:C,myTickets:j,overdueTickets:x,slaCompliance:X,popularArticles:T,satisfactionRatings:Y}){const{t:r}=A(),u=s=>{switch(s){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=s=>{switch(s){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=s=>{if(s<60)return`${Math.round(s)}m`;const t=Math.floor(s/60),B=Math.round(s%60);return`${t}h ${B}m`},f=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return e.jsxs(S,{children:[e.jsx(R,{title:r("support.title","Support")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("support.title","Support")}),e.jsx("p",{className:"text-muted-foreground",children:r("support.dashboard_description","Manage support tickets and help customers")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{asChild:!0,children:e.jsxs(N,{href:"/support/tickets/create",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),r("support.create_ticket","Create Ticket")]})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsxs(N,{href:"/support/knowledge-base/create",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),r("support.create_article","Create Article")]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:r("support.total_tickets","Total Tickets")}),e.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.totalTickets}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.openTickets," open, ",d.overdueTickets," overdue"]})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:r("support.avg_response_time","Avg Response Time")}),e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:g(d.avgResponseTime)})})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:r("support.avg_resolution_time","Avg Resolution Time")}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:g(d.avgResolutionTime)})})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:r("support.satisfaction_rating","Satisfaction Rating")}),e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[d.avgSatisfactionRating.toFixed(1),"/5"]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:r("support.tickets_by_priority","Tickets by Priority")})}),e.jsx(n,{children:e.jsx(y,{width:"100%",height:300,children:e.jsxs(E,{data:_,children:[e.jsx(L,{strokeDasharray:"3 3"}),e.jsx(M,{dataKey:"priority"}),e.jsx(k,{}),e.jsx(w,{}),e.jsx(z,{dataKey:"count",fill:"#8884d8"})]})})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:r("support.tickets_by_category","Tickets by Category")})}),e.jsx(n,{children:e.jsx(y,{width:"100%",height:300,children:e.jsxs(K,{children:[e.jsx(q,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({category:s})=>(s==null?void 0:s.name)||"Uncategorized",outerRadius:80,fill:"#8884d8",dataKey:"count",children:h.map((s,t)=>e.jsx(O,{fill:f[t%f.length]},`cell-${t}`))}),e.jsx(w,{})]})})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:r("support.recent_tickets","Recent Tickets")})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:C.slice(0,5).map(s=>{var t;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium",children:["#",s.ticket_number]}),e.jsx(o,{className:u(s.status),variant:"secondary",children:s.status.replace("_"," ")}),e.jsx(o,{className:p(s.priority),variant:"secondary",children:s.priority})]}),e.jsx("h4",{className:"font-medium text-sm leading-tight",children:s.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t=s.requester)==null?void 0:t.name," • ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/support/tickets/${s.id}`,children:e.jsx(m,{className:"h-3 w-3"})})})]},s.id)})})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:r("support.my_tickets","My Assigned Tickets")})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:j.length>0?j.map(s=>{var t;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium",children:["#",s.ticket_number]}),e.jsx(o,{className:u(s.status),variant:"secondary",children:s.status.replace("_"," ")}),e.jsx(o,{className:p(s.priority),variant:"secondary",children:s.priority})]}),e.jsx("h4",{className:"font-medium text-sm leading-tight",children:s.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t=s.requester)==null?void 0:t.name," • ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/support/tickets/${s.id}`,children:e.jsx(m,{className:"h-3 w-3"})})})]},s.id)}):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(b,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:r("support.no_assigned_tickets","No tickets assigned to you")})]})})})]})]}),x.length>0&&e.jsxs(a,{className:"border-red-200 bg-red-50",children:[e.jsx(i,{children:e.jsxs(l,{className:"flex items-center gap-2 text-red-800",children:[e.jsx(U,{className:"h-5 w-5"}),r("support.overdue_tickets","Overdue Tickets")," (",x.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:x.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium",children:["#",s.ticket_number]}),e.jsx(o,{className:p(s.priority),variant:"secondary",children:s.priority}),s.assigned_to&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["→ ",s.assigned_to.name]})]}),e.jsx("h4",{className:"font-medium text-sm leading-tight",children:s.title}),e.jsxs("p",{className:"text-xs text-red-600",children:["Overdue since ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/support/tickets/${s.id}`,children:e.jsx(m,{className:"h-3 w-3"})})})]},s.id))})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:r("support.popular_articles","Popular Knowledge Base Articles")})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:T.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm leading-tight",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"h-3 w-3"}),s.view_count," views"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"h-3 w-3"}),s.helpful_count," helpful"]})]})]}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/support/knowledge-base/${s.id}`,children:e.jsx(m,{className:"h-3 w-3"})})})]},s.id))})})]})]})]})}export{Ee as default};
