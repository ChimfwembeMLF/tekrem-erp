import{G as A,j as e,S as M}from"./app-BMIA6nir.js";import{C as D}from"./CustomerLayout-7LFTkDxI.js";import{C as m,a as x,b as h,d as z,c as p}from"./card-BAsSN-2Z.js";import{B as d}from"./createLucideIcon-Cg8jdX0w.js";import{I as u}from"./input-Bg5GDATO.js";import{L as l}from"./label-CM6YsqH1.js";import{T as L}from"./textarea-CP26afIU.js";import{S as g,a as f,b as v,c as N,d as y}from"./select-B6KOX9nY.js";import{A as R}from"./arrow-left-UX2kDF52.js";import{T as G}from"./ticket-B_Ks_Sjf.js";import{C as o}from"./circle-alert-DVIk47WR.js";import{P as C}from"./paperclip-BkqMpcId.js";import{X as H}from"./x-C3KwZK3B.js";import{S as I}from"./send-C-AP4C9s.js";import{C as V}from"./users-3SuyoAg3.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./NotificationComponent-CHA3vjZG.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./file-text-D25AipK4.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";function ve({categories:b,priorities:w}){const{data:r,setData:a,post:S,processing:j,errors:i,reset:k}=A({category_id:"",subject:"",description:"",priority:"medium",attachments:[]}),B=s=>{s.preventDefault();const t=new FormData;t.append("category_id",r.category_id),t.append("subject",r.subject),t.append("description",r.description),t.append("priority",r.priority),r.attachments.forEach((n,c)=>{t.append(`attachments[${c}]`,n)}),S(route("customer.support.store"),{data:t,onSuccess:()=>{k()}})},F=s=>{const t=Array.from(s.target.files||[]);a("attachments",[...r.attachments,...t])},T=s=>{const t=r.attachments.filter((n,c)=>c!==s);a("attachments",t)},P=s=>{if(s===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,c)).toFixed(2))+" "+n[c]},_=s=>{switch(s){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-muted-foreground"}};return e.jsxs(D,{children:[e.jsx(M,{title:"Create Support Ticket"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Support Ticket"}),e.jsx("p",{className:"text-muted-foreground",children:"Get help from our support team"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Ticket Details"]}),e.jsx(z,{children:"Please provide detailed information about your issue"})]}),e.jsx(p,{children:e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category_id",children:"Category"}),e.jsxs(g,{value:r.category_id,onValueChange:s=>a("category_id",s),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select a category"})}),e.jsx(N,{children:b.map(s=>e.jsx(y,{value:s.id.toString(),children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-xs text-muted-foreground",children:s.description})]})},s.id))})]}),i.category_id&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:i.category_id})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"priority",children:"Priority"}),e.jsxs(g,{value:r.priority,onValueChange:s=>a("priority",s),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select priority"})}),e.jsx(N,{children:w.map(s=>e.jsx(y,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:`h-3 w-3 ${_(s.value)}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.label}),s.description&&e.jsx("div",{className:"text-xs text-muted-foreground",children:s.description})]})]})},s.value))})]}),i.priority&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:i.priority})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"subject",children:"Subject"}),e.jsx(u,{id:"subject",value:r.subject,onChange:s=>a("subject",s.target.value),placeholder:"Brief description of your issue",className:i.subject?"border-destructive":""}),i.subject&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:i.subject})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsx(L,{id:"description",value:r.description,onChange:s=>a("description",s.target.value),placeholder:"Please provide detailed information about your issue, including steps to reproduce, error messages, and any relevant context...",rows:8,className:i.description?"border-destructive":""}),i.description&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:i.description})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Attachments"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(l,{htmlFor:"attachments",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-dashed rounded-lg hover:bg-muted transition-colors",children:[e.jsx(C,{className:"h-4 w-4"}),"Add Files"]}),e.jsx(u,{id:"attachments",type:"file",multiple:!0,onChange:F,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Max 10MB per file. Screenshots and logs are helpful!"})]}),r.attachments.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:r.attachments.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:P(s.size)})]})]}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(t),children:e.jsx(H,{className:"h-4 w-4"})})]},t))})]}),i.attachments&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:i.attachments})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs(d,{type:"submit",disabled:j,children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),j?"Creating Ticket...":"Create Ticket"]}),e.jsx(d,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(V,{className:"h-5 w-5"}),"Before Creating a Ticket"]})}),e.jsx(p,{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Check Our Resources"}),e.jsxs("ul",{className:"text-sm text-muted-foreground mt-1 space-y-1",children:[e.jsx("li",{children:"• Browse our Knowledge Base for common solutions"}),e.jsx("li",{children:"• Check the FAQ section for quick answers"}),e.jsx("li",{children:"• Review your account settings and permissions"})]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(h,{className:"text-lg",children:"Response Times"})}),e.jsx(p,{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-3 w-3 text-red-600"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"High Priority:"})," Within 2 hours"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-3 w-3 text-yellow-600"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Medium Priority:"})," Within 24 hours"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-3 w-3 text-green-600"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Low Priority:"})," Within 48 hours"]})]})]})})]})]})]})]})}export{ve as default};
