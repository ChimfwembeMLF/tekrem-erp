import{u as E,G as I,R as y,j as e,S as L,x as z}from"./app-BMIA6nir.js";import{A as H}from"./AppLayout-DbMk6clK.js";import{C as u,a as j,b as g,d as _,c as f}from"./card-BAsSN-2Z.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{I as l}from"./input-Bg5GDATO.js";import{L as o}from"./label-CM6YsqH1.js";import{T as G}from"./textarea-CP26afIU.js";import{C as T}from"./checkbox-B8CiFAgv.js";import{X as N,B as R}from"./x-C3KwZK3B.js";import{P as k}from"./plus-BjPf5uI-.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";function Be({auth:K}){const C=E(),{data:a,setData:r,post:q,processing:b,errors:m}=I({name:"",description:"",category:"",is_active:!0,template_data:{default_budget:"",default_duration_days:"",milestones:[],team_roles:[],default_tags:[]}}),[i,p]=y.useState({name:"",description:"",estimated_days:""}),[d,h]=y.useState({role:"",description:"",required:!1}),[x,w]=y.useState(""),A=t=>{t.preventDefault(),q(C("projects.templates.store"))},S=()=>{if(i.name.trim()){const t={...i,order:a.template_data.milestones.length+1};r("template_data",{...a.template_data,milestones:[...a.template_data.milestones,t]}),p({name:"",description:"",estimated_days:""})}},F=t=>{const s=a.template_data.milestones.filter((v,c)=>c!==t);r("template_data",{...a.template_data,milestones:s.map((v,c)=>({...v,order:c+1}))})},P=()=>{d.role.trim()&&(r("template_data",{...a.template_data,team_roles:[...a.template_data.team_roles,d]}),h({role:"",description:"",required:!1}))},M=t=>{const s=a.template_data.team_roles.filter((v,c)=>c!==t);r("template_data",{...a.template_data,team_roles:s})},D=()=>{x.trim()&&!a.template_data.default_tags.includes(x.trim())&&(r("template_data",{...a.template_data,default_tags:[...a.template_data.default_tags,x.trim()]}),w(""))},B=t=>{r("template_data",{...a.template_data,default_tags:a.template_data.default_tags.filter(s=>s!==t)})};return e.jsxs(H,{title:"Create Project Template",renderHeader:()=>e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Create Project Template"}),children:[e.jsx(L,{title:"Create Project Template"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:A,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Template Information"}),e.jsx(_,{children:"Create a reusable project template"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"name",children:["Template Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{id:"name",value:a.name,onChange:t=>r("name",t.target.value),placeholder:"e.g., Web Development Project"}),m.name&&e.jsx("p",{className:"text-red-500 text-sm",children:m.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"category",children:"Category"}),e.jsx(l,{id:"category",value:a.category,onChange:t=>r("category",t.target.value),placeholder:"e.g., Software Development"}),m.category&&e.jsx("p",{className:"text-red-500 text-sm",children:m.category})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:a.description,onChange:t=>r("description",t.target.value),placeholder:"Describe what this template is for and when to use it",rows:3}),m.description&&e.jsx("p",{className:"text-red-500 text-sm",children:m.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"default_budget",children:"Default Budget ($)"}),e.jsx(l,{id:"default_budget",type:"number",step:"0.01",value:a.template_data.default_budget,onChange:t=>r("template_data",{...a.template_data,default_budget:t.target.value}),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"default_duration_days",children:"Default Duration (Days)"}),e.jsx(l,{id:"default_duration_days",type:"number",value:a.template_data.default_duration_days,onChange:t=>r("template_data",{...a.template_data,default_duration_days:t.target.value}),placeholder:"30"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{id:"is_active",checked:a.is_active,onCheckedChange:t=>r("is_active",t)}),e.jsx(o,{htmlFor:"is_active",children:"Active template"})]})]})]}),e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Default Milestones"}),e.jsx(_,{children:"Define milestones that will be created for projects using this template"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-gray-50",children:[e.jsx(l,{placeholder:"Milestone name",value:i.name,onChange:t=>p({...i,name:t.target.value})}),e.jsx(l,{placeholder:"Description",value:i.description,onChange:t=>p({...i,description:t.target.value})}),e.jsx(l,{type:"number",placeholder:"Days",value:i.estimated_days,onChange:t=>p({...i,estimated_days:t.target.value})}),e.jsxs(n,{type:"button",onClick:S,children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.template_data.milestones.length>0&&e.jsx("div",{className:"space-y-2",children:a.template_data.milestones.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.description," â€¢ ",t.estimated_days," days"]})]}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",onClick:()=>F(s),children:e.jsx(N,{className:"h-4 w-4"})})]},s))})]})]}),e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Team Roles"}),e.jsx(_,{children:"Define the roles needed for projects using this template"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-gray-50",children:[e.jsx(l,{placeholder:"Role name",value:d.role,onChange:t=>h({...d,role:t.target.value})}),e.jsx(l,{placeholder:"Description",value:d.description,onChange:t=>h({...d,description:t.target.value})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{id:"role_required",checked:d.required,onCheckedChange:t=>h({...d,required:t})}),e.jsx(o,{htmlFor:"role_required",className:"text-sm",children:"Required"})]}),e.jsxs(n,{type:"button",onClick:P,children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.template_data.team_roles.length>0&&e.jsx("div",{className:"space-y-2",children:a.template_data.team_roles.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium flex items-center gap-2",children:[t.role,t.required&&e.jsx(R,{variant:"secondary",children:"Required"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(s),children:e.jsx(N,{className:"h-4 w-4"})})]},s))})]})]}),e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Default Tags"}),e.jsx(_,{children:"Tags that will be automatically applied to projects using this template"})]}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{value:x,onChange:t=>w(t.target.value),placeholder:"Enter a tag",onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),D())}),e.jsx(n,{type:"button",onClick:D,variant:"outline",children:"Add Tag"})]}),a.template_data.default_tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.template_data.default_tags.map((t,s)=>e.jsxs(R,{variant:"secondary",className:"flex items-center gap-1",children:[t,e.jsx(N,{className:"h-3 w-3 cursor-pointer",onClick:()=>B(t)})]},s))})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(z,{href:C("projects.templates.index"),children:e.jsx(n,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(n,{type:"submit",disabled:b,children:b?"Creating...":"Create Template"})]})]})})})})]})}export{Be as default};
