import{u as $,r as n,j as e,S as M,x as l,A as u}from"./app-BMIA6nir.js";import{u as V,A as z}from"./AppLayout-DbMk6clK.js";import{C as g,a as p,b as _,d as R,c as j}from"./card-BAsSN-2Z.js";import{B as i}from"./createLucideIcon-Cg8jdX0w.js";import{I as U}from"./input-Bg5GDATO.js";import{B as f}from"./x-C3KwZK3B.js";import{P as k}from"./progress-BgfGBUAj.js";import{S as y,a as v,b as N,c as w,d as r}from"./select-B6KOX9nY.js";import{S as q}from"./search-_p1CX5vB.js";import{U as b}from"./users-3SuyoAg3.js";import{D as F}from"./dollar-sign-Cli0KufN.js";import{C as O}from"./calendar-DTsvo4Hi.js";import{E as Y}from"./eye-DdivFxyT.js";import{S as G}from"./square-pen-CReBrXbl.js";import{T as J}from"./trash-2-DZc0jDKK.js";import{P as S}from"./plus-BjPf5uI-.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Ge({auth:K,projects:t,filters:c}){const a=$(),{hasPermission:o}=V(),[x,C]=n.useState(c.search||""),[m,P]=n.useState(c.status||"all"),[d,A]=n.useState(c.priority||"all"),[h,Q]=n.useState(c.category||"all"),D=s=>{s.preventDefault(),u.get(a("projects.index"),{search:x||void 0,status:m!=="all"?m:void 0,priority:d!=="all"?d:void 0,category:h!=="all"?h:void 0},{preserveState:!0,replace:!0})},B=s=>{confirm(`Are you sure you want to delete the project "${s.name}"?`)&&u.delete(a("projects.destroy",s.id))},E=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800";case"active":return"bg-blue-100 text-blue-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=s=>{switch(s){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=s=>s?`$${s.toLocaleString()}`:"N/A",L=s=>s?new Date(s).toLocaleDateString():"N/A";return e.jsxs(z,{title:"Projects",renderHeader:()=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Projects"}),o("projects.create")&&e.jsx(l,{href:a("projects.create"),children:e.jsxs(i,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Add Project"]})})]}),children:[e.jsx(M,{title:"Projects"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(g,{children:[e.jsx(p,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:e.jsxs("div",{children:[e.jsx(_,{children:"Projects"}),e.jsx(R,{children:"Manage your project portfolio"})]})}),e.jsxs(j,{children:[e.jsx("form",{onSubmit:D,className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{type:"text",placeholder:"Search projects...",value:x,onChange:s=>C(s.target.value),className:"w-full"})}),e.jsxs(y,{value:m,onValueChange:P,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Status"})}),e.jsxs(w,{children:[e.jsx(r,{value:"all",children:"All Status"}),e.jsx(r,{value:"draft",children:"Draft"}),e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"on-hold",children:"On Hold"}),e.jsx(r,{value:"completed",children:"Completed"}),e.jsx(r,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(y,{value:d,onValueChange:A,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Priority"})}),e.jsxs(w,{children:[e.jsx(r,{value:"all",children:"All Priority"}),e.jsx(r,{value:"low",children:"Low"}),e.jsx(r,{value:"medium",children:"Medium"}),e.jsx(r,{value:"high",children:"High"}),e.jsx(r,{value:"critical",children:"Critical"})]})]}),e.jsxs(i,{type:"submit",className:"w-full",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Search"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.data.length>0?t.data.map(s=>e.jsxs(g,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(p,{className:"pb-3",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{href:a("projects.show",s.id),className:"text-lg font-semibold text-blue-600 hover:underline",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:s.description||"No description"})]})}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(f,{variant:"outline",className:E(s.status),children:s.status}),e.jsx(f,{variant:"outline",className:H(s.priority),children:s.priority})]})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(k,{value:s.progress,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.client&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),s.client.name]}),s.budget&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Budget: ",I(s.budget)]}),s.deadline&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Due: ",L(s.deadline)]}),s.manager&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Manager: ",s.manager.name]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsx(l,{href:a("projects.show",s.id),children:e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Y,{className:"h-4 w-4 mr-1"}),"View"]})}),o("projects.edit")&&e.jsx(l,{href:a("projects.edit",s.id),children:e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),"Edit"]})}),o("projects.delete")&&e.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>B(s),className:"flex-1",children:[e.jsx(J,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},s.id)):e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No projects found."}),o("projects.create")&&e.jsx(l,{href:a("projects.create"),className:"mt-4 inline-block",children:e.jsxs(i,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Create Your First Project"]})})]})}),t.data.length>0&&t.last_page>1&&e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.from," to ",t.to," of ",t.total," results"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((s,T)=>e.jsx(l,{href:s.url||"#",className:`px-3 py-1 rounded ${s.active?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},T))})]})]})]})})})]})}export{Ge as default};
