import{u as D,r as b,j as e,S as E,x as n,A as o}from"./app-BMIA6nir.js";import{C as I}from"./CustomerLayout-7LFTkDxI.js";import{C as i,c as l,a as R,b as A,d as F}from"./card-BAsSN-2Z.js";import{B as y}from"./x-C3KwZK3B.js";import{B as r}from"./createLucideIcon-Cg8jdX0w.js";import{I as W}from"./input-Bg5GDATO.js";import{A as z}from"./arrow-left-UX2kDF52.js";import{S as x}from"./search-_p1CX5vB.js";import{F as p}from"./file-text-D25AipK4.js";import{C as L}from"./calendar-DTsvo4Hi.js";import{e as C}from"./NotificationComponent-CHA3vjZG.js";import{I as g}from"./image-Ct2miMof.js";import{V as M}from"./video-CV7uNjDn.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function oe({pages:m,media:d,query:t}){const a=D(),[h,c]=b.useState(t);b.useEffect(()=>{c(t)},[t]);const S=s=>{s.preventDefault(),h.trim()&&o.get(a("customer.cms.search"),{q:h.trim()})},k=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=s=>s.startsWith("image/")?e.jsx(g,{className:"h-4 w-4"}):s.startsWith("video/")?e.jsx(M,{className:"h-4 w-4"}):e.jsx(p,{className:"h-4 w-4"}),N=s=>s.startsWith("image/")?"Image":s.startsWith("video/")?"Video":"Document",u=(s,v)=>{if(!v)return s;const w=new RegExp(`(${v})`,"gi");return s.split(w).map((f,_)=>w.test(f)?e.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:f},_):f)},j=m.length+d.length;return e.jsxs(I,{children:[e.jsx(E,{title:`Search: ${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{href:a("customer.cms.index"),children:e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Back to Content"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Search Content"}),e.jsx("p",{className:"text-muted-foreground",children:"Find pages, media, and resources"})]})]}),e.jsx(i,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(W,{placeholder:"Search for content...",value:h,onChange:s=>c(s.target.value),className:"pl-10",autoFocus:!0})]}),e.jsxs(r,{type:"submit",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Search"]})]})})}),t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold",children:['Search Results for "',t,'"']}),e.jsxs("p",{className:"text-muted-foreground",children:["Found ",j," result",j!==1?"s":""]})]})}),j>0?e.jsxs("div",{className:"space-y-8",children:[m.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsxs("h3",{className:"text-lg font-semibold",children:["Pages (",m.length,")"]})]}),e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsx(n,{href:a("customer.cms.pages.show",s.slug),children:e.jsx(i,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:u(s.title,t)}),e.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2",children:u(s.excerpt,t)}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsx("span",{children:k(s.published_at)})]}),e.jsx(y,{variant:"outline",children:"Page"})]})]}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})})},s.id))})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsxs("h3",{className:"text-lg font-semibold",children:["Media (",d.length,")"]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(s=>e.jsx(n,{href:a("customer.cms.media.show",s.id),children:e.jsxs(i,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center overflow-hidden",children:s.mime_type.startsWith("image/")?e.jsx("img",{src:s.file_url||`/storage/${s.file_path}`,alt:s.alt_text||s.name,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[B(s.mime_type),e.jsx("span",{className:"text-xs text-center px-2",children:N(s.mime_type)})]})}),e.jsxs(l,{className:"p-4",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-1 mb-2",children:u(s.name,t)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{variant:"outline",className:"text-xs",children:N(s.mime_type)}),e.jsx(C,{className:"h-3 w-3 text-muted-foreground"})]})]})]})},s.id))})]})]}):e.jsx(i,{children:e.jsxs(l,{className:"text-center py-12",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No results found"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:['No content matches your search for "',t,'".']}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Try:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Using different keywords"}),e.jsx("li",{children:"• Checking your spelling"}),e.jsx("li",{children:"• Using more general terms"})]})]})]})})]}):e.jsx(i,{children:e.jsxs(l,{className:"text-center py-12",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Search Content"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Enter a search term to find pages, media, and other content."}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"Popular searches:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>{c("documentation"),o.get(a("customer.cms.search"),{q:"documentation"})},children:"Documentation"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>{c("guide"),o.get(a("customer.cms.search"),{q:"guide"})},children:"Guide"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>{c("tutorial"),o.get(a("customer.cms.search"),{q:"tutorial"})},children:"Tutorial"})]})]})]})}),e.jsxs(i,{children:[e.jsxs(R,{children:[e.jsx(A,{children:"Browse Content"}),e.jsx(F,{children:"Explore content by category"})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsx(n,{href:a("customer.cms.pages"),children:e.jsx(r,{variant:"outline",className:"w-full justify-start h-auto p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"All Pages"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Browse published content"})]})]})})}),e.jsx(n,{href:a("customer.cms.media"),children:e.jsx(r,{variant:"outline",className:"w-full justify-start h-auto p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Media Gallery"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Browse files and images"})]})]})})})]})})]})]})]})}export{oe as default};
