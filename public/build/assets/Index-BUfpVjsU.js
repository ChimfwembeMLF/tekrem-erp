import{u as z,r as c,j as e,S as G,x,A as h}from"./app-BMIA6nir.js";import{A as J}from"./AppLayout-DbMk6clK.js";import{C as k,a as F,b as R,c as E}from"./card-BAsSN-2Z.js";import{B as i}from"./createLucideIcon-Cg8jdX0w.js";import{I as u}from"./input-Bg5GDATO.js";import{B as Q}from"./x-C3KwZK3B.js";import{S as B,a as I,b as M,c as P,d as o}from"./select-B6KOX9nY.js";import{T as W,a as X,b as V,c as r,d as Y,e as a}from"./table-DqBb-9tC.js";import{D as Z,a as ee,b as se,c as p}from"./NotificationComponent-CHA3vjZG.js";import{u as te}from"./useTranslate-ER5gAOX6.js";import{t as j}from"./index-Dj2TB_RL.js";import{P as re}from"./plus-BjPf5uI-.js";import{S as ae}from"./search-_p1CX5vB.js";import{F as le}from"./funnel-v8IwREza.js";import{E as ne}from"./ellipsis-DJ3pNpl6.js";import{E as ce}from"./eye-DdivFxyT.js";import{D as ie}from"./download-CNZP3fGS.js";import{T as oe}from"./trash-2-DZc0jDKK.js";import{C as de}from"./circle-alert-DVIk47WR.js";import{C as H}from"./circle-check-big-DCsv6rXk.js";import{F as me}from"./file-text-D25AipK4.js";import{C as xe}from"./clock-BTinGqFV.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function hs({reconciliations:f,accounts:L,filters:n,statuses:g}){const{t}=te(),l=z(),[N,v]=c.useState(n.search||""),[b,S]=c.useState(n.account_id||""),[w,y]=c.useState(n.status||""),[C,D]=c.useState(n.date_from||""),[T,A]=c.useState(n.date_to||""),_=()=>{h.get(l("finance.bank-reconciliation.index"),{search:N,account_id:b,status:w,date_from:C,date_to:T},{preserveState:!0,preserveScroll:!0})},U=()=>{v(""),S(""),y(""),D(""),A(""),h.get(l("finance.bank-reconciliation.index"))},K=s=>{if(s.status==="approved"){j.error(t("Cannot delete approved reconciliations"));return}confirm(t("Are you sure you want to delete this reconciliation?"))&&h.delete(l("finance.bank-reconciliation.destroy",s.id),{onSuccess:()=>{j.success(t("Reconciliation deleted successfully"))},onError:m=>{j.error(m.error||t("Failed to delete reconciliation"))}})},O=s=>{switch(s){case"in_progress":return e.jsx(xe,{className:"h-4 w-4"});case"completed":return e.jsx(H,{className:"h-4 w-4"});case"reviewed":return e.jsx(me,{className:"h-4 w-4"});case"approved":return e.jsx(H,{className:"h-4 w-4"});default:return e.jsx(de,{className:"h-4 w-4"})}},$=s=>{switch(s){case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"reviewed":return"bg-purple-100 text-purple-800";case"approved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},q=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),d=s=>new Date(s).toLocaleDateString();return e.jsxs(J,{children:[e.jsx(G,{title:t("Bank Reconciliation")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("Bank Reconciliation")}),e.jsx("p",{className:"text-muted-foreground",children:t("Manage bank statement reconciliations and transaction matching")})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(i,{asChild:!0,children:e.jsxs(x,{href:l("finance.bank-reconciliation.create"),children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),t("New Reconciliation")]})})})]}),e.jsxs(k,{children:[e.jsx(F,{children:e.jsx(R,{className:"text-lg",children:t("Filters")})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:t("Search")}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:t("Search reconciliations..."),value:N,onChange:s=>v(s.target.value),className:"pl-10",onKeyPress:s=>s.key==="Enter"&&_()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:t("Account")}),e.jsxs(B,{value:b,onValueChange:S,children:[e.jsx(I,{children:e.jsx(M,{placeholder:t("All Accounts")})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:t("All Accounts")}),L.map(s=>e.jsxs(o,{value:s.id.toString(),children:[s.account_code," - ",s.name]},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:t("Status")}),e.jsxs(B,{value:w,onValueChange:y,children:[e.jsx(I,{children:e.jsx(M,{placeholder:t("All Statuses")})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:t("All Statuses")}),Object.entries(g).map(([s,m])=>e.jsx(o,{value:s,children:t(m)},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:t("Date From")}),e.jsx(u,{type:"date",value:C,onChange:s=>D(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:t("Date To")}),e.jsx(u,{type:"date",value:T,onChange:s=>A(s.target.value)})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-4",children:[e.jsx(i,{variant:"outline",onClick:U,children:t("Reset")}),e.jsxs(i,{onClick:_,children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),t("Apply Filters")]})]})]})]}),e.jsxs(k,{children:[e.jsx(F,{children:e.jsx(R,{children:t("Reconciliations")})}),e.jsxs(E,{children:[e.jsxs(W,{children:[e.jsx(X,{children:e.jsxs(V,{children:[e.jsx(r,{children:t("Reconciliation #")}),e.jsx(r,{children:t("Account")}),e.jsx(r,{children:t("Period")}),e.jsx(r,{children:t("Status")}),e.jsx(r,{children:t("Progress")}),e.jsx(r,{children:t("Difference")}),e.jsx(r,{children:t("Date")}),e.jsx(r,{className:"w-[100px]",children:t("Actions")})]})}),e.jsx(Y,{children:f.data.map(s=>e.jsxs(V,{children:[e.jsx(a,{className:"font-mono",children:s.reconciliation_number}),e.jsx(a,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.account.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.account.account_code})]})}),e.jsx(a,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:d(s.period_start)}),e.jsxs("div",{className:"text-muted-foreground",children:["to ",d(s.period_end)]})]})}),e.jsx(a,{children:e.jsxs(Q,{variant:"secondary",className:$(s.status),children:[O(s.status),e.jsx("span",{className:"ml-1",children:t(g[s.status])})]})}),e.jsx(a,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.progress_percentage}%`}})}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.progress_percentage,"%"]})]})}),e.jsx(a,{children:e.jsx("span",{className:s.difference===0?"text-green-600":"text-red-600",children:q(s.difference)})}),e.jsx(a,{children:d(s.reconciliation_date)}),e.jsx(a,{children:e.jsxs(Z,{children:[e.jsx(ee,{asChild:!0,children:e.jsx(i,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(ne,{className:"h-4 w-4"})})}),e.jsxs(se,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(x,{href:l("finance.bank-reconciliation.show",s.id),children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),t("View")]})}),e.jsx(p,{asChild:!0,children:e.jsxs(x,{href:l("finance.bank-reconciliation.export",s.id),children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),t("Export")]})}),s.status!=="approved"&&e.jsxs(p,{onClick:()=>K(s),className:"text-red-600",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),t("Delete")]})]})]})})]},s.id))})]}),f.data.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:t("No reconciliations found")})})]})]})]})]})}export{hs as default};
