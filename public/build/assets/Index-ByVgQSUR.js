import{u as J,r as i,j as e,S as Q,x as h,A as p}from"./app-BMIA6nir.js";import{A as W,b as X}from"./AppLayout-DbMk6clK.js";import{C as D,a as I,b as M,c as R,d as Y}from"./card-BAsSN-2Z.js";import{B as d}from"./createLucideIcon-Cg8jdX0w.js";import{I as Z}from"./input-Bg5GDATO.js";import{B as m}from"./x-C3KwZK3B.js";import{S as j,a as u,b as f,c as g,d as a}from"./select-B6KOX9nY.js";import{T as ee,a as se,b as U,c as t,d as re,e as l}from"./table-DqBb-9tC.js";import{e as ae,D as te,a as le,b as ce,c as y}from"./NotificationComponent-CHA3vjZG.js";import{u as ne}from"./useTranslate-ER5gAOX6.js";import{t as F}from"./index-Dj2TB_RL.js";import{P as ie}from"./plus-BjPf5uI-.js";import{S as oe}from"./search-_p1CX5vB.js";import{F as de}from"./funnel-v8IwREza.js";import{E as me}from"./ellipsis-DJ3pNpl6.js";import{E as he}from"./eye-DdivFxyT.js";import{S as xe}from"./square-pen-CReBrXbl.js";import{T as pe}from"./trash-2-DZc0jDKK.js";import{B as O,a as je}from"./building-2-8ZvaHfzA.js";import{T as V}from"./trending-down-nOrQI_re.js";import{T as ue}from"./trending-up-00s2SIxN.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function fs({accounts:o,categories:P,types:q,filters:n}){const{t:s}=ne(),c=J(),[v,N]=i.useState(n.search||""),[C,b]=i.useState(n.category||""),[S,w]=i.useState(n.type||""),[A,T]=i.useState(n.level||""),[_,L]=i.useState(n.system_accounts_only||!1),[k,E]=i.useState(n.manual_entries_only||!1),B=()=>{p.get(c("finance.chart-of-accounts.index"),{search:v,category:C,type:S,level:A,system_accounts_only:_,manual_entries_only:k},{preserveState:!0,preserveScroll:!0})},H=()=>{N(""),b(""),w(""),T(""),L(!1),E(!1),p.get(c("finance.chart-of-accounts.index"))},K=r=>{confirm(s("Are you sure you want to delete this account?"))&&p.delete(c("finance.chart-of-accounts.destroy",r.id),{onSuccess:()=>{F.success(s("Account deleted successfully"))},onError:x=>{F.error(x.error||s("Failed to delete account"))}})},$=r=>{switch(r){case"assets":return e.jsx(O,{className:"h-4 w-4"});case"liabilities":return e.jsx(V,{className:"h-4 w-4"});case"equity":return e.jsx(je,{className:"h-4 w-4"});case"income":return e.jsx(ue,{className:"h-4 w-4"});case"expenses":return e.jsx(V,{className:"h-4 w-4"});default:return e.jsx(O,{className:"h-4 w-4"})}},z=r=>{switch(r){case"assets":return"bg-blue-100 text-blue-800";case"liabilities":return"bg-red-100 text-red-800";case"equity":return"bg-purple-100 text-purple-800";case"income":return"bg-green-100 text-green-800";case"expenses":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},G=(r,x="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:x}).format(r);return e.jsxs(W,{children:[e.jsx(Q,{title:s("Chart of Accounts")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Chart of Accounts")}),e.jsx("p",{className:"text-muted-foreground",children:s("Manage your hierarchical chart of accounts structure")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{asChild:!0,variant:"outline",children:e.jsxs(h,{href:c("finance.chart-of-accounts.tree"),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),s("Tree View")]})}),e.jsx(d,{asChild:!0,children:e.jsxs(h,{href:c("finance.chart-of-accounts.create"),children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),s("Add Account")]})})]})]}),e.jsxs(D,{children:[e.jsx(I,{children:e.jsx(M,{className:"text-lg",children:s("Filters")})}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:s("Search")}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Z,{placeholder:s("Search accounts..."),value:v,onChange:r=>N(r.target.value),className:"pl-10",onKeyPress:r=>r.key==="Enter"&&B()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:s("Category")}),e.jsxs(j,{value:C,onValueChange:b,children:[e.jsx(u,{children:e.jsx(f,{placeholder:s("All Categories")})}),e.jsxs(g,{children:[e.jsx(a,{value:"",children:s("All Categories")}),P.map(r=>e.jsx(a,{value:r,children:s(r.charAt(0).toUpperCase()+r.slice(1))},r))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:s("Type")}),e.jsxs(j,{value:S,onValueChange:w,children:[e.jsx(u,{children:e.jsx(f,{placeholder:s("All Types")})}),e.jsxs(g,{children:[e.jsx(a,{value:"",children:s("All Types")}),q.map(r=>e.jsx(a,{value:r,children:s(r.charAt(0).toUpperCase()+r.slice(1))},r))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:s("Level")}),e.jsxs(j,{value:A,onValueChange:T,children:[e.jsx(u,{children:e.jsx(f,{placeholder:s("All Levels")})}),e.jsxs(g,{children:[e.jsx(a,{value:"",children:s("All Levels")}),e.jsx(a,{value:"0",children:s("Level 0 (Root)")}),e.jsx(a,{value:"1",children:s("Level 1")}),e.jsx(a,{value:"2",children:s("Level 2")}),e.jsx(a,{value:"3",children:s("Level 3")}),e.jsx(a,{value:"4",children:s("Level 4+")})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:r=>L(r.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm",children:s("System Accounts Only")})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:r=>E(r.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm",children:s("Manual Entries Only")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{variant:"outline",onClick:H,children:s("Reset")}),e.jsxs(d,{onClick:B,children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),s("Apply Filters")]})]})]})]})]}),e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsx(M,{children:s("Accounts")}),e.jsx(Y,{children:s("Showing :from to :to of :total accounts",{from:o.from,to:o.to,total:o.total})})]}),e.jsxs(R,{children:[e.jsxs(ee,{children:[e.jsx(se,{children:e.jsxs(U,{children:[e.jsx(t,{children:s("Account Code")}),e.jsx(t,{children:s("Account Name")}),e.jsx(t,{children:s("Category")}),e.jsx(t,{children:s("Type")}),e.jsx(t,{children:s("Level")}),e.jsx(t,{children:s("Balance")}),e.jsx(t,{children:s("Status")}),e.jsx(t,{className:"w-[100px]",children:s("Actions")})]})}),e.jsx(re,{children:o.data.map(r=>e.jsxs(U,{children:[e.jsx(l,{className:"font-mono",children:r.account_code}),e.jsx(l,{children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{style:{marginLeft:`${r.level*20}px`},children:[r.level>0&&e.jsx(ae,{className:"h-4 w-4 text-muted-foreground inline mr-1"}),e.jsx("span",{className:"font-medium",children:r.name})]})})}),e.jsx(l,{children:e.jsxs(m,{variant:"secondary",className:z(r.account_category),children:[$(r.account_category),e.jsx("span",{className:"ml-1",children:s(r.account_category.charAt(0).toUpperCase()+r.account_category.slice(1))})]})}),e.jsx(l,{children:e.jsx(m,{variant:"outline",children:s(r.type.charAt(0).toUpperCase()+r.type.slice(1))})}),e.jsx(l,{children:e.jsx(m,{variant:"outline",children:r.level})}),e.jsx(l,{children:e.jsx("span",{className:r.balance>=0?"text-green-600":"text-red-600",children:G(r.balance)})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{variant:r.is_active?"default":"secondary",children:r.is_active?s("Active"):s("Inactive")}),r.is_system_account&&e.jsx(m,{variant:"outline",className:"text-xs",children:s("System")})]})}),e.jsx(l,{children:e.jsxs(te,{children:[e.jsx(le,{asChild:!0,children:e.jsx(d,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(me,{className:"h-4 w-4"})})}),e.jsxs(ce,{align:"end",children:[e.jsx(y,{asChild:!0,children:e.jsxs(h,{href:c("finance.chart-of-accounts.show",r.id),children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),s("View")]})}),e.jsx(y,{asChild:!0,children:e.jsxs(h,{href:c("finance.chart-of-accounts.edit",r.id),children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),s("Edit")]})}),!r.is_system_account&&e.jsxs(y,{onClick:()=>K(r),className:"text-red-600",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),s("Delete")]})]})]})})]},r.id))})]}),o.data.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:s("No accounts found")})})]})]})]})]})}export{fs as default};
