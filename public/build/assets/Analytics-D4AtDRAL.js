import{j as e,S as g}from"./app-BMIA6nir.js";import{A as f}from"./AppLayout-DbMk6clK.js";import{C as r,a as i,b as l,c as d,d as c}from"./card-BAsSN-2Z.js";import{B as N}from"./x-C3KwZK3B.js";import{P as v}from"./progress-BgfGBUAj.js";import{F as b}from"./NotificationComponent-CHA3vjZG.js";import{C as x}from"./circle-check-big-DCsv6rXk.js";import{D as j}from"./dollar-sign-Cli0KufN.js";import{C as _}from"./clock-BTinGqFV.js";import{R as h,a as w,T as p,C,X as y,Y as z,L as P}from"./generateCategoricalChart-71Idvjih.js";import{P as A,a as S}from"./PieChart-CoJ2J4Cg.js";import{L as T,a as u}from"./LineChart-CiUXfZQg.js";import{T as k}from"./triangle-alert-BWIpgUmg.js";import{U as B}from"./users-3SuyoAg3.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./createLucideIcon-Cg8jdX0w.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./bell-5VRgJnzP.js";import"./tiny-invariant-BaFNuDhB.js";function Ae({auth:L,analytics:t}){const m=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],a=s=>s?`$${s.toLocaleString()}`:"$0",n=t.total_budget>0?Math.round(t.total_spent/t.total_budget*100):0;return e.jsxs(f,{title:"Projects Analytics",renderHeader:()=>e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Projects Analytics"}),children:[e.jsx(g,{title:"Projects Analytics"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Projects"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_projects}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.active_projects," active projects"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Completion Rate"}),e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t.total_projects>0?Math.round(t.completed_projects/t.total_projects*100):0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.completed_projects," completed"]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Budget Utilization"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[n,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a(t.total_spent)," of ",a(t.total_budget)]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Avg. Completion Time"}),e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Math.round(t.average_completion_time||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"days average"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Project Status Distribution"}),e.jsx(c,{children:"Current status breakdown of all projects"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(A,{children:[e.jsx(S,{data:t.project_status_distribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:s,percentage:o})=>`${s}: ${o}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:t.project_status_distribution.map((s,o)=>e.jsx(w,{fill:m[o%m.length]},`cell-${o}`))}),e.jsx(p,{})]})})})})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Monthly Project Trend"}),e.jsx(c,{children:"Projects started vs completed over time"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-80",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(T,{data:t.monthly_completion_trend,children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(y,{dataKey:"month"}),e.jsx(z,{}),e.jsx(p,{}),e.jsx(P,{}),e.jsx(u,{type:"monotone",dataKey:"started",stroke:"#8884d8",name:"Started"}),e.jsx(u,{type:"monotone",dataKey:"completed",stroke:"#82ca9d",name:"Completed"})]})})})})]})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Team Utilization"}),e.jsx(c,{children:"Team member workload and utilization rates"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:t.team_utilization.length>0?t.team_utilization.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.user_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.active_projects," active projects â€¢ ",s.total_hours,"h logged"]})]}),e.jsxs(N,{variant:s.utilization_percentage>80?"destructive":s.utilization_percentage>60?"default":"secondary",children:[Math.round(s.utilization_percentage),"% utilized"]})]}),e.jsx(v,{value:s.utilization_percentage,className:"h-2"})]},s.user_id)):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No team utilization data available"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(l,{children:"Total Budget"})}),e.jsxs(d,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a(t.total_budget)}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Allocated across all projects"})]})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(l,{children:"Total Spent"})}),e.jsxs(d,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:a(t.total_spent)}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[n,"% of total budget"]})]})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(l,{children:"Remaining Budget"})}),e.jsxs(d,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:a(t.total_budget-t.total_spent)}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Available for allocation"})]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Project Status Summary"}),e.jsx(c,{children:"Detailed breakdown of project statuses"})]}),e.jsx(d,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:t.project_status_distribution.map((s,o)=>e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:m[o%m.length]},children:s.count}),e.jsx("div",{className:"text-sm font-medium capitalize",children:s.status}),e.jsxs("div",{className:"text-xs text-gray-600",children:[s.percentage,"%"]})]},s.status))})})]}),e.jsxs(r,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Alerts & Recommendations"}),e.jsx(c,{children:"System-generated insights and recommendations"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[t.overdue_projects>0&&e.jsxs("div",{className:"flex items-center p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(k,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Overdue Projects"}),e.jsxs("p",{className:"text-sm text-red-600",children:[t.overdue_projects," projects are overdue and need immediate attention."]})]})]}),n>80&&e.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(j,{className:"h-5 w-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"High Budget Utilization"}),e.jsxs("p",{className:"text-sm text-yellow-600",children:["Budget utilization is at ",n,"%. Consider reviewing project costs."]})]})]}),t.team_utilization.some(s=>s.utilization_percentage>90)&&e.jsxs("div",{className:"flex items-center p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(B,{className:"h-5 w-5 text-orange-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-orange-800",children:"Team Overutilization"}),e.jsx("p",{className:"text-sm text-orange-600",children:"Some team members are over 90% utilized. Consider workload redistribution."})]})]}),t.overdue_projects===0&&n<80&&!t.team_utilization.some(s=>s.utilization_percentage>90)&&e.jsxs("div",{className:"flex items-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(x,{className:"h-5 w-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"All Systems Green"}),e.jsx("p",{className:"text-sm text-green-600",children:"No critical issues detected. Projects are on track and within budget."})]})]})]})})]})]})]})}export{Ae as default};
