import{j as e,S as b,x as p,A}from"./app-BMIA6nir.js";import{A as P,a as f,T as U}from"./AppLayout-DbMk6clK.js";import{C as i,a as c,b as m,c as o}from"./card-BAsSN-2Z.js";import{B as x}from"./createLucideIcon-Cg8jdX0w.js";import{B as M}from"./x-C3KwZK3B.js";import{P as k}from"./progress-BgfGBUAj.js";import{D as E,a as L,b as R,c as I}from"./NotificationComponent-CHA3vjZG.js";import{u as H}from"./useTranslate-ER5gAOX6.js";import{t as h}from"./index-Dj2TB_RL.js";import{A as z}from"./arrow-left-UX2kDF52.js";import{S as F}from"./square-pen-CReBrXbl.js";import{E as Y}from"./ellipsis-DJ3pNpl6.js";import{T as q}from"./trash-2-DZc0jDKK.js";import{D as W}from"./dollar-sign-Cli0KufN.js";import{T as d}from"./trending-up-00s2SIxN.js";import{T as j}from"./trending-down-nOrQI_re.js";import{C as g}from"./calendar-DTsvo4Hi.js";import{H as G}from"./hash-DHWgar7Q.js";import{T as N}from"./target-DIhftedx.js";import{B as J}from"./building-DIkCZBBP.js";import{T as y}from"./triangle-alert-BWIpgUmg.js";import{C as K}from"./clock-BTinGqFV.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./bell-5VRgJnzP.js";function We({budget:s,statuses:w,periodTypes:v}){const{t}=H(),_=()=>{confirm(t("common.confirm_delete","Are you sure you want to delete this item?"))&&A.delete(route("finance.budgets.destroy",s.id),{onSuccess:()=>{h.success(t("finance.budget_deleted","Budget deleted successfully"))},onError:()=>{h.error(t("common.error_occurred","An error occurred"))}})},n=(a,l="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:l}).format(a),D=a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"exceeded":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},C=(a,l)=>l>0?Math.round(a/l*100):0,T=a=>a>=100?"bg-red-500":a>=80?"bg-yellow-500":"bg-green-500",S=a=>a>=100?e.jsx(y,{className:"h-4 w-4 text-red-600"}):a>=80?e.jsx(d,{className:"h-4 w-4 text-yellow-600"}):e.jsx(j,{className:"h-4 w-4 text-green-600"}),r=C(s.spent_amount,s.amount),u=Math.ceil((new Date(s.end_date).getTime()-new Date().getTime())/(1e3*60*60*24)),B=Math.ceil((new Date(s.end_date).getTime()-new Date(s.start_date).getTime())/(1e3*60*60*24));return e.jsxs(P,{title:s.name,breadcrumbs:[{label:t("finance.title","Finance"),href:"/finance"},{label:t("finance.budgets","Budgets"),href:"/finance/budgets"},{label:s.name}],children:[e.jsx(b,{title:s.name}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(p,{href:route("finance.budgets.index"),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),t("common.back","Back")]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[e.jsx(f,{className:"h-8 w-8"}),s.name]}),e.jsx("p",{className:"text-muted-foreground",children:s.description||t("finance.budget_details","Budget Details")})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{asChild:!0,children:e.jsxs(p,{href:route("finance.budgets.edit",s.id),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),t("common.edit","Edit")]})}),e.jsxs(E,{children:[e.jsx(L,{asChild:!0,children:e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsx(R,{align:"end",children:e.jsxs(I,{onClick:_,className:"text-red-600",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),t("common.delete","Delete")]})})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(i,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:t("finance.budget_amount","Budget Amount")}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(o,{children:e.jsx("div",{className:"text-2xl font-bold",children:n(s.amount,s.account.currency)})})]}),e.jsxs(i,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:t("finance.spent_amount","Spent Amount")}),e.jsx(d,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n(s.spent_amount,s.account.currency)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r,"% of budget"]})]})]}),e.jsxs(i,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:t("finance.remaining_amount","Remaining Amount")}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n(s.remaining_amount,s.account.currency)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[100-r,"% remaining"]})]})]}),e.jsxs(i,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:t("finance.days_remaining","Days Remaining")}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u>0?u:0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",B," total days"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),t("finance.budget_information","Budget Information")]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(G,{className:"h-4 w-4"}),t("finance.budget_name","Budget Name")]}),e.jsx("p",{className:"font-medium",children:s.name})]}),s.description&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),t("finance.description","Description")]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(g,{className:"h-4 w-4"}),t("finance.budget_period","Budget Period")]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:v[s.period_type]||s.period_type}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),t("common.status","Status")]}),e.jsx(M,{className:D(s.status),variant:"secondary",children:w[s.status]||s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(J,{className:"h-4 w-4"}),t("finance.account","Account")]}),e.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[e.jsx("p",{className:"font-medium",children:s.account.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.account.type," - ",s.account.currency]})]})]})]})]}),e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4"}),t("finance.budget_usage","Budget Usage")]})}),e.jsxs(o,{className:"space-y-4",children:[s.category&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(U,{className:"h-4 w-4"}),t("finance.category","Category")]}),e.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[e.jsx("p",{className:"font-medium",children:s.category.name}),s.category.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(d,{className:"h-4 w-4"}),t("finance.spending_progress","Spending Progress")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:[n(s.spent_amount,s.account.currency)," / ",n(s.amount,s.account.currency)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S(r),e.jsxs("span",{className:"text-sm font-medium",children:[r,"%"]})]})]}),e.jsx(k,{value:r,className:"h-3",style:{"--progress-background":T(r)}}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:t("finance.spent","Spent")}),e.jsxs("span",{children:[t("finance.remaining","Remaining"),": ",n(s.remaining_amount,s.account.currency)]})]})]})]}),r>=80&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:r>=100?t("finance.budget_exceeded","Budget Exceeded"):t("finance.budget_warning","Budget Warning")})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:r>=100?t("finance.budget_exceeded_message","You have exceeded your budget limit."):t("finance.budget_warning_message","You are approaching your budget limit.")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(K,{className:"h-4 w-4"}),t("common.timestamps","Timestamps")]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[t("common.created","Created"),":"]})," ",new Date(s.created_at).toLocaleString()]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("common.updated","Updated"),":"]})," ",new Date(s.updated_at).toLocaleString()]})]})]})]})]})]})]})]})}export{We as default};
