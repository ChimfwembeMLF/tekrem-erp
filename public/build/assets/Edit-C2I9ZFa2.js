import{u as O,r as F,G as $,j as e,S as W}from"./app-BMIA6nir.js";import{A as X}from"./AppLayout-DbMk6clK.js";import{B as p}from"./createLucideIcon-Cg8jdX0w.js";import{I as d}from"./input-Bg5GDATO.js";import{L as i}from"./label-CM6YsqH1.js";import{T as w}from"./textarea-CP26afIU.js";import{S as x,a as j,b as u,c as v,d as n}from"./select-B6KOX9nY.js";import{C as y,a as _,b as f,d as N,c as C}from"./card-BAsSN-2Z.js";import{C as k}from"./checkbox-B8CiFAgv.js";import{u as J}from"./useTranslate-ER5gAOX6.js";import{G as K}from"./graduation-cap-leaforsl.js";import{X as P}from"./x-C3KwZK3B.js";import{P as Q}from"./plus-BjPf5uI-.js";import{S as Y}from"./save-D6UyxhH5.js";import{A as Z}from"./arrow-left-UX2kDF52.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Ke({training:s,instructors:U,categories:I}){var T,A,M,D;J();const b=O(),[m,g]=F.useState(s.materials||[""]),[h,E]=F.useState([]),{data:r,setData:a,put:L,processing:q,errors:c}=$({title:s.title,description:s.description,type:s.type,category:s.category||"",instructor_id:((T=s.instructor_id)==null?void 0:T.toString())||"",provider:s.provider||"",start_date:s.start_date,end_date:s.end_date,start_time:s.start_time||"",end_time:s.end_time||"",location:s.location||"",mode:s.mode,max_participants:((A=s.max_participants)==null?void 0:A.toString())||"",cost_per_participant:((M=s.cost_per_participant)==null?void 0:M.toString())||"",currency:s.currency,prerequisites:s.prerequisites||"",learning_objectives:s.learning_objectives||"",materials:s.materials||[],is_mandatory:s.is_mandatory,requires_certification:s.requires_certification,certification_validity_months:((D=s.certification_validity_months)==null?void 0:D.toString())||"",attachments:[]});F.useEffect(()=>{m.length===0&&g([""])},[]);const V=t=>{t.preventDefault();const l=m.filter(o=>o.trim()!=="");L(b("hr.training.update",s.id),{...r,materials:l,attachments:h})},B=()=>{g([...m,""])},G=t=>{const l=m.filter((o,S)=>S!==t);g(l),a("materials",l)},R=(t,l)=>{const o=[...m];o[t]=l,g(o),a("materials",o)},z=t=>{if(t.target.files){const l=Array.from(t.target.files);E([...h,...l]),a("attachments",[...h,...l])}},H=t=>{const l=h.filter((o,S)=>S!==t);E(l),a("attachments",l)};return e.jsxs(X,{title:`Edit Training: ${s.title}`,renderHeader:()=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:b("hr.training.show",s.id),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Back to Training"]})}),e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Edit Training: ",s.title]})]}),children:[e.jsx(W,{title:`Edit Training: ${s.title}`}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[e.jsxs(y,{children:[e.jsxs(_,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Basic Information"]}),e.jsx(N,{children:"Update the basic details for the training program"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Title *"}),e.jsx(d,{id:"title",type:"text",value:r.title,onChange:t=>a("title",t.target.value),className:c.title?"border-red-500":"",placeholder:"Enter training title"}),c.title&&e.jsx("p",{className:"text-sm text-red-500",children:c.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"type",children:"Type *"}),e.jsxs(x,{value:r.type,onValueChange:t=>a("type",t),children:[e.jsx(j,{className:c.type?"border-red-500":"",children:e.jsx(u,{placeholder:"Select training type"})}),e.jsxs(v,{children:[e.jsx(n,{value:"internal",children:"Internal"}),e.jsx(n,{value:"external",children:"External"}),e.jsx(n,{value:"online",children:"Online"}),e.jsx(n,{value:"certification",children:"Certification"})]})]}),c.type&&e.jsx("p",{className:"text-sm text-red-500",children:c.type})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Description *"}),e.jsx(w,{id:"description",value:r.description,onChange:t=>a("description",t.target.value),className:c.description?"border-red-500":"",placeholder:"Describe the training program",rows:3}),c.description&&e.jsx("p",{className:"text-sm text-red-500",children:c.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category",children:"Category"}),e.jsxs(x,{value:r.category,onValueChange:t=>a("category",t),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select or enter category"})}),e.jsx(v,{children:I.map(t=>e.jsx(n,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"instructor_id",children:"Instructor"}),e.jsxs(x,{value:r.instructor_id,onValueChange:t=>a("instructor_id",t),children:[e.jsx(j,{children:e.jsx(u,{placeholder:"Select instructor"})}),e.jsx(v,{children:U.map(t=>e.jsx(n,{value:t.id.toString(),children:t.name},t.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"provider",children:"External Provider"}),e.jsx(d,{id:"provider",type:"text",value:r.provider,onChange:t=>a("provider",t.target.value),placeholder:"Enter provider name (if external)"})]})]})]}),e.jsxs(y,{children:[e.jsxs(_,{children:[e.jsx(f,{children:"Schedule & Logistics"}),e.jsx(N,{children:"Update the training schedule and logistics details"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"start_date",children:"Start Date *"}),e.jsx(d,{id:"start_date",type:"date",value:r.start_date,onChange:t=>a("start_date",t.target.value),className:c.start_date?"border-red-500":""}),c.start_date&&e.jsx("p",{className:"text-sm text-red-500",children:c.start_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"end_date",children:"End Date *"}),e.jsx(d,{id:"end_date",type:"date",value:r.end_date,onChange:t=>a("end_date",t.target.value),className:c.end_date?"border-red-500":""}),c.end_date&&e.jsx("p",{className:"text-sm text-red-500",children:c.end_date})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"start_time",children:"Start Time"}),e.jsx(d,{id:"start_time",type:"time",value:r.start_time,onChange:t=>a("start_time",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"end_time",children:"End Time"}),e.jsx(d,{id:"end_time",type:"time",value:r.end_time,onChange:t=>a("end_time",t.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"mode",children:"Mode *"}),e.jsxs(x,{value:r.mode,onValueChange:t=>a("mode",t),children:[e.jsx(j,{className:c.mode?"border-red-500":"",children:e.jsx(u,{placeholder:"Select training mode"})}),e.jsxs(v,{children:[e.jsx(n,{value:"in_person",children:"In Person"}),e.jsx(n,{value:"online",children:"Online"}),e.jsx(n,{value:"hybrid",children:"Hybrid"})]})]}),c.mode&&e.jsx("p",{className:"text-sm text-red-500",children:c.mode})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"location",children:"Location"}),e.jsx(d,{id:"location",type:"text",value:r.location,onChange:t=>a("location",t.target.value),placeholder:"Enter location or online platform"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"max_participants",children:"Max Participants"}),e.jsx(d,{id:"max_participants",type:"number",value:r.max_participants,onChange:t=>a("max_participants",t.target.value),placeholder:"Enter maximum participants",min:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"cost_per_participant",children:"Cost per Participant"}),e.jsx(d,{id:"cost_per_participant",type:"number",step:"0.01",value:r.cost_per_participant,onChange:t=>a("cost_per_participant",t.target.value),placeholder:"0.00",min:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currency",children:"Currency"}),e.jsxs(x,{value:r.currency,onValueChange:t=>a("currency",t),children:[e.jsx(j,{children:e.jsx(u,{})}),e.jsxs(v,{children:[e.jsx(n,{value:"USD",children:"USD"}),e.jsx(n,{value:"EUR",children:"EUR"}),e.jsx(n,{value:"GBP",children:"GBP"}),e.jsx(n,{value:"CAD",children:"CAD"})]})]})]})]})]})]}),e.jsxs(y,{children:[e.jsxs(_,{children:[e.jsx(f,{children:"Training Content"}),e.jsx(N,{children:"Update the training content and requirements"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"learning_objectives",children:"Learning Objectives"}),e.jsx(w,{id:"learning_objectives",value:r.learning_objectives,onChange:t=>a("learning_objectives",t.target.value),placeholder:"What will participants learn from this training?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"prerequisites",children:"Prerequisites"}),e.jsx(w,{id:"prerequisites",value:r.prerequisites,onChange:t=>a("prerequisites",t.target.value),placeholder:"Any prerequisites or requirements for this training",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Training Materials"}),m.map((t,l)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{value:t,onChange:o=>R(l,o.target.value),placeholder:"Enter material description",className:"flex-1"}),e.jsx(p,{type:"button",variant:"outline",size:"sm",onClick:()=>G(l),disabled:m.length===1,children:e.jsx(P,{className:"h-4 w-4"})})]},l)),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:B,children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Add Material"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"attachments",children:"New Attachments"}),e.jsx(d,{id:"attachments",type:"file",multiple:!0,onChange:z,accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx"}),h.length>0&&e.jsx("div",{className:"space-y-2",children:h.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsx("span",{className:"text-sm",children:t.name}),e.jsx(p,{type:"button",variant:"outline",size:"sm",onClick:()=>H(l),children:e.jsx(P,{className:"h-4 w-4"})})]},l))}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Existing Attachments"}),s.attachments.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-gray-50",children:[e.jsx("span",{className:"text-sm",children:t.name||`Attachment ${l+1}`}),e.jsx("span",{className:"text-xs text-gray-500",children:"Existing file"})]},l))]})]})]})]}),e.jsxs(y,{children:[e.jsxs(_,{children:[e.jsx(f,{children:"Settings"}),e.jsx(N,{children:"Configure training settings and certification options"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{id:"is_mandatory",checked:r.is_mandatory,onCheckedChange:t=>a("is_mandatory",t)}),e.jsx(i,{htmlFor:"is_mandatory",children:"Mandatory Training"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{id:"requires_certification",checked:r.requires_certification,onCheckedChange:t=>a("requires_certification",t)}),e.jsx(i,{htmlFor:"requires_certification",children:"Requires Certification"})]}),r.requires_certification&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"certification_validity_months",children:"Certification Validity (Months)"}),e.jsx(d,{id:"certification_validity_months",type:"number",value:r.certification_validity_months,onChange:t=>a("certification_validity_months",t.target.value),placeholder:"Enter validity period in months",min:"1"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(p,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:b("hr.training.show",s.id),children:"Cancel"})}),e.jsxs(p,{type:"submit",disabled:q,children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),q?"Updating...":"Update Training Program"]})]})]})})})]})}export{Ke as default};
