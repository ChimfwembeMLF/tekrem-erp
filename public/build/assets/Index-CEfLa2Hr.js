import{r as h,j as e,S as L,A as V}from"./app-BMIA6nir.js";import{A as O}from"./AppLayout-DbMk6clK.js";import{C as c,a as l,b as o,c as d,d as E}from"./card-BAsSN-2Z.js";import{B as p}from"./createLucideIcon-Cg8jdX0w.js";import{B as U}from"./x-C3KwZK3B.js";import{A as S,a as C}from"./alert-CNp8ZuHk.js";import{u as z}from"./useTranslate-ER5gAOX6.js";import{t as r}from"./index-Dj2TB_RL.js";import{R as x}from"./refresh-cw-CkrxGXg9.js";import{C as T}from"./circle-check-big-DCsv6rXk.js";import{D as P}from"./download-CNZP3fGS.js";import{G as X}from"./globe-S29F6yCY.js";import{E as q}from"./external-link-DiDOWbPw.js";import{S as K}from"./search-_p1CX5vB.js";import{U as M}from"./upload-DoO0wQwa.js";import{T as u}from"./triangle-alert-BWIpgUmg.js";import{F as k}from"./file-text-D25AipK4.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Pe({sitemapExists:n,lastGenerated:j,pageCount:A,recentPages:f,sitemapUrl:R}){const{t:s}=z(),[g,N]=h.useState(!1),[v,w]=h.useState(!1),[b,_]=h.useState(!1),[i,G]=h.useState(null),F=async()=>{var t;N(!0);try{const a=await(await fetch(route("cms.sitemap.generate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""}})).json();a.success?(r.success(a.message),V.reload()):r.error(a.message)}catch{r.error(s("cms.sitemap_generation_failed","Failed to generate sitemap"))}finally{N(!1)}},D=async()=>{var t;w(!0);try{const a=await(await fetch(route("cms.sitemap.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""}})).json();G(a),a.valid?r.success(s("cms.sitemap_valid","Sitemap is valid")):r.error(a.message)}catch{r.error(s("cms.sitemap_validation_failed","Failed to validate sitemap"))}finally{w(!1)}},B=async()=>{var t;_(!0);try{const a=await(await fetch(route("cms.sitemap.submit"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""}})).json();a.success?r.success(a.message):r.error(a.message)}catch{r.error(s("cms.sitemap_submission_failed","Failed to submit sitemap"))}finally{_(!1)}},I=()=>{window.open(route("cms.sitemap.download"),"_blank")},y=t=>new Date(t).toLocaleString();return e.jsxs(O,{children:[e.jsx(L,{title:s("cms.sitemap","Sitemap")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("cms.sitemap","Sitemap")}),e.jsx("p",{className:"text-muted-foreground",children:s("cms.sitemap_description","Generate and manage XML sitemaps")})]}),e.jsxs("div",{className:"flex gap-2",children:[n&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{variant:"outline",onClick:D,disabled:v,children:[v?e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(T,{className:"h-4 w-4 mr-2"}),s("cms.validate","Validate")]}),e.jsxs(p,{variant:"outline",onClick:I,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),s("cms.download","Download")]})]}),e.jsxs(p,{onClick:F,disabled:g,children:[g?e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(x,{className:"h-4 w-4 mr-2"}),n?s("cms.regenerate","Regenerate"):s("cms.generate","Generate")]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(c,{children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),s("cms.sitemap_status","Sitemap Status")]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s("cms.status","Status")}),e.jsx(U,{variant:n?"default":"secondary",children:n?s("cms.exists","Exists"):s("cms.not_generated","Not Generated")})]}),n&&j&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s("cms.last_generated","Last Generated")}),e.jsx("span",{className:"text-sm text-muted-foreground",children:y(j)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s("cms.pages_included","Pages Included")}),e.jsx("span",{className:"text-sm font-medium",children:A})]}),n&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s("cms.sitemap_url","Sitemap URL")}),e.jsx(p,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs("a",{href:R,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),s("cms.view","View")]})})]})]})})]}),e.jsxs(c,{children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),s("cms.search_engines","Search Engines")]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("cms.submit_sitemap_description","Submit your sitemap to search engines for better indexing")}),n?e.jsxs(p,{onClick:B,disabled:b,className:"w-full",children:[b?e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(M,{className:"h-4 w-4 mr-2"}),s("cms.submit_to_search_engines","Submit to Search Engines")]}):e.jsxs(S,{children:[e.jsx(u,{className:"h-4 w-4"}),e.jsx(C,{children:s("cms.generate_sitemap_first","Generate a sitemap first before submitting to search engines")})]})]})})]})]}),i&&e.jsxs(c,{children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[i.valid?e.jsx(T,{className:"h-5 w-5 text-green-600"}):e.jsx(u,{className:"h-5 w-5 text-red-600"}),s("cms.validation_results","Validation Results")]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(S,{variant:i.valid?"default":"destructive",children:e.jsx(C,{children:i.message})}),i.stats&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:s("cms.url_count","URL Count")}),e.jsx("div",{className:"font-medium",children:i.stats.url_count})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:s("cms.file_size","File Size")}),e.jsxs("div",{className:"font-medium",children:[i.stats.file_size_mb," MB"]})]})]}),i.warnings&&i.warnings.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:s("cms.warnings","Warnings")}),e.jsx("ul",{className:"space-y-1",children:i.warnings.map((t,m)=>e.jsxs("li",{className:"text-sm text-yellow-600 flex items-center gap-2",children:[e.jsx(u,{className:"h-3 w-3"}),t]},m))})]})]})})]}),e.jsxs(c,{children:[e.jsxs(l,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("cms.recent_pages","Recent Pages")]}),e.jsx(E,{children:s("cms.recent_pages_description","Recently updated pages that will be included in the sitemap")})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[f.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:t.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.slug]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:s("cms.updated","Updated")}),e.jsx("div",{className:"text-sm font-medium",children:y(t.updated_at)})]})]},t.id)),f.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:s("cms.no_pages_found","No pages found")}),e.jsx("p",{className:"text-sm",children:s("cms.create_pages_for_sitemap","Create some pages to include in your sitemap")})]})]})})]}),e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(o,{children:s("cms.sitemap_information","Sitemap Information")})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:s("cms.what_is_sitemap","What is a sitemap?")}),e.jsx("p",{className:"text-muted-foreground",children:s("cms.sitemap_explanation","A sitemap is a file that provides information about the pages, videos, and other files on your site, and the relationships between them. Search engines like Google read this file to crawl your site more efficiently.")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:s("cms.automatic_generation","Automatic Generation")}),e.jsx("p",{className:"text-muted-foreground",children:s("cms.automatic_generation_explanation","The sitemap is automatically generated based on your published pages. It includes information about when pages were last modified, how often they change, and their relative importance.")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:s("cms.search_engine_submission","Search Engine Submission")}),e.jsx("p",{className:"text-muted-foreground",children:s("cms.submission_explanation","After generating your sitemap, you can submit it to search engines like Google and Bing to help them discover and index your content more effectively.")})]})]})})]})]})]})}export{Pe as default};
