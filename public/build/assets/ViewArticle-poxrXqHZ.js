import{u as S,r as _,G as p,j as e,S as B,x as l}from"./app-BMIA6nir.js";import{C as H}from"./CustomerLayout-7LFTkDxI.js";import{C as n,a as i,c,b as o,d as u}from"./card-BAsSN-2Z.js";import{B as T,U as A}from"./x-C3KwZK3B.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{S as j}from"./separator-DnQonHW9.js";import{A as D,a as L}from"./alert-CNp8ZuHk.js";import{A as E}from"./arrow-left-UX2kDF52.js";import{S as R}from"./share-2-cOWypco3.js";import{C as U}from"./calendar-DTsvo4Hi.js";import{E as G}from"./eye-DdivFxyT.js";import{C as V}from"./circle-check-big-DCsv6rXk.js";import{T as Y}from"./thumbs-up-BgoIjls2.js";import{T as z}from"./thumbs-down-SVKOui9E.js";import{B as m}from"./book-B8h2_Mez.js";import{e as f}from"./NotificationComponent-CHA3vjZG.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./file-text-D25AipK4.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function je({article:s,relatedArticles:d}){const t=S(),[N,x]=_.useState(!1),{post:g,processing:w}=p(),{post:v,processing:y}=p(),h=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),b=()=>{g(t("customer.support.knowledge-base.helpful",s.id),{onSuccess:()=>{x(!0)}})},k=()=>{v(t("customer.support.knowledge-base.not-helpful",s.id),{onSuccess:()=>{x(!0)}})},C=async()=>{if(navigator.share)try{await navigator.share({title:s.title,text:s.excerpt,url:window.location.href})}catch{}else navigator.clipboard.writeText(window.location.href)};return e.jsxs(H,{children:[e.jsx(B,{title:s.title}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(l,{href:t("customer.support.knowledge-base.index"),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Back to Knowledge Base"]})})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(a,{variant:"outline",size:"sm",onClick:C,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Share"]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsx(n,{children:e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.category&&e.jsx(T,{variant:"outline",style:{backgroundColor:s.category.color+"20",color:s.category.color},children:s.category.name})}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.author&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs("span",{children:["By ",s.author.name]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:h(s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.view_count," views"]})]})]})]})})}),e.jsx(n,{children:e.jsx(c,{className:"pt-6",children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.content}})})}),e.jsxs(n,{children:[e.jsxs(i,{children:[e.jsx(o,{className:"text-lg",children:"Was this article helpful?"}),e.jsx(u,{children:"Your feedback helps us improve our documentation"})]}),e.jsxs(c,{children:[N?e.jsxs(D,{children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx(L,{children:"Thank you for your feedback! We appreciate your input."})]}):e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(a,{variant:"outline",onClick:b,disabled:w,className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Yes (",s.helpful_count,")"]}),e.jsxs(a,{variant:"outline",onClick:k,disabled:y,className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"No (",s.not_helpful_count,")"]})]}),e.jsx(j,{className:"my-4"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsxs("p",{children:["Still need help? ",e.jsx(l,{href:t("customer.support.create"),className:"text-primary hover:underline",children:"Create a support ticket"})]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(i,{children:e.jsx(o,{className:"text-lg",children:"Article Stats"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Views"}),e.jsx("span",{className:"font-medium",children:s.view_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Helpful votes"}),e.jsx("span",{className:"font-medium text-green-600",children:s.helpful_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Not helpful votes"}),e.jsx("span",{className:"font-medium text-red-600",children:s.not_helpful_count})]}),e.jsx(j,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Last updated"}),e.jsx("span",{className:"text-sm",children:h(s.updated_at)})]})]})]}),e.jsxs(n,{children:[e.jsx(i,{children:e.jsx(o,{className:"text-lg",children:"Need More Help?"})}),e.jsxs(c,{className:"space-y-3",children:[e.jsx(l,{href:t("customer.support.create"),children:e.jsxs(a,{className:"w-full justify-start",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Create Support Ticket"]})}),e.jsx(l,{href:t("customer.support.knowledge-base.index"),children:e.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Browse All Articles"]})}),e.jsx(l,{href:t("customer.support.faq"),children:e.jsxs(a,{variant:"outline",className:"w-full justify-start",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"View FAQ"]})})]})]}),d.length>0&&e.jsxs(n,{children:[e.jsxs(i,{children:[e.jsx(o,{className:"text-lg",children:"Related Articles"}),e.jsx(u,{children:"You might also find these helpful"})]}),e.jsx(c,{className:"space-y-3",children:d.map(r=>e.jsx(l,{href:t("customer.support.knowledge-base.show",r.id),className:"block",children:e.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2 mb-1",children:r.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:r.excerpt})]}),e.jsx(f,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})},r.id))})]}),s.category&&e.jsxs(n,{children:[e.jsx(i,{children:e.jsx(o,{className:"text-lg",children:"Category"})}),e.jsx(c,{children:e.jsx(l,{href:t("customer.support.knowledge-base.index",{category_id:s.category.id}),children:e.jsx(a,{variant:"outline",className:"w-full justify-start",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.category.color}}),e.jsx("span",{children:s.category.name}),e.jsx(f,{className:"h-4 w-4 ml-auto"})]})})})})]})]})]})]})]})}export{je as default};
