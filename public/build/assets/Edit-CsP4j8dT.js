import{u as P,G as U,j as e,S as V}from"./app-BMIA6nir.js";import{A as $}from"./AppLayout-DbMk6clK.js";import{C as o,a as x,b as h,d as p,c as j}from"./card-BAsSN-2Z.js";import{B as S}from"./createLucideIcon-Cg8jdX0w.js";import{I as n}from"./input-Bg5GDATO.js";import{L as d}from"./label-CM6YsqH1.js";import{T as A}from"./textarea-CP26afIU.js";import{S as g,a as u,b as v,c as y,d as l}from"./select-B6KOX9nY.js";import{C as B}from"./checkbox-B8CiFAgv.js";import{T as H}from"./TagSelector-D8NCi-6T.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function $e({auth:L,project:i,clients:T,users:N,tags:F,selectedTags:D}){var b,C,f;const w=P(),{data:t,setData:r,put:E,processing:_,errors:a}=U({name:i.name||"",description:i.description||"",status:i.status||"draft",priority:i.priority||"medium",category:i.category||"",start_date:i.start_date||"",end_date:i.end_date||"",deadline:i.deadline||"",budget:((b=i.budget)==null?void 0:b.toString())||"",client_id:((C=i.client_id)==null?void 0:C.toString())||"",manager_id:((f=i.manager_id)==null?void 0:f.toString())||"",team_members:i.team_members||[],tags:D||[]}),k=s=>{s.preventDefault();const c={...t,client_id:t.client_id||null,tags:t.tags.map(m=>typeof m=="string"?m:m.name)};E(w("projects.update",i.id),{data:c})},M=s=>{const c=t.team_members;c.includes(s)?r("team_members",c.filter(m=>m!==s)):r("team_members",[...c,s])};return e.jsxs($,{title:`Edit ${i.name}`,renderHeader:()=>e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Edit Project: ",i.name]}),children:[e.jsx(V,{title:`Edit ${i.name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:k,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Basic Information"}),e.jsx(p,{children:"Update the basic details for your project"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"name",children:["Project Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{id:"name",value:t.name,onChange:s=>r("name",s.target.value),placeholder:"Enter project name"}),a.name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"category",children:"Category"}),e.jsx(n,{id:"category",value:t.category,onChange:s=>r("category",s.target.value),placeholder:"e.g., Web Development, Mobile App"}),a.category&&e.jsx("p",{className:"text-red-500 text-sm",children:a.category})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"description",children:"Description"}),e.jsx(A,{id:"description",value:t.description,onChange:s=>r("description",s.target.value),placeholder:"Describe the project goals and requirements",rows:4}),a.description&&e.jsx("p",{className:"text-red-500 text-sm",children:a.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"status",children:"Status"}),e.jsxs(g,{value:t.status,onValueChange:s=>r("status",s),children:[e.jsx(u,{children:e.jsx(v,{})}),e.jsxs(y,{children:[e.jsx(l,{value:"draft",children:"Draft"}),e.jsx(l,{value:"active",children:"Active"}),e.jsx(l,{value:"on-hold",children:"On Hold"}),e.jsx(l,{value:"completed",children:"Completed"}),e.jsx(l,{value:"cancelled",children:"Cancelled"})]})]}),a.status&&e.jsx("p",{className:"text-red-500 text-sm",children:a.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"priority",children:"Priority"}),e.jsxs(g,{value:t.priority,onValueChange:s=>r("priority",s),children:[e.jsx(u,{children:e.jsx(v,{})}),e.jsxs(y,{children:[e.jsx(l,{value:"low",children:"Low"}),e.jsx(l,{value:"medium",children:"Medium"}),e.jsx(l,{value:"high",children:"High"}),e.jsx(l,{value:"critical",children:"Critical"})]})]}),a.priority&&e.jsx("p",{className:"text-red-500 text-sm",children:a.priority})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"budget",children:"Budget ($)"}),e.jsx(n,{id:"budget",type:"number",step:"0.01",value:t.budget,onChange:s=>r("budget",s.target.value),placeholder:"0.00"}),a.budget&&e.jsx("p",{className:"text-red-500 text-sm",children:a.budget})]})]})]})]}),e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Timeline & Client"}),e.jsx(p,{children:"Update project dates and client assignment"})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"start_date",children:"Start Date"}),e.jsx(n,{id:"start_date",type:"date",value:t.start_date,onChange:s=>r("start_date",s.target.value)}),a.start_date&&e.jsx("p",{className:"text-red-500 text-sm",children:a.start_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"end_date",children:"End Date"}),e.jsx(n,{id:"end_date",type:"date",value:t.end_date,onChange:s=>r("end_date",s.target.value)}),a.end_date&&e.jsx("p",{className:"text-red-500 text-sm",children:a.end_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"deadline",children:"Deadline"}),e.jsx(n,{id:"deadline",type:"date",value:t.deadline,onChange:s=>r("deadline",s.target.value)}),a.deadline&&e.jsx("p",{className:"text-red-500 text-sm",children:a.deadline})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"client_id",children:"Client"}),e.jsxs(g,{value:t.client_id||void 0,onValueChange:s=>r("client_id",s||""),children:[e.jsx(u,{children:e.jsx(v,{placeholder:"Select a client"})}),e.jsxs(y,{children:[e.jsx(l,{value:"",children:"No client"}),T.map(s=>e.jsxs(l,{value:s.id.toString(),children:[s.name," - ",s.company]},s.id))]})]}),a.client_id&&e.jsx("p",{className:"text-red-500 text-sm",children:a.client_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"manager_id",children:["Project Manager ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(g,{value:t.manager_id,onValueChange:s=>r("manager_id",s),children:[e.jsx(u,{children:e.jsx(v,{})}),e.jsx(y,{children:N.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))})]}),a.manager_id&&e.jsx("p",{className:"text-red-500 text-sm",children:a.manager_id})]})]})]})]}),e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Team Members"}),e.jsx(p,{children:"Update team members for this project"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:`user-${s.id}`,checked:t.team_members.includes(s.id),onCheckedChange:()=>M(s.id)}),e.jsx(d,{htmlFor:`user-${s.id}`,className:"text-sm",children:s.name})]},s.id))}),a.team_members&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:a.team_members})]})]}),e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Tags"}),e.jsx(p,{children:"Update tags to categorize and organize your project"})]}),e.jsx(j,{children:e.jsx(H,{availableTags:F,selectedTags:t.tags,onTagsChange:s=>r("tags",s),placeholder:"Search existing tags or create new ones...",error:a.tags})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(S,{type:"submit",disabled:_,children:_?"Updating...":"Update Project"})]})]})})})})]})}export{$e as default};
