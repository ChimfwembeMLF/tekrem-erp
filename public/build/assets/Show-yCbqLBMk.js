import{j as s,S as w,x as i}from"./app-BMIA6nir.js";import{C as b}from"./CustomerLayout-7LFTkDxI.js";import{C as r,a as l,b as n,c,d as j}from"./card-BAsSN-2Z.js";import{B as C,U as D}from"./x-C3KwZK3B.js";import{B as d}from"./createLucideIcon-Cg8jdX0w.js";import{S as x}from"./separator-DnQonHW9.js";import{A as S}from"./arrow-left-UX2kDF52.js";import{D as p}from"./download-CNZP3fGS.js";import{C as u}from"./NotificationComponent-CHA3vjZG.js";import{D as _}from"./dollar-sign-Cli0KufN.js";import{F as f}from"./file-text-D25AipK4.js";import{C as B}from"./calendar-DTsvo4Hi.js";import{B as k}from"./building-DIkCZBBP.js";import{M as o}from"./mail-CApE3o7R.js";import{P as N}from"./phone-347MTOqH.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function as({invoice:e}){const y=a=>{switch(a){case"paid":return"secondary";case"pending":return"default";case"overdue":return"destructive";case"draft":return"outline";default:return"outline"}},m=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),t=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),h=()=>{window.open(route("customer.finance.invoices.download",e.id),"_blank")},g=()=>{window.location.href=route("customer.finance.invoices.pay",e.id)};return s.jsxs(b,{children:[s.jsx(w,{title:`Invoice ${e.invoice_number}`}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(i,{href:route("customer.finance.index"),children:s.jsxs(d,{variant:"outline",size:"sm",children:[s.jsx(S,{className:"h-4 w-4 mr-2"}),"Back to Finance"]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Invoice ",e.invoice_number]}),s.jsx(C,{variant:y(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),s.jsxs("p",{className:"text-muted-foreground",children:["Issued on ",m(e.issue_date)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(d,{variant:"outline",onClick:h,children:[s.jsx(p,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),e.status!=="paid"&&e.balance>0&&s.jsxs(d,{onClick:g,children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Pay Now"]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsxs(r,{children:[s.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Total Amount"}),s.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(c,{children:s.jsx("div",{className:"text-2xl font-bold",children:t(e.total_amount)})})]}),s.jsxs(r,{children:[s.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Paid Amount"}),s.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(c,{children:s.jsx("div",{className:"text-2xl font-bold",children:t(e.paid_amount)})})]}),s.jsxs(r,{children:[s.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Balance Due"}),s.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(c,{children:s.jsx("div",{className:"text-2xl font-bold",children:t(e.balance)})})]}),s.jsxs(r,{children:[s.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Due Date"}),s.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(c,{children:s.jsx("div",{className:"text-lg font-bold",children:m(e.due_date)})})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(r,{children:[s.jsx(l,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(n,{children:"Invoice Details"}),s.jsx(j,{children:"Complete breakdown of charges and services"})]}),e.company.logo&&s.jsx("img",{src:e.company.logo,alt:e.company.name,className:"h-12 w-auto"})]})}),s.jsxs(c,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4"}),"From"]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("p",{className:"font-medium",children:e.company.name}),e.company.address&&s.jsx("p",{children:e.company.address}),(e.company.city||e.company.state||e.company.zip)&&s.jsx("p",{children:[e.company.city,e.company.state,e.company.zip].filter(Boolean).join(", ")}),e.company.country&&s.jsx("p",{children:e.company.country}),e.company.email&&s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(o,{className:"h-3 w-3"}),e.company.email]}),e.company.phone&&s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(N,{className:"h-3 w-3"}),e.company.phone]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(D,{className:"h-4 w-4"}),"Bill To"]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("p",{className:"font-medium",children:e.client.name}),e.client.address&&s.jsx("p",{children:e.client.address}),(e.client.city||e.client.state||e.client.zip)&&s.jsx("p",{children:[e.client.city,e.client.state,e.client.zip].filter(Boolean).join(", ")}),e.client.country&&s.jsx("p",{children:e.client.country}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(o,{className:"h-3 w-3"}),e.client.email]}),e.client.phone&&s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(N,{className:"h-3 w-3"}),e.client.phone]})]})]})]}),s.jsx(x,{className:"my-6"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Items"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-medium",children:"Description"}),s.jsx("th",{className:"text-right p-3 font-medium",children:"Qty"}),s.jsx("th",{className:"text-right p-3 font-medium",children:"Unit Price"}),s.jsx("th",{className:"text-right p-3 font-medium",children:"Total"})]})}),s.jsx("tbody",{children:e.items.map(a=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-3",children:a.description}),s.jsx("td",{className:"p-3 text-right",children:a.quantity}),s.jsx("td",{className:"p-3 text-right",children:t(a.unit_price)}),s.jsx("td",{className:"p-3 text-right font-medium",children:t(a.total)})]},a.id))})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:t(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax:"}),s.jsx("span",{children:t(e.tax_amount)})]}),s.jsx(x,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:t(e.total_amount)})]})]})})]}),(e.notes||e.terms)&&s.jsxs(s.Fragment,{children:[s.jsx(x,{className:"my-6"}),s.jsxs("div",{className:"space-y-4",children:[e.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.notes})]}),e.terms&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Terms & Conditions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.terms})]})]})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(r,{children:[s.jsxs(l,{children:[s.jsx(n,{children:"Payment History"}),s.jsx(j,{children:"All payments made for this invoice"})]}),s.jsx(c,{children:s.jsx("div",{className:"space-y-3",children:e.payments.length>0?e.payments.map(a=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium",children:t(a.amount)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:m(a.payment_date)})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Method: ",a.payment_method]}),a.reference&&s.jsxs("p",{children:["Ref: ",a.reference]})]})]},a.id)):s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No payments recorded yet."})})})]}),s.jsxs(r,{children:[s.jsx(l,{children:s.jsx(n,{children:"Quick Actions"})}),s.jsxs(c,{className:"space-y-2",children:[s.jsxs(d,{variant:"outline",className:"w-full justify-start",onClick:h,children:[s.jsx(p,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),s.jsx(i,{href:route("customer.communications.create"),className:"block",children:s.jsxs(d,{variant:"outline",className:"w-full justify-start",children:[s.jsx(o,{className:"mr-2 h-4 w-4"}),"Contact Support"]})}),s.jsx(i,{href:route("customer.support.create"),className:"block",children:s.jsxs(d,{variant:"outline",className:"w-full justify-start",children:[s.jsx(f,{className:"mr-2 h-4 w-4"}),"Report Issue"]})})]})]})]})]})]})]})}export{as as default};
