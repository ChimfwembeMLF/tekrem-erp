import{u as b,j as e,S as B,x as p}from"./app-BMIA6nir.js";import{C as M}from"./CustomerLayout-7LFTkDxI.js";import{C as d,a as l,b as n,d as S,c}from"./card-BAsSN-2Z.js";import{U as m,B as t}from"./x-C3KwZK3B.js";import{B as o}from"./createLucideIcon-Cg8jdX0w.js";import{S as i}from"./separator-DnQonHW9.js";import{A as _}from"./arrow-left-UX2kDF52.js";import{P as N}from"./paperclip-BkqMpcId.js";import{D}from"./download-CNZP3fGS.js";import{C as z}from"./clock-BTinGqFV.js";import{B as v}from"./building-DIkCZBBP.js";import{M as g}from"./message-square-32k9udjC.js";import{C as P}from"./calendar-DTsvo4Hi.js";import{P as F}from"./phone-347MTOqH.js";import{M as T}from"./mail-CApE3o7R.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./NotificationComponent-CHA3vjZG.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./file-text-D25AipK4.js";function ne({communication:s,client:r}){const h=b(),x=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=a=>{if(a===0)return"0 Bytes";const u=1024,C=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(a)/Math.log(u));return parseFloat((a/Math.pow(u,f)).toFixed(2))+" "+C[f]},y=a=>{switch(a){case"email":return e.jsx(T,{className:"h-5 w-5"});case"phone":return e.jsx(F,{className:"h-5 w-5"});case"meeting":return e.jsx(P,{className:"h-5 w-5"});default:return e.jsx(g,{className:"h-5 w-5"})}},j=a=>{switch(a){case"email":return e.jsx(t,{variant:"secondary",children:"Email"});case"phone":return e.jsx(t,{variant:"outline",children:"Phone"});case"meeting":return e.jsx(t,{variant:"default",children:"Meeting"});default:return e.jsx(t,{variant:"secondary",children:a})}};return e.jsxs(M,{children:[e.jsx(B,{title:`Communication: ${s.subject}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(p,{href:h("customer.crm.communications"),children:e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Back to Communications"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Communication Details"}),e.jsx("p",{className:"text-muted-foreground",children:"View communication information and content"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(d,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-secondary rounded-lg",children:y(s.type)}),e.jsxs("div",{children:[e.jsx(n,{children:s.subject}),e.jsx(S,{children:x(s.created_at)})]})]}),j(s.type)]})}),e.jsxs(c,{children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:s.content})}),s.attachments&&s.attachments.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"my-6"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Attachments (",s.attachments.length,")"]}),e.jsx("div",{className:"space-y-2",children:s.attachments.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-secondary rounded",children:e.jsx(N,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:a.original_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[w(a.size)," â€¢ ",a.mime_type]})]})]}),e.jsx(o,{variant:"outline",size:"sm",children:e.jsx(D,{className:"h-4 w-4"})})]},a.id))})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Communication Info"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),e.jsx("div",{className:"mt-1",children:j(s.type)})]}),e.jsx(i,{}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),e.jsx("div",{className:"text-sm mt-1",children:x(s.created_at)})]}),s.updated_at!==s.created_at&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsx("div",{className:"text-sm mt-1",children:x(s.updated_at)})]}),e.jsx(i,{}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Staff Member"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"w-6 h-6 bg-secondary rounded-full flex items-center justify-center",children:e.jsx(m,{className:"h-3 w-3"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:s.user.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.user.email})]})]})]})]})]}),r&&e.jsxs(d,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"Client Information"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center",children:e.jsx(m,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.email})]})]}),r.company&&e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:r.company})]})]}),e.jsx(i,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(t,{variant:"secondary",children:r.status})]}),e.jsx("div",{className:"pt-2",children:e.jsx(p,{href:h("customer.crm.profile"),children:e.jsx(o,{variant:"outline",size:"sm",className:"w-full",children:"View Profile"})})})]})]}),s.communicable&&e.jsxs(d,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Related To"]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:s.communicable_type.includes("Client")?e.jsx(v,{className:"h-4 w-4"}):e.jsx(m,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:s.communicable.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.communicable_type.includes("Client")?"Client":"User"})]})]})})]})]})]})]})]})}export{ne as default};
