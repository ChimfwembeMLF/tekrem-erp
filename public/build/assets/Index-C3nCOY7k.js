import{r as x,j as e,S as C,x as o,A as n}from"./app-BMIA6nir.js";import{A as k}from"./AppLayout-DbMk6clK.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{C as A,a as L,b as _,d as q,c as E}from"./card-BAsSN-2Z.js";import{I}from"./input-Bg5GDATO.js";import{S as u,a as h,b as p,c as j,d as s}from"./select-B6KOX9nY.js";import{B as f}from"./x-C3KwZK3B.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Ce({auth:T,leads:r,filters:m}){const[d,g]=x.useState(m.search||""),[i,v]=x.useState(m.status||"all"),[c,N]=x.useState(m.source||"all"),S=t=>{t.preventDefault(),n.get(route("crm.leads.index"),{search:d,status:i==="all"?"":i,source:c==="all"?"":c},{preserveState:!0})},b=t=>{v(t);const l=t==="all"?"":t;n.get(route("crm.leads.index"),{search:d,status:l,source:c==="all"?"":c},{preserveState:!0})},y=t=>{N(t);const l=t==="all"?"":t;n.get(route("crm.leads.index"),{search:d,status:i==="all"?"":i,source:l},{preserveState:!0})},w=t=>{switch(t){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"unqualified":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return e.jsxs(k,{title:"Leads",renderHeader:()=>e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Leads"}),children:[e.jsx(C,{title:"Leads"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(A,{children:[e.jsxs(L,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Leads"}),e.jsx(q,{children:"Manage your potential clients"})]}),e.jsx(o,{href:route("crm.leads.create"),children:e.jsx(a,{children:"Add Lead"})})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-2",children:[e.jsxs("form",{onSubmit:S,className:"flex gap-2 flex-1",children:[e.jsx(I,{type:"text",placeholder:"Search leads...",value:d,onChange:t=>g(t.target.value),className:"max-w-sm"}),e.jsx(a,{type:"submit",variant:"secondary",children:"Search"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Status:"}),e.jsxs(u,{value:i,onValueChange:b,children:[e.jsx(h,{className:"w-[150px]",children:e.jsx(p,{placeholder:"All Statuses"})}),e.jsxs(j,{children:[e.jsx(s,{value:"all",children:"All Statuses"}),e.jsx(s,{value:"new",children:"New"}),e.jsx(s,{value:"contacted",children:"Contacted"}),e.jsx(s,{value:"qualified",children:"Qualified"}),e.jsx(s,{value:"unqualified",children:"Unqualified"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Source:"}),e.jsxs(u,{value:c,onValueChange:y,children:[e.jsx(h,{className:"w-[150px]",children:e.jsx(p,{placeholder:"All Sources"})}),e.jsxs(j,{children:[e.jsx(s,{value:"all",children:"All Sources"}),e.jsx(s,{value:"Website",children:"Website"}),e.jsx(s,{value:"Referral",children:"Referral"}),e.jsx(s,{value:"Trade Show",children:"Trade Show"}),e.jsx(s,{value:"Social Media",children:"Social Media"}),e.jsx(s,{value:"Email Campaign",children:"Email Campaign"}),e.jsx(s,{value:"Other",children:"Other"})]})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Name"}),e.jsx("th",{className:"text-left p-2",children:"Email"}),e.jsx("th",{className:"text-left p-2",children:"Phone"}),e.jsx("th",{className:"text-left p-2",children:"Company"}),e.jsx("th",{className:"text-left p-2",children:"Status"}),e.jsx("th",{className:"text-left p-2",children:"Source"}),e.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),e.jsx("tbody",{children:r.data.length>0?r.data.map(t=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsxs("td",{className:"p-2",children:[e.jsx(o,{href:route("crm.leads.show",t.id),className:"text-blue-600 hover:underline",children:t.name}),t.converted_to_client&&e.jsx(f,{variant:"outline",className:"ml-2 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Converted"})]}),e.jsx("td",{className:"p-2",children:t.email}),e.jsx("td",{className:"p-2",children:t.phone}),e.jsx("td",{className:"p-2",children:t.company}),e.jsx("td",{className:"p-2",children:e.jsx(f,{variant:"outline",className:w(t.status),children:t.status})}),e.jsx("td",{className:"p-2",children:t.source}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{href:route("crm.leads.edit",t.id),children:e.jsx(a,{variant:"outline",size:"sm",children:"Edit"})}),!t.converted_to_client&&t.status==="qualified"&&e.jsx(a,{variant:"default",size:"sm",onClick:()=>{confirm("Are you sure you want to convert this lead to a client?")&&n.post(route("crm.leads.convert",t.id))},children:"Convert"}),e.jsx(a,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this lead?")&&n.delete(route("crm.leads.destroy",t.id))},children:"Delete"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-4 text-center",children:"No leads found."})})})]})}),r.last_page>1&&e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",r.from," to ",r.to," of ",r.total," leads"]}),e.jsx("div",{className:"flex gap-1",children:r.links.map((t,l)=>t.url===null?e.jsx(a,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:t.label}},l):e.jsx(o,{href:t.url,children:e.jsx(a,{variant:t.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:t.label}})},l))})]})]})]})})})]})}export{Ce as default};
