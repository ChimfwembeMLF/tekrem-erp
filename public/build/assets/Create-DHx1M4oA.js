import{u as E,r as T,G as B,j as e,S as D}from"./app-BMIA6nir.js";import{A as L}from"./AppLayout-DbMk6clK.js";import{C as n,a as x,b as u,d as f,c as d}from"./card-BAsSN-2Z.js";import{B as p}from"./createLucideIcon-Cg8jdX0w.js";import{I as m}from"./input-Bg5GDATO.js";import{L as l}from"./label-CM6YsqH1.js";import{T as j}from"./textarea-CP26afIU.js";import{S as v,a as _,b as C,c as N,d as o}from"./select-B6KOX9nY.js";import{C as O}from"./checkbox-B8CiFAgv.js";import{A as I,a as M}from"./alert-CNp8ZuHk.js";import{u as P}from"./useTranslate-ER5gAOX6.js";import{A as z}from"./arrow-left-UX2kDF52.js";import{E as R}from"./eye-DdivFxyT.js";import{S as V}from"./save-D6UyxhH5.js";import{C as K}from"./circle-alert-DVIk47WR.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Ke({categories:y}){const{t}=P(),h=E(),[c,b]=T.useState(!1),{data:s,setData:a,post:w,processing:g,errors:i,reset:S}=B({title:"",slug:"",content:"",excerpt:"",category_id:"",status:"draft",is_featured:!1,tags:[],meta_title:"",meta_description:"",sort_order:0}),A=r=>{r.preventDefault(),w(h("support.knowledge-base.store"),{onSuccess:()=>S()})},k=r=>r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),F=r=>{a("title",r),s.slug||a("slug",k(r)),s.meta_title||a("meta_title",r)};return e.jsxs(L,{children:[e.jsx(D,{title:t("support.create_article","Create Knowledge Base Article")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:h("support.knowledge-base.index"),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),t("common.back","Back")]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("support.create_article","Create Knowledge Base Article")}),e.jsx("p",{className:"text-muted-foreground",children:t("support.create_article_description","Create a new article for the knowledge base")})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(p,{type:"button",variant:"outline",onClick:()=>b(!c),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),c?t("common.edit","Edit"):t("common.preview","Preview")]})})]}),e.jsx("form",{onSubmit:A,className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{children:[e.jsxs(x,{children:[e.jsx(u,{children:t("support.article_content","Article Content")}),e.jsx(f,{children:t("support.article_content_description","Write your knowledge base article content")})]}),e.jsx(d,{className:"space-y-4",children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.title||"Article Title"}),s.excerpt&&e.jsx("p",{className:"text-muted-foreground mt-2",children:s.excerpt})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",children:s.content||"Article content will appear here..."})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"title",children:[t("support.title","Title")," *"]}),e.jsx(m,{id:"title",value:s.title,onChange:r=>F(r.target.value),placeholder:t("support.article_title_placeholder","Enter article title"),className:i.title?"border-red-500":""}),i.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.title})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"slug",children:t("support.slug","Slug")}),e.jsx(m,{id:"slug",value:s.slug,onChange:r=>a("slug",r.target.value),placeholder:t("support.slug_placeholder","article-url-slug"),className:i.slug?"border-red-500":""}),i.slug&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.slug}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t("support.slug_help","URL-friendly version of the title")})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"excerpt",children:t("support.excerpt","Excerpt")}),e.jsx(j,{id:"excerpt",value:s.excerpt,onChange:r=>a("excerpt",r.target.value),placeholder:t("support.excerpt_placeholder","Brief summary of the article"),rows:3,className:i.excerpt?"border-red-500":""}),i.excerpt&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.excerpt})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"content",children:[t("support.content","Content")," *"]}),e.jsx(j,{id:"content",value:s.content,onChange:r=>a("content",r.target.value),placeholder:t("support.content_placeholder","Write your article content here..."),rows:15,className:i.content?"border-red-500":""}),i.content&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.content})]})]})})]}),!c&&e.jsxs(n,{children:[e.jsxs(x,{children:[e.jsx(u,{children:t("support.seo_settings","SEO Settings")}),e.jsx(f,{children:t("support.seo_settings_description","Optimize your article for search engines")})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"meta_title",children:t("support.meta_title","Meta Title")}),e.jsx(m,{id:"meta_title",value:s.meta_title,onChange:r=>a("meta_title",r.target.value),placeholder:t("support.meta_title_placeholder","SEO title for search engines")})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"meta_description",children:t("support.meta_description","Meta Description")}),e.jsx(j,{id:"meta_description",value:s.meta_description,onChange:r=>a("meta_description",r.target.value),placeholder:t("support.meta_description_placeholder","SEO description for search engines"),rows:3})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(x,{children:e.jsx(u,{children:t("support.publishing","Publishing")})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:t("support.status","Status")}),e.jsxs(v,{value:s.status,onValueChange:r=>a("status",r),children:[e.jsx(_,{children:e.jsx(C,{})}),e.jsxs(N,{children:[e.jsx(o,{value:"draft",children:t("support.draft","Draft")}),e.jsx(o,{value:"published",children:t("support.published","Published")}),e.jsx(o,{value:"archived",children:t("support.archived","Archived")})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",children:t("support.category","Category")}),e.jsxs(v,{value:s.category_id,onValueChange:r=>a("category_id",r),children:[e.jsx(_,{children:e.jsx(C,{placeholder:t("support.select_category","Select category")})}),e.jsxs(N,{children:[e.jsx(o,{value:"empty",children:t("support.no_category","No Category")}),y.map(r=>e.jsx(o,{value:r.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),r.name]})},r.id))]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"is_featured",checked:s.is_featured,onCheckedChange:r=>a("is_featured",!!r)}),e.jsx(l,{htmlFor:"is_featured",className:"text-sm font-medium",children:t("support.featured_article","Featured Article")})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sort_order",children:t("support.sort_order","Sort Order")}),e.jsx(m,{id:"sort_order",type:"number",value:s.sort_order,onChange:r=>a("sort_order",parseInt(r.target.value)||0),placeholder:"0"})]})]})]}),e.jsx(n,{children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(p,{type:"submit",className:"w-full",disabled:g,children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),g?t("common.creating","Creating..."):t("support.create_article","Create Article")]}),e.jsx(p,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:e.jsx("a",{href:h("support.knowledge-base.index"),children:t("common.cancel","Cancel")})})]})})}),e.jsxs(I,{children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx(M,{children:t("support.article_help","Use clear headings and examples to make your article easy to understand.")})]})]})]})})]})]})}export{Ke as default};
