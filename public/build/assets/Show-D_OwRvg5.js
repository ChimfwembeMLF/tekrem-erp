import{j as s,S as C,x as d}from"./app-BMIA6nir.js";import{C as T}from"./CustomerLayout-7LFTkDxI.js";import{C as r,a,b as i,c as l,d as u}from"./card-BAsSN-2Z.js";import{B as x,U as S}from"./x-C3KwZK3B.js";import{B as c}from"./createLucideIcon-Cg8jdX0w.js";import{P as f}from"./progress-BgfGBUAj.js";import{A as k,b as M,a as P}from"./avatar-DdiG0YBt.js";import{S as D}from"./separator-DnQonHW9.js";import{A as _}from"./arrow-left-UX2kDF52.js";import{T as h}from"./target-DIhftedx.js";import{U as B}from"./users-3SuyoAg3.js";import{C as p}from"./clock-BTinGqFV.js";import{D as F}from"./dollar-sign-Cli0KufN.js";import{C as N}from"./calendar-DTsvo4Hi.js";import{P as g}from"./paperclip-BkqMpcId.js";import{D as A}from"./download-CNZP3fGS.js";import{M as z}from"./message-square-32k9udjC.js";import{F as E}from"./file-text-D25AipK4.js";import"./NotificationComponent-CHA3vjZG.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./log-out-B525vUfE.js";function xs({project:t}){const o=e=>{switch(e){case"completed":return"secondary";case"active":return"default";case"on_hold":return"destructive";default:return"outline"}},v=e=>{switch(e){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},n=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=e=>{if(e===0)return"0 Bytes";const m=1024,y=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(e)/Math.log(m));return parseFloat((e/Math.pow(m,j)).toFixed(2))+" "+y[j]},b=t.timeEntries.reduce((e,m)=>e+m.hours,0);return s.jsxs(T,{children:[s.jsx(C,{title:`Project: ${t.name}`}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(d,{href:route("customer.projects.index"),children:s.jsxs(c,{variant:"outline",size:"sm",children:[s.jsx(_,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.name}),s.jsx(x,{variant:o(t.status),children:t.status.replace("_"," ")})]}),s.jsx("p",{className:"text-muted-foreground",children:t.description})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsxs(r,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i,{className:"text-sm font-medium",children:"Progress"}),s.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(l,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[t.progress,"%"]}),s.jsx(f,{value:t.progress,className:"mt-2"})]})]}),s.jsxs(r,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i,{className:"text-sm font-medium",children:"Team Members"}),s.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.teamMembers.length})})]}),s.jsxs(r,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i,{className:"text-sm font-medium",children:"Total Hours"}),s.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[b.toFixed(1),"h"]})})]}),s.jsxs(r,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i,{className:"text-sm font-medium",children:"Budget"}),s.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.budget?`$${t.budget.toLocaleString()}`:"N/A"})})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(r,{children:[s.jsx(a,{children:s.jsx(i,{children:"Project Details"})}),s.jsxs(l,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"font-medium",children:n(t.start_date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"End Date"}),s.jsx("p",{className:"font-medium",children:n(t.end_date)})]})]}),s.jsx(D,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Client"}),s.jsx("p",{className:"font-medium",children:t.client.name})]})]})]}),s.jsxs(r,{children:[s.jsxs(a,{children:[s.jsx(i,{children:"Milestones"}),s.jsx(u,{children:"Key project milestones and their progress"})]}),s.jsx(l,{children:s.jsx("div",{className:"space-y-4",children:t.milestones.length>0?t.milestones.map(e=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx(x,{variant:o(e.status),children:e.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(N,{className:"h-4 w-4"}),"Due: ",n(e.due_date)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm",children:[e.progress,"%"]}),s.jsx(f,{value:e.progress,className:"w-20"})]})]})]},e.id)):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No milestones defined for this project."})})})]}),s.jsxs(r,{children:[s.jsxs(a,{children:[s.jsx(i,{children:"Recent Tasks"}),s.jsx(u,{children:"Tasks visible to you in this project"})]}),s.jsx(l,{children:s.jsx("div",{className:"space-y-3",children:t.tasks.length>0?t.tasks.slice(0,5).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx(x,{variant:v(e.priority),className:"text-xs",children:e.priority})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.due_date&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(N,{className:"h-3 w-3"}),n(e.due_date)]}),e.assignedTo&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(S,{className:"h-3 w-3"}),e.assignedTo.name]})]})]}),s.jsx(x,{variant:o(e.status),children:e.status})]},e.id)):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No tasks visible to you in this project."})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(r,{children:[s.jsx(a,{children:s.jsx(i,{children:"Team Members"})}),s.jsx(l,{children:s.jsx("div",{className:"space-y-3",children:t.teamMembers.map(e=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(k,{className:"h-8 w-8",children:[s.jsx(M,{src:e.user.profile_photo_url,alt:e.user.name}),s.jsx(P,{children:e.user.name.split(" ").map(m=>m[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:e.user.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.role})]})]},e.user.id))})})]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx(i,{children:"Recent Time Entries"})}),s.jsx(l,{children:s.jsx("div",{className:"space-y-3",children:t.timeEntries.slice(0,5).map(e=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:[e.hours,"h"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:n(e.date)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[s.jsx("span",{children:e.user.name}),e.task&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{children:e.task.title})]})]})]},e.id))})})]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx(i,{children:"Project Files"})}),s.jsx(l,{children:s.jsx("div",{className:"space-y-3",children:t.attachments.length>0?t.attachments.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(g,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:e.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w(e.file_size)," • ",n(e.uploaded_at)]})]})]}),s.jsx(c,{variant:"ghost",size:"sm",children:s.jsx(A,{className:"h-4 w-4"})})]},e.id)):s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No files available."})})})]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx(i,{children:"Project Sections"})}),s.jsxs(l,{className:"space-y-2",children:[s.jsx(d,{href:route("customer.projects.tasks",t.id),className:"block",children:s.jsxs(c,{variant:"outline",className:"w-full justify-start",children:[s.jsx(h,{className:"mr-2 h-4 w-4"}),"View All Tasks"]})}),s.jsx(d,{href:route("customer.projects.milestones",t.id),className:"block",children:s.jsxs(c,{variant:"outline",className:"w-full justify-start",children:[s.jsx(h,{className:"mr-2 h-4 w-4"}),"View Milestones"]})}),s.jsx(d,{href:route("customer.projects.time-tracking",t.id),className:"block",children:s.jsxs(c,{variant:"outline",className:"w-full justify-start",children:[s.jsx(p,{className:"mr-2 h-4 w-4"}),"Time Tracking"]})}),s.jsx(d,{href:route("customer.projects.files",t.id),className:"block",children:s.jsxs(c,{variant:"outline",className:"w-full justify-start",children:[s.jsx(g,{className:"mr-2 h-4 w-4"}),"Project Files"]})})]})]}),s.jsxs(r,{children:[s.jsx(a,{children:s.jsx(i,{children:"Quick Actions"})}),s.jsxs(l,{className:"space-y-2",children:[s.jsx(d,{href:route("customer.projects.chat",t.id),className:"block",children:s.jsxs(c,{variant:"outline",className:"w-full justify-start",children:[s.jsx(z,{className:"mr-2 h-4 w-4"}),"Project Chat"]})}),s.jsx(d,{href:route("customer.support.create"),className:"block",children:s.jsxs(c,{variant:"outline",className:"w-full justify-start",children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),"Report Issue"]})})]})]})]})]})]})]})}export{xs as default};
