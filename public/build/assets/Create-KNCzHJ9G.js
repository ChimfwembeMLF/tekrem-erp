import{u as y,G as R,j as e,S}from"./app-BMIA6nir.js";import{A as w}from"./AppLayout-DbMk6clK.js";import{B as o}from"./createLucideIcon-Cg8jdX0w.js";import{I as A}from"./input-Bg5GDATO.js";import{L as n}from"./label-CM6YsqH1.js";import{T as k}from"./textarea-CP26afIU.js";import{C as p,a as x,b as h,c as j}from"./card-BAsSN-2Z.js";import{C as D}from"./checkbox-B8CiFAgv.js";import{u as L}from"./useTranslate-ER5gAOX6.js";import{S as T}from"./shield-DwKJ9Ble.js";import{K as z}from"./key-Qw2I2-NE.js";import{S as B}from"./save-D6UyxhH5.js";import{A as F}from"./arrow-left-UX2kDF52.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";function De({permissions:d}){L();const m=y(),{data:l,setData:t,post:u,processing:c,errors:i}=R({name:"",description:"",permissions:[]}),f=s=>{s.preventDefault(),u(m("admin.roles.store"))},g=(s,a)=>{a?t("permissions",[...l.permissions,s]):t("permissions",l.permissions.filter(r=>r!==s))},N=()=>{t("permissions",d.map(s=>s.name))},v=()=>{t("permissions",[])},C=d.reduce((s,a)=>{const r=a.name.split(".")[0]||"general";return s[r]||(s[r]=[]),s[r].push(a),s},{});return e.jsxs(w,{title:"Create Role",renderHeader:()=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:m("admin.roles.index"),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Back to Roles"]})}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Create New Role"})]}),children:[e.jsx(S,{title:"Create Role"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs(p,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"Role Information"]})}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Role Name *"}),e.jsx(A,{id:"name",type:"text",value:l.name,onChange:s=>t("name",s.target.value),placeholder:"Enter role name (e.g., editor, moderator)",className:i.name?"border-red-500":""}),i.name&&e.jsx("p",{className:"text-sm text-red-500",children:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(k,{id:"description",value:l.description,onChange:s=>t("description",s.target.value),placeholder:"Describe the role's purpose and responsibilities",className:i.description?"border-red-500":"",rows:3}),i.description&&e.jsx("p",{className:"text-sm text-red-500",children:i.description})]})]})})]}),e.jsxs(p,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Permission Assignment"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:N,children:"Select All"}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:v,children:"Deselect All"})]})]})}),e.jsxs(j,{children:[e.jsx("div",{className:"space-y-6",children:Object.entries(C).map(([s,a])=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-lg mb-3 capitalize",children:[s," Module"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(r=>e.jsxs("div",{className:"flex items-start space-x-2 p-2 border rounded",children:[e.jsx(D,{id:`permission-${r.id}`,checked:l.permissions.includes(r.name),onCheckedChange:b=>g(r.name,b)}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:`permission-${r.id}`,className:"text-sm",children:r.name}),r.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.description})]})]},r.id))})]},s))}),i.permissions&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:i.permissions})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(o,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:m("admin.roles.index"),children:"Cancel"})}),e.jsxs(o,{type:"submit",disabled:c,children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),c?"Creating...":"Create Role"]})]})]})})})]})}export{De as default};
