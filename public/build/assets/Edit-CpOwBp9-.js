import{u as F,r as T,G as D,j as e,S as L}from"./app-BMIA6nir.js";import{A as O}from"./AppLayout-DbMk6clK.js";import{C as d,a as u,b as j,d as f,c as p}from"./card-BAsSN-2Z.js";import{B as m}from"./createLucideIcon-Cg8jdX0w.js";import{I as h}from"./input-Bg5GDATO.js";import{L as o}from"./label-CM6YsqH1.js";import{T as g}from"./textarea-CP26afIU.js";import{S as N,a as C,b,c as y,d as c}from"./select-B6KOX9nY.js";import{C as P}from"./checkbox-B8CiFAgv.js";import{A as B,a as I}from"./alert-CNp8ZuHk.js";import{u as M}from"./useTranslate-ER5gAOX6.js";import{A as R}from"./arrow-left-UX2kDF52.js";import{E as U}from"./eye-DdivFxyT.js";import{S as V}from"./save-D6UyxhH5.js";import{C as z}from"./circle-alert-DVIk47WR.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function ze({article:r,categories:w}){var _;const{t}=M(),x=F(),[n,S]=T.useState(!1),{data:i,setData:a,put:A,processing:v,errors:l}=D({title:r.title,slug:r.slug,content:r.content,excerpt:r.excerpt||"",category_id:((_=r.category_id)==null?void 0:_.toString())||"",status:r.status,is_featured:r.is_featured,tags:r.tags||[],meta_title:r.meta_title||"",meta_description:r.meta_description||"",sort_order:r.sort_order}),k=s=>{s.preventDefault(),A(x("support.knowledge-base.update",r.id))},E=s=>{a("title",s),i.meta_title||a("meta_title",s)};return e.jsxs(O,{children:[e.jsx(L,{title:`${t("common.edit","Edit")} ${r.title}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:x("support.knowledge-base.show",r.id),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),t("common.back","Back")]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[t("common.edit","Edit")," ",t("support.article","Article")]}),e.jsx("p",{className:"text-muted-foreground",children:t("support.edit_article_description","Update the knowledge base article")})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(m,{type:"button",variant:"outline",onClick:()=>S(!n),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),n?t("common.edit","Edit"):t("common.preview","Preview")]})})]}),e.jsx("form",{onSubmit:k,className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(d,{children:[e.jsxs(u,{children:[e.jsx(j,{children:t("support.article_content","Article Content")}),e.jsx(f,{children:t("support.edit_article_content_description","Update your knowledge base article content")})]}),e.jsx(p,{className:"space-y-4",children:n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:i.title||"Article Title"}),i.excerpt&&e.jsx("p",{className:"text-muted-foreground mt-2",children:i.excerpt})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",children:i.content||"Article content will appear here..."})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"title",children:[t("support.title","Title")," *"]}),e.jsx(h,{id:"title",value:i.title,onChange:s=>E(s.target.value),placeholder:t("support.article_title_placeholder","Enter article title"),className:l.title?"border-red-500":""}),l.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.title})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"slug",children:t("support.slug","Slug")}),e.jsx(h,{id:"slug",value:i.slug,onChange:s=>a("slug",s.target.value),placeholder:t("support.slug_placeholder","article-url-slug"),className:l.slug?"border-red-500":""}),l.slug&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.slug}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t("support.slug_help","URL-friendly version of the title")})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"excerpt",children:t("support.excerpt","Excerpt")}),e.jsx(g,{id:"excerpt",value:i.excerpt,onChange:s=>a("excerpt",s.target.value),placeholder:t("support.excerpt_placeholder","Brief summary of the article"),rows:3,className:l.excerpt?"border-red-500":""}),l.excerpt&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.excerpt})]}),e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"content",children:[t("support.content","Content")," *"]}),e.jsx(g,{id:"content",value:i.content,onChange:s=>a("content",s.target.value),placeholder:t("support.content_placeholder","Write your article content here..."),rows:15,className:l.content?"border-red-500":""}),l.content&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.content})]})]})})]}),!n&&e.jsxs(d,{children:[e.jsxs(u,{children:[e.jsx(j,{children:t("support.seo_settings","SEO Settings")}),e.jsx(f,{children:t("support.seo_settings_description","Optimize your article for search engines")})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"meta_title",children:t("support.meta_title","Meta Title")}),e.jsx(h,{id:"meta_title",value:i.meta_title,onChange:s=>a("meta_title",s.target.value),placeholder:t("support.meta_title_placeholder","SEO title for search engines")})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"meta_description",children:t("support.meta_description","Meta Description")}),e.jsx(g,{id:"meta_description",value:i.meta_description,onChange:s=>a("meta_description",s.target.value),placeholder:t("support.meta_description_placeholder","SEO description for search engines"),rows:3})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(u,{children:e.jsx(j,{children:t("support.publishing","Publishing")})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"status",children:t("support.status","Status")}),e.jsxs(N,{value:i.status,onValueChange:s=>a("status",s),children:[e.jsx(C,{children:e.jsx(b,{})}),e.jsxs(y,{children:[e.jsx(c,{value:"draft",children:t("support.draft","Draft")}),e.jsx(c,{value:"published",children:t("support.published","Published")}),e.jsx(c,{value:"archived",children:t("support.archived","Archived")})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"category",children:t("support.category","Category")}),e.jsxs(N,{value:i.category_id,onValueChange:s=>a("category_id",s),children:[e.jsx(C,{children:e.jsx(b,{placeholder:t("support.select_category","Select category")})}),e.jsxs(y,{children:[e.jsx(c,{value:"empty",children:t("support.no_category","No Category")}),w.map(s=>e.jsx(c,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),s.name]})},s.id))]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{id:"is_featured",checked:i.is_featured,onCheckedChange:s=>a("is_featured",!!s)}),e.jsx(o,{htmlFor:"is_featured",className:"text-sm font-medium",children:t("support.featured_article","Featured Article")})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"sort_order",children:t("support.sort_order","Sort Order")}),e.jsx(h,{id:"sort_order",type:"number",value:i.sort_order,onChange:s=>a("sort_order",parseInt(s.target.value)||0),placeholder:"0"})]})]})]}),e.jsx(d,{children:e.jsx(p,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{type:"submit",className:"w-full",disabled:v,children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),v?t("common.saving","Saving..."):t("common.save_changes","Save Changes")]}),e.jsx(m,{type:"button",variant:"outline",className:"w-full",asChild:!0,children:e.jsx("a",{href:x("support.knowledge-base.show",r.id),children:t("common.cancel","Cancel")})})]})})}),e.jsxs(B,{children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx(I,{children:t("support.edit_article_help","Changes will be saved immediately. Published articles will be visible to all users.")})]})]})]})})]})]})}export{ze as default};
