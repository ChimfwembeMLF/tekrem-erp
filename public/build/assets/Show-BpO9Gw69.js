import{u as v,r as w,j as e,S as _,x as o,A as b}from"./app-BMIA6nir.js";import{A as y}from"./AppLayout-DbMk6clK.js";import{C as i,a as l,b as d,c as m,d as k}from"./card-BAsSN-2Z.js";import{B as p,U as C}from"./x-C3KwZK3B.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{u as S}from"./useTranslate-ER5gAOX6.js";import{A as T}from"./arrow-left-UX2kDF52.js";import{S as A}from"./share-2-cOWypco3.js";import{S as H}from"./square-pen-CReBrXbl.js";import{S as B}from"./star-D4SUxlZH.js";import{C as D}from"./users-3SuyoAg3.js";import{C as L}from"./calendar-DTsvo4Hi.js";import{E as N}from"./eye-DdivFxyT.js";import{T as x}from"./thumbs-up-BgoIjls2.js";import{T as z}from"./thumbs-down-SVKOui9E.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Te({faq:s,relatedFAQs:u}){const{t}=S(),n=v(),[c,g]=w.useState(!1),j=r=>{var f;if(c)return;const h=r?"helpful":"not-helpful";fetch(`/support/faq/${s.id}/${h}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||""}}).then(()=>{g(!0),b.reload({only:["faq"]})})};return e.jsxs(y,{children:[e.jsx(_,{title:s.question}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(o,{href:n("support.faq.index"),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),t("common.back","Back")]})})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),t("common.share","Share")]}),e.jsx(a,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(o,{href:n("support.faq.edit",s.id),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),t("common.edit","Edit")]})})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsx(i,{children:e.jsx(l,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(p,{variant:s.is_published?"default":"secondary",children:s.is_published?t("support.published","Published"):t("support.draft","Draft")}),s.is_featured&&e.jsxs(p,{variant:"outline",children:[e.jsx(B,{className:"h-3 w-3 mr-1"}),"Featured"]}),s.category&&e.jsxs(p,{variant:"outline",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:s.category.color}}),s.category.name]})]}),e.jsxs("h1",{className:"text-3xl font-bold tracking-tight mb-4 flex items-start gap-3",children:[e.jsx(D,{className:"h-8 w-8 text-primary mt-1 flex-shrink-0"}),s.question]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-4 w-4"}),s.author.name]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-4 w-4"}),new Date(s.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"h-4 w-4"}),s.view_count," views"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-4 w-4"}),s.helpful_count," helpful (",s.helpfulness_ratio,"%)"]})]})]})})})}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:t("support.answer","Answer")})}),e.jsx(m,{children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:s.answer.replace(/\n/g,"<br>")}})})})]}),e.jsxs(i,{children:[e.jsxs(l,{children:[e.jsx(d,{children:t("support.was_this_helpful","Was this FAQ helpful?")}),e.jsx(k,{children:t("support.faq_feedback_description","Let us know if this FAQ answered your question")})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(a,{variant:c?"secondary":"outline",onClick:()=>j(!0),disabled:c,className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),t("common.yes","Yes")," (",s.helpful_count,")"]}),e.jsxs(a,{variant:c?"secondary":"outline",onClick:()=>j(!1),disabled:c,className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),t("common.no","No")," (",s.not_helpful_count,")"]}),s.helpful_count+s.not_helpful_count>0&&e.jsxs("div",{className:"ml-4 text-sm text-muted-foreground",children:[s.helpfulness_ratio,"% found this helpful"]})]}),c&&e.jsx("p",{className:"text-sm text-green-600 mt-2",children:t("support.feedback_thanks","Thank you for your feedback!")})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:t("support.faq_stats","FAQ Statistics")})}),e.jsx(m,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.views","Views")}),e.jsx("span",{className:"font-medium",children:s.view_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.helpful_votes","Helpful Votes")}),e.jsx("span",{className:"font-medium",children:s.helpful_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.not_helpful_votes","Not Helpful Votes")}),e.jsx("span",{className:"font-medium",children:s.not_helpful_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.helpfulness_ratio","Helpfulness Ratio")}),e.jsxs("span",{className:"font-medium",children:[s.helpfulness_ratio,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:t("support.last_updated","Last Updated")}),e.jsx("span",{className:"font-medium",children:new Date(s.updated_at).toLocaleDateString()})]})]})})]}),u.length>0&&e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:t("support.related_faqs","Related FAQs")})}),e.jsx(m,{className:"space-y-3",children:u.map(r=>e.jsx("div",{className:"border-b last:border-b-0 pb-3 last:pb-0",children:e.jsxs(o,{href:n("support.faq.show",r.id),className:"block hover:text-primary",children:[e.jsx("h4",{className:"font-medium text-sm leading-tight mb-1",children:r.question}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"h-3 w-3"}),r.view_count," views"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-3 w-3"}),r.helpful_count," helpful"]})]})]})},r.id))})]}),s.tags&&s.tags.length>0&&e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:t("support.tags","Tags")})}),e.jsx(m,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((r,h)=>e.jsx(p,{variant:"secondary",className:"text-xs",children:r},h))})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(d,{children:t("support.quick_actions","Quick Actions")})}),e.jsxs(m,{className:"space-y-2",children:[e.jsx(a,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsx(o,{href:n("support.tickets.create"),children:t("support.create_ticket","Create Support Ticket")})}),e.jsx(a,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsx(o,{href:n("support.faq.index"),children:t("support.browse_faqs","Browse All FAQs")})}),e.jsx(a,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsx(o,{href:n("support.knowledge-base.index"),children:t("support.knowledge_base","Knowledge Base")})})]})]})]})]})]})]})}export{Te as default};
