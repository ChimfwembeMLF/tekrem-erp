import{j as e,S as v,x as i,A as n}from"./app-BMIA6nir.js";import{A as y}from"./AppLayout-DbMk6clK.js";import{B as r}from"./createLucideIcon-Cg8jdX0w.js";import{C as d,a as c,b as l,d as o,c as m,e as N}from"./card-BAsSN-2Z.js";import{T as b,a as C,b as x,c as u}from"./tabs-YflTNJKH.js";import{B as h}from"./x-C3KwZK3B.js";import{C as w}from"./ChatComponent-D24py_KB.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./textarea-CP26afIU.js";import"./avatar-DdiG0YBt.js";function je({auth:p,lead:s,communications:a}){const g=t=>{switch(t){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"unqualified":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},f=t=>{switch(t){case"email":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"call":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"meeting":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"note":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return e.jsxs(y,{title:`Lead: ${s.name}`,renderHeader:()=>e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Lead: ",s.name]}),children:[e.jsx(v,{title:`Lead: ${s.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{href:route("crm.leads.index"),children:e.jsx(r,{variant:"outline",children:"Back to Leads"})}),e.jsx(h,{variant:"outline",className:g(s.status),children:s.status}),s.converted_to_client&&e.jsx(h,{variant:"outline",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Converted to Client"})]}),e.jsxs("div",{className:"flex gap-2",children:[!s.converted_to_client&&s.status==="qualified"&&e.jsx(r,{onClick:()=>{confirm("Are you sure you want to convert this lead to a client?")&&n.post(route("crm.leads.convert",s.id))},children:"Convert to Client"}),e.jsx(i,{href:route("crm.leads.edit",s.id),children:e.jsx(r,{variant:"outline",children:"Edit Lead"})}),e.jsx(r,{variant:"destructive",onClick:()=>{confirm("Are you sure you want to delete this lead?")&&n.delete(route("crm.leads.destroy",s.id))},children:"Delete"})]})]}),e.jsxs(b,{defaultValue:"details",className:"w-full",children:[e.jsxs(C,{className:"grid w-full grid-cols-3",children:[e.jsx(x,{value:"details",children:"Lead Details"}),e.jsx(x,{value:"communications",children:"Communications"}),e.jsx(x,{value:"chats",children:"Chat History"})]}),e.jsx(u,{value:"details",children:e.jsxs(d,{children:[e.jsxs(c,{children:[e.jsx(l,{children:"Lead Information"}),e.jsxs(o,{children:["Detailed information about ",s.name]})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Contact Information"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.phone||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Company:"})," ",s.company||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Position:"})," ",s.position||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Source:"})," ",s.source||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Address"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Street:"})," ",s.address||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",s.city||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"State/Province:"})," ",s.state||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Postal Code:"})," ",s.postal_code||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",s.country||"N/A"]})]})]})]}),s.notes&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Notes"}),e.jsx("div",{className:"mt-2 p-4 bg-muted rounded-md",children:s.notes})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"System Information"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(s.created_at).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(s.updated_at).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Assigned To:"})," ",s.user.name]}),s.converted_to_client&&s.converted_at&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Converted to Client:"})," ",new Date(s.converted_at).toLocaleString()]})]})]})]})]})}),e.jsx(u,{value:"communications",children:e.jsxs(d,{children:[e.jsxs(c,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Communications"}),e.jsxs(o,{children:["History of communications with ",s.name]})]}),e.jsx(i,{href:route("crm.communications.create",{communicable_type:"App\\Models\\Lead",communicable_id:s.id}),children:e.jsx(r,{children:"Add Communication"})})]}),e.jsx(m,{children:a.data.length>0?e.jsx("div",{className:"space-y-4",children:a.data.map(t=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:t.subject||`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} on ${new Date(t.communication_date).toLocaleDateString()}`}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(t.communication_date).toLocaleString()," by ",t.user.name]})]}),e.jsx(h,{variant:"outline",className:f(t.type),children:t.type})]}),e.jsx("p",{className:"mt-2",children:t.content}),e.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[e.jsx(i,{href:route("crm.communications.edit",t.id),children:e.jsx(r,{variant:"outline",size:"sm",children:"Edit"})}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this communication?")&&n.delete(route("crm.communications.destroy",t.id))},children:"Delete"})]})]},t.id))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No communications found."})})}),a.last_page>1&&e.jsx(N,{children:e.jsx("div",{className:"flex gap-1 mx-auto",children:a.links.map((t,j)=>t.url===null?e.jsx(r,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:t.label}},j):e.jsx(i,{href:t.url,children:e.jsx(r,{variant:t.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:t.label}})},j))})})]})}),e.jsx(u,{value:"chats",children:e.jsxs(d,{children:[e.jsxs(c,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Chat History"}),e.jsxs(o,{children:["Chat messages with ",s.name]})]}),e.jsx(r,{onClick:()=>n.post(route("crm.livechat.find-or-create"),{chattable_type:"App\\Models\\Lead",chattable_id:s.id}),className:"flex items-center gap-2",children:"Send Message"})]}),e.jsx(m,{children:p.user&&e.jsx(w,{chattableType:"App\\\\Models\\\\Lead",chattableId:s.id,recipientId:s.user.id!==p.user.id?s.user.id:1,initialMessages:[]})})]})})]})]})})]})}export{je as default};
