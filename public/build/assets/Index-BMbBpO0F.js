import{u as y,r as d,j as e,S as C,x as i,A as x}from"./app-BMIA6nir.js";import{A as b,T as _}from"./AppLayout-DbMk6clK.js";import{C as T,a as D,b as A,d as E,c as I}from"./card-BAsSN-2Z.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{I as M}from"./input-Bg5GDATO.js";import{B as P}from"./x-C3KwZK3B.js";import{S as B,a as R,b as z,c as H,d as N}from"./select-B6KOX9nY.js";import{D as L,a as V,b as O,c as p}from"./NotificationComponent-CHA3vjZG.js";import{u as k}from"./useTranslate-ER5gAOX6.js";import{P as q}from"./plus-BjPf5uI-.js";import{E as F}from"./ellipsis-DJ3pNpl6.js";import{E as G}from"./eye-DdivFxyT.js";import{S as J}from"./square-pen-CReBrXbl.js";import{T as K}from"./trash-2-DZc0jDKK.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function Fe({categories:a,filters:o,types:l,parentCategories:Q}){const{t}=k(),r=y(),[h,j]=d.useState(o.search||""),[m,f]=d.useState(o.type||"all"),[u,g]=d.useState(o.parent||"all"),v=()=>{x.get(r("finance.categories.index"),{search:h,type:m==="all"?"":m,parent:u==="all"?"":u},{preserveState:!0,replace:!0})},w=()=>{j(""),f("all"),g("all"),x.get(r("finance.categories.index"),{},{preserveState:!0,replace:!0})},S=s=>{confirm(t("common.confirm_delete","Are you sure you want to delete this item?"))&&x.delete(r("finance.categories.destroy",s))};return e.jsxs(b,{title:t("finance.categories","Categories"),children:[e.jsx(C,{title:t("finance.categories","Categories")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(T,{children:[e.jsxs(D,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(A,{children:t("finance.categories","Categories")}),e.jsx(E,{children:t("finance.categories_description","Organize your transactions with categories")})]}),e.jsx(i,{href:r("finance.categories.create"),children:e.jsxs(n,{children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),t("finance.create_category","Create Category")]})})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-2",children:[e.jsxs("form",{onSubmit:s=>{s.preventDefault(),v()},className:"flex gap-2 flex-1",children:[e.jsx(M,{type:"text",placeholder:t("finance.search_categories","Search categories..."),value:h,onChange:s=>j(s.target.value),className:"max-w-sm"}),e.jsx(n,{type:"submit",variant:"secondary",children:t("common.search","Search")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{value:m,onValueChange:f,children:[e.jsx(R,{className:"w-40",children:e.jsx(z,{placeholder:t("common.all_types","All types")})}),e.jsxs(H,{children:[e.jsx(N,{value:"all",children:t("common.all_types","All types")}),l&&Object.entries(l).map(([s,c])=>e.jsx(N,{value:s,children:c},s))]})]}),e.jsx(n,{variant:"outline",onClick:w,children:t("common.reset","Reset")})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:t("common.name","Name")}),e.jsx("th",{className:"text-left p-2",children:t("common.type","Type")}),e.jsx("th",{className:"text-left p-2",children:t("finance.parent_category","Parent")}),e.jsx("th",{className:"text-left p-2",children:t("finance.subcategories","Subcategories")}),e.jsx("th",{className:"text-left p-2",children:t("finance.transactions","Transactions")}),e.jsx("th",{className:"text-left p-2",children:t("common.actions","Actions")})]})}),e.jsx("tbody",{children:a.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(_,{className:"h-8 w-8 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:t("finance.no_categories","No categories found")}),e.jsx(n,{asChild:!0,variant:"outline",children:e.jsx(i,{href:r("finance.categories.create"),children:t("finance.create_first_category","Create your first category")})})]})})}):a.data.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.color&&e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]})}),e.jsx("td",{className:"p-2",children:e.jsx(P,{variant:"secondary",children:l&&l[s.type]||s.type})}),e.jsx("td",{className:"p-2",children:s.parent?e.jsx("span",{className:"text-sm",children:s.parent.name}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-sm",children:s.children_count||0})}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-sm",children:s.transactions_count||0})}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs(L,{children:[e.jsx(V,{asChild:!0,children:e.jsx(n,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsxs(O,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(i,{href:r("finance.categories.show",s.id),children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),t("common.view","View")]})}),e.jsx(p,{asChild:!0,children:e.jsxs(i,{href:r("finance.categories.edit",s.id),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),t("common.edit","Edit")]})}),e.jsxs(p,{onClick:()=>S(s.id),className:"text-red-600",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),t("common.delete","Delete")]})]})]})})]},s.id))})]})}),a.last_page>1&&e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("common.showing_results","Showing {{from}} to {{to}} of {{total}} results",{from:a.from,to:a.to,total:a.total})}),e.jsx("div",{className:"flex gap-1",children:a.links.map((s,c)=>s.url===null?e.jsx(n,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:s.label}},c):e.jsx(i,{href:s.url,children:e.jsx(n,{variant:s.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:s.label}})},c))})]})]})]})})})]})}export{Fe as default};
