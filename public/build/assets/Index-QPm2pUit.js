import{u as N,j as e,S as z,x as d,A as g}from"./app-BMIA6nir.js";import{C as P}from"./CustomerLayout-7LFTkDxI.js";import{C as a,a as i,b as n,c as l,d as w}from"./card-BAsSN-2Z.js";import{B as y}from"./x-C3KwZK3B.js";import{B as m}from"./createLucideIcon-Cg8jdX0w.js";import{I as T}from"./input-Bg5GDATO.js";import{S as B,a as R,b as k,c as E,d as j}from"./select-B6KOX9nY.js";import{F as u}from"./file-text-D25AipK4.js";import{D as U}from"./dollar-sign-Cli0KufN.js";import{C as b}from"./circle-check-big-DCsv6rXk.js";import{C as S}from"./circle-alert-DVIk47WR.js";import{S as L}from"./search-_p1CX5vB.js";import{E as Q}from"./eye-DdivFxyT.js";import{D as Y}from"./download-CNZP3fGS.js";import{C}from"./NotificationComponent-CHA3vjZG.js";import{C as H}from"./clock-BTinGqFV.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function ye({invoices:f,recent_payments:p,recent_quotations:o,stats:t,filters:h}){const r=N(),D=s=>{s.preventDefault();const V=new FormData(s.currentTarget).get("search"),O=N();g.get(O("customer.finance.index"),{...h,search:V||void 0},{preserveState:!0,replace:!0})},_=s=>{g.get(r("customer.finance.index"),{...h,status:s==="all"?void 0:s},{preserveState:!0,replace:!0})},A=s=>{switch(s){case"paid":return e.jsx(b,{className:"h-4 w-4"});case"pending":return e.jsx(H,{className:"h-4 w-4"});case"overdue":return e.jsx(S,{className:"h-4 w-4"});default:return e.jsx(u,{className:"h-4 w-4"})}},I=s=>{switch(s){case"paid":return"secondary";case"pending":return"default";case"overdue":return"destructive";default:return"outline"}},c=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),v=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=(s,x)=>x!=="paid"&&new Date(s)<new Date;return e.jsxs(P,{children:[e.jsx(z,{title:"Financial Overview"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Financial Overview"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your invoices, payments, and financial status"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Total Invoices"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_invoices}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c(t.total_amount)," total value"]})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Outstanding Amount"}),e.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(t.outstanding_amount)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.pending_invoices+t.overdue_invoices," unpaid invoices"]})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Paid Amount"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(t.paid_amount)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.paid_invoices," paid invoices"]})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Overdue"}),e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.overdue_invoices}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate attention"})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx("div",{children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{children:"My Invoices"}),e.jsx(d,{href:r("customer.finance.invoices.index"),children:e.jsx(m,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("form",{onSubmit:D,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(T,{name:"search",placeholder:"Search invoices...",defaultValue:h.search||"",className:"pl-10"})]})}),e.jsxs(B,{value:h.status||"all",onValueChange:_,children:[e.jsx(R,{className:"w-full sm:w-48",children:e.jsx(k,{placeholder:"Filter by status"})}),e.jsxs(E,{children:[e.jsx(j,{value:"all",children:"All Status"}),e.jsx(j,{value:"pending",children:"Pending"}),e.jsx(j,{value:"paid",children:"Paid"}),e.jsx(j,{value:"overdue",children:"Overdue"})]})]})]}),e.jsx("div",{className:"space-y-4",children:f.length>0?f.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.invoice_number}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Due: ",v(s.due_date),F(s.due_date,s.status)&&e.jsx("span",{className:"text-destructive ml-2",children:"(Overdue)"})]})]})})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:c(s.total_amount)}),e.jsxs(y,{variant:I(s.status),children:[A(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{href:r("customer.finance.invoices.show",s.id),children:e.jsx(m,{variant:"outline",size:"sm",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsx(d,{href:r("customer.finance.invoices.download",s.id),children:e.jsx(m,{variant:"outline",size:"sm",children:e.jsx(Y,{className:"h-4 w-4"})})})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(u,{className:"mx-auto h-8 w-8 mb-2"}),e.jsx("p",{children:"No invoices found"})]})}),f.length>=5&&e.jsx("div",{className:"text-center mt-6",children:e.jsx(d,{href:r("customer.finance.invoices"),children:e.jsx(m,{variant:"outline",children:"View All Invoices"})})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Recent Payments"}),e.jsx(w,{children:"Your latest payment history"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"space-y-4",children:p.length>0?p.map(s=>{var x;return e.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-secondary rounded-lg",children:e.jsx(C,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c(s.amount)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:((x=s.invoice)==null?void 0:x.invoice_number)||"Direct Payment"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:v(s.payment_date)})]})]})},s.id)}):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(C,{className:"mx-auto h-8 w-8 mb-2"}),e.jsx("p",{children:"No payments yet"})]})}),p.length>0&&e.jsx("div",{className:"text-center mt-4",children:e.jsx(d,{href:r("customer.finance.payments"),children:e.jsx(m,{variant:"outline",size:"sm",children:"View All Payments"})})})]})]}),e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Recent Quotations"}),e.jsx(w,{children:"Your latest quotation requests"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"space-y-4",children:o&&o.length>0?o.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-secondary rounded-lg",children:e.jsx(u,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.quotation_number}),e.jsx("div",{className:"text-sm text-muted-foreground",children:c(s.total_amount)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:v(s.created_at)})]})]}),e.jsx(y,{variant:s.status==="accepted"?"secondary":"default",children:s.status})]},s.id)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(u,{className:"mx-auto h-8 w-8 mb-2"}),e.jsx("p",{children:"No quotations yet"})]})}),o&&o.length>0&&e.jsx("div",{className:"text-center mt-4",children:e.jsx(d,{href:r("customer.finance.quotations"),children:e.jsx(m,{variant:"outline",size:"sm",children:"View All Quotations"})})})]})]})]})]})]})]})}export{ye as default};
