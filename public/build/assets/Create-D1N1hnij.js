import{r as k,G as S,j as e,S as w}from"./app-BMIA6nir.js";import{A}from"./AppLayout-DbMk6clK.js";import{B as d}from"./createLucideIcon-Cg8jdX0w.js";import{C as T,a as I,b as F,d as P,c as E}from"./card-BAsSN-2Z.js";import{I as n}from"./input-Bg5GDATO.js";import{L as t}from"./label-CM6YsqH1.js";import{T as B}from"./textarea-CP26afIU.js";import{S as D,a as L,b as q,c as R,d as O}from"./select-B6KOX9nY.js";import{S as x}from"./switch-_qD_kSA5.js";import{B as U}from"./x-C3KwZK3B.js";import{u as H}from"./useTranslate-ER5gAOX6.js";import{t as l}from"./index-Dj2TB_RL.js";import{B as K}from"./bot-COuCQh0r.js";import{B as M}from"./brain-D-NomhzH.js";import{Z as V}from"./zap-CQoeASxN.js";import{T as Z}from"./test-tube-BGKhckqE.js";import{S as z}from"./save-D6UyxhH5.js";import{A as G}from"./arrow-left-UX2kDF52.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Ge(){const{t:r}=H(),[p,u]=k.useState(!1),{data:a,setData:i,post:v,processing:h,errors:c,reset:J}=S({name:"",provider:"",api_key:"",api_url:"",description:"",is_enabled:!0,is_default:!1,priority:0,supported_features:[],cost_per_token:"",rate_limit_per_minute:"",max_tokens_per_request:"",configuration:{}}),_=[{value:"mistral",label:r("ai.mistral","Mistral AI"),icon:e.jsx(K,{className:"h-4 w-4"})},{value:"openai",label:r("ai.openai","OpenAI"),icon:e.jsx(M,{className:"h-4 w-4"})},{value:"anthropic",label:r("ai.anthropic","Anthropic"),icon:e.jsx(V,{className:"h-4 w-4"})}],j=["chat","completion","embedding","image","audio","analysis"],f=s=>{s.preventDefault(),v(route("ai.services.store"),{onSuccess:()=>{l.success(r("ai.service_created","Service created successfully"))},onError:()=>{l.error(r("common.error","An error occurred"))}})},g=s=>{i(o=>({...o,provider:s,api_url:y(s),supported_features:N(s)}))},y=s=>{switch(s){case"mistral":return"https://api.mistral.ai/v1";case"openai":return"https://api.openai.com/v1";case"anthropic":return"https://api.anthropic.com/v1";default:return""}},N=s=>{switch(s){case"mistral":return["chat","completion","embedding"];case"openai":return["chat","completion","embedding","image","audio"];case"anthropic":return["chat","completion","analysis"];default:return["chat","completion"]}},C=s=>{i(o=>({...o,supported_features:o.supported_features.includes(s)?o.supported_features.filter(m=>m!==s):[...o.supported_features,s]}))},b=async()=>{var s;if(!a.provider||!a.api_key){l.error("Please select a provider and enter an API key first");return}u(!0);try{const m=await(await fetch(route("ai.dashboard.test-connection"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""},body:JSON.stringify({provider:a.provider,api_key:a.api_key,api_url:a.api_url})})).json();m.success?l.success(r("ai.connection_successful","Connection successful")):l.error(r("ai.connection_failed","Connection failed")+": "+m.message)}catch{l.error(r("ai.connection_failed","Connection failed"))}finally{u(!1)}};return e.jsxs(A,{title:r("ai.create_service","Create AI Service"),renderHeader:()=>e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),r("common.back","Back")]}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:r("ai.create_service","Create AI Service")})]})}),children:[e.jsx(w,{title:r("ai.create_service","Create AI Service")}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs(T,{children:[e.jsxs(I,{children:[e.jsx(F,{children:r("ai.service_configuration","Service Configuration")}),e.jsx(P,{children:r("ai.service_configuration","Configure your AI service provider settings")})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"name",children:[r("ai.service_name","Service Name")," *"]}),e.jsx(n,{id:"name",value:a.name,onChange:s=>i("name",s.target.value),placeholder:"Enter service name",className:c.name?"border-red-500":""}),c.name&&e.jsx("p",{className:"text-sm text-red-500",children:c.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"provider",children:[r("ai.provider","Provider")," *"]}),e.jsxs(D,{value:a.provider,onValueChange:g,children:[e.jsx(L,{className:c.provider?"border-red-500":"",children:e.jsx(q,{placeholder:"Select provider"})}),e.jsx(R,{children:_.map(s=>e.jsx(O,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.icon,s.label]})},s.value))})]}),c.provider&&e.jsx("p",{className:"text-sm text-red-500",children:c.provider})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"description",children:r("common.description","Description")}),e.jsx(B,{id:"description",value:a.description,onChange:s=>i("description",s.target.value),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:r("ai.api_configuration","API Configuration")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"api_key",children:r("ai.api_key","API Key")}),e.jsx(n,{id:"api_key",type:"password",value:a.api_key,onChange:s=>i("api_key",s.target.value),placeholder:"Enter API key"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"api_url",children:r("ai.api_url","API URL")}),e.jsx(n,{id:"api_url",value:a.api_url,onChange:s=>i("api_url",s.target.value),placeholder:"Enter API URL"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{type:"button",variant:"outline",onClick:b,disabled:p||!a.provider||!a.api_key,children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),p?"Testing...":r("ai.test_connection","Test Connection")]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:r("ai.supported_features","Supported Features")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(s=>e.jsx(U,{variant:a.supported_features.includes(s)?"default":"outline",className:"cursor-pointer",onClick:()=>C(s),children:s},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:r("common.settings","Settings")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"priority",children:r("common.priority","Priority")}),e.jsx(n,{id:"priority",type:"number",min:"0",value:a.priority,onChange:s=>i("priority",parseInt(s.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"cost_per_token",children:r("ai.cost_per_token","Cost per Token")}),e.jsx(n,{id:"cost_per_token",type:"number",step:"0.00000001",value:a.cost_per_token,onChange:s=>i("cost_per_token",s.target.value),placeholder:"0.00002"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"rate_limit",children:r("ai.rate_limit_per_minute","Rate Limit (per minute)")}),e.jsx(n,{id:"rate_limit",type:"number",min:"1",value:a.rate_limit_per_minute,onChange:s=>i("rate_limit_per_minute",s.target.value),placeholder:"100"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"max_tokens",children:r("ai.max_tokens_per_request","Max Tokens per Request")}),e.jsx(n,{id:"max_tokens",type:"number",min:"1",value:a.max_tokens_per_request,onChange:s=>i("max_tokens_per_request",s.target.value),placeholder:"4000",className:"max-w-xs"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{id:"is_enabled",checked:a.is_enabled,onCheckedChange:s=>i("is_enabled",s)}),e.jsx(t,{htmlFor:"is_enabled",children:r("ai.enabled","Enabled")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r("ai.enabled_description","Enable this service for use")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{id:"is_default",checked:a.is_default,onCheckedChange:s=>i("is_default",s)}),e.jsx(t,{htmlFor:"is_default",children:r("common.default","Default")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r("ai.default_description","Set as default service")})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:r("common.cancel","Cancel")}),e.jsxs(d,{type:"submit",disabled:h,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),h?r("common.saving","Saving..."):r("common.save","Save")]})]})]})})]})}export{Ge as default};
