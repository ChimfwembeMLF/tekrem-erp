import{u as A,r as N,j as e,S as M,A as _}from"./app-BMIA6nir.js";import{A as F,N as k}from"./AppLayout-DbMk6clK.js";import{C as l,a as r,b as o,d as S,c as d}from"./card-BAsSN-2Z.js";import{B as b}from"./createLucideIcon-Cg8jdX0w.js";import{I as y}from"./input-Bg5GDATO.js";import{L as m}from"./label-CM6YsqH1.js";import{T as C}from"./textarea-CP26afIU.js";import{S as D,a as O,b as L,c as T,d as I}from"./select-B6KOX9nY.js";import{S as E}from"./switch-_qD_kSA5.js";import{A as J,a as z}from"./alert-CNp8ZuHk.js";import{u as B}from"./useTranslate-ER5gAOX6.js";import{t as x}from"./index-Dj2TB_RL.js";import{A as V}from"./arrow-left-UX2kDF52.js";import{S as R}from"./save-D6UyxhH5.js";import{T as H}from"./triangle-alert-BWIpgUmg.js";import{S as P}from"./sheet-1SUjjT9Y.js";import"./useTypedPage-hmuARwun.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./x-C3KwZK3B.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function He({locations:h,errors:t}){const{t:s}=B(),j=A(),[g,u]=N.useState(!1),[i,f]=N.useState({name:"",slug:"",description:"",location:"",is_active:!0,settings:"{}"}),c=(a,n)=>{if(f(p=>({...p,[a]:n})),a==="name"&&!i.slug){const p=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");f(w=>({...w,slug:p}))}},v=async a=>{a.preventDefault(),u(!0);try{try{JSON.parse(i.settings)}catch{x.error(s("cms.invalid_json","Invalid JSON format in settings")),u(!1);return}_.post(j("cms.menus.store"),{...i,settings:JSON.parse(i.settings)},{onSuccess:()=>{x.success(s("cms.menu_created","Menu created successfully"))},onError:n=>{console.error("Validation errors:",n),x.error(s("cms.menu_creation_failed","Failed to create menu"))},onFinish:()=>{u(!1)}})}catch(n){console.error("Error creating menu:",n),x.error(s("cms.menu_creation_failed","Failed to create menu")),u(!1)}};return e.jsxs(F,{children:[e.jsx(M,{title:s("cms.create_menu","Create Menu")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>_.visit(j("cms.menus.index")),children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),s("common.back","Back")]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("cms.create_menu","Create Menu")}),e.jsx("p",{className:"text-muted-foreground",children:s("cms.create_menu_description","Create a new navigation menu")})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(b,{onClick:v,disabled:g||!i.name||!i.location,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),g?s("common.saving","Saving..."):s("common.save","Save")]})})]}),Object.keys(t||{}).length>0&&e.jsxs(J,{variant:"destructive",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx(z,{children:s("common.validation_errors","Please fix the validation errors below")})]}),e.jsx("form",{onSubmit:v,className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(l,{children:[e.jsxs(r,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),s("cms.menu_details","Menu Details")]}),e.jsx(S,{children:s("cms.menu_details_desc","Configure the basic menu information")})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{htmlFor:"name",children:[s("cms.menu_name","Menu Name")," *"]}),e.jsx(y,{id:"name",value:i.name,onChange:a=>c("name",a.target.value),placeholder:s("cms.enter_menu_name","Enter menu name"),className:t!=null&&t.name?"border-destructive":""}),(t==null?void 0:t.name)&&e.jsx("p",{className:"text-sm text-destructive",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"slug",children:s("cms.slug","Slug")}),e.jsx(y,{id:"slug",value:i.slug,onChange:a=>c("slug",a.target.value),placeholder:s("cms.auto_generated","Auto-generated from name"),className:t!=null&&t.slug?"border-destructive":""}),(t==null?void 0:t.slug)&&e.jsx("p",{className:"text-sm text-destructive",children:t.slug})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"description",children:s("cms.description","Description")}),e.jsx(C,{id:"description",value:i.description,onChange:a=>c("description",a.target.value),placeholder:s("cms.menu_description_placeholder","Describe this menu..."),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{htmlFor:"location",children:[s("cms.menu_location","Menu Location")," *"]}),e.jsxs(D,{value:i.location,onValueChange:a=>c("location",a),children:[e.jsx(O,{className:t!=null&&t.location?"border-destructive":"",children:e.jsx(L,{placeholder:s("cms.select_location","Select a location")})}),e.jsx(T,{children:Object.entries(h).map(([a,n])=>e.jsx(I,{value:a,children:n},a))})]}),(t==null?void 0:t.location)&&e.jsx("p",{className:"text-sm text-destructive",children:t.location}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("cms.location_help","Where this menu will be displayed on your website")})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(r,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),s("cms.menu_settings","Menu Settings")]})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{children:s("cms.active","Active")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("cms.menu_active_desc","Make this menu available for display")})]}),e.jsx(E,{checked:i.is_active,onCheckedChange:a=>c("is_active",a)})]})})]}),e.jsxs(l,{children:[e.jsxs(r,{children:[e.jsx(o,{children:s("cms.advanced_settings","Advanced Settings")}),e.jsx(S,{children:s("cms.menu_advanced_settings_desc","JSON configuration for menu behavior")})]}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"settings",children:s("cms.menu_settings_json","Menu Settings")}),e.jsx(C,{id:"settings",value:i.settings,onChange:a=>c("settings",a.target.value),placeholder:'{"max_depth": 3, "show_icons": true, "mobile_breakpoint": "768px"}',rows:6,className:"font-mono text-sm"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("cms.json_format","JSON format")})]})})]}),e.jsxs(l,{children:[e.jsx(r,{children:e.jsx(o,{children:s("cms.menu_locations","Menu Locations")})}),e.jsx(d,{className:"space-y-3 text-sm",children:Object.entries(h).map(([a,n])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:n}),e.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:a})]},a))})]}),e.jsxs(l,{children:[e.jsx(r,{children:e.jsx(o,{children:s("cms.next_steps","Next Steps")})}),e.jsxs(d,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-medium mt-0.5",children:"1"}),e.jsx("p",{children:s("cms.step_1","Save the menu to create it")})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-xs font-medium mt-0.5",children:"2"}),e.jsx("p",{children:s("cms.step_2","Add menu items and organize them")})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-xs font-medium mt-0.5",children:"3"}),e.jsx("p",{children:s("cms.step_3","Configure menu display settings")})]})]})]})]})]})})]})]})}export{He as default};
