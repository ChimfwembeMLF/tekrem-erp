import{u as N,j as e,S as f,A as y}from"./app-BMIA6nir.js";import{A as v}from"./AppLayout-DbMk6clK.js";import{B as m}from"./createLucideIcon-Cg8jdX0w.js";import{C as c,a as d,b as x,c as o}from"./card-BAsSN-2Z.js";import{B as a}from"./x-C3KwZK3B.js";import{u as w}from"./useTranslate-ER5gAOX6.js";import{K as b}from"./key-Qw2I2-NE.js";import{S as r}from"./shield-DwKJ9Ble.js";import{U as i}from"./users-3SuyoAg3.js";import{C as p}from"./calendar-DTsvo4Hi.js";import{A as C}from"./arrow-left-UX2kDF52.js";import{S as P}from"./square-pen-CReBrXbl.js";import{T as S}from"./trash-2-DZc0jDKK.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function ue({permission:s}){w();const l=N(),g=t=>{switch(t){case"admin":return"destructive";case"manager":return"default";case"staff":return"secondary";case"customer":return"outline";default:return"secondary"}},n=s.name.includes("admin.")||s.name.includes("settings.")||["crm.view","finance.view","projects.view"].includes(s.name),u=()=>{if(n){alert("System permissions cannot be deleted.");return}if(s.roles_count>0||s.users_count>0){alert("Cannot delete permission that is assigned to roles or users. Please remove assignments first.");return}confirm("Are you sure you want to delete this permission? This action cannot be undone.")&&y.delete(l("admin.permissions.destroy",s.id))},[h,j]=s.name.split(".");return e.jsxs(v,{title:`Permission: ${s.name}`,renderHeader:()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:l("admin.permissions.index"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Back to Permissions"]})}),e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Permission Details: ",s.name]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:l("admin.permissions.edit",s.id),children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Edit Permission"]})}),!n&&e.jsxs(m,{variant:"outline",className:"text-red-600 hover:text-red-700",onClick:u,children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Delete Permission"]})]})]}),children:[e.jsx(f,{title:`Permission: ${s.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Permission Information"]})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Permission Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-medium font-mono",children:s.name}),n&&e.jsx(a,{variant:"outline",children:"System Permission"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-lg",children:s.description||"No description provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Module & Action"}),e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx(a,{variant:"secondary",children:h.toUpperCase()}),j&&e.jsx(a,{variant:"outline",children:j})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Usage Statistics"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{children:[s.roles_count," roles"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(i,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{children:[s.users_count," direct users"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-lg",children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-lg",children:new Date(s.updated_at).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Permission ID"}),e.jsxs("p",{className:"text-lg font-mono",children:["#",s.id]})]})]})]})})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5"}),"Assigned to Roles (",s.roles_count,")"]})}),e.jsx(o,{children:s.roles&&s.roles.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.roles.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(r,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium capitalize",children:t.name}),e.jsx(a,{variant:g(t.name),children:t.name})]}),e.jsx("p",{className:"text-sm text-gray-500",children:t.description||"No description"})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(r,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No roles assigned"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"This permission is not assigned to any roles."})]})})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5"}),"Direct User Assignments (",s.users_count,")"]})}),e.jsx(o,{children:s.users&&s.users.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.users.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(i,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No direct user assignments"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"This permission is not directly assigned to any users. Users may have this permission through their roles."})]})})]})]})})]})}export{ue as default};
