import{r as T,G as k,j as e,S as D}from"./app-BMIA6nir.js";import{C as L,a as M,b as B,d as F,c as E}from"./card-BAsSN-2Z.js";import{B as c}from"./createLucideIcon-Cg8jdX0w.js";import{I as p}from"./input-Bg5GDATO.js";import{L as l}from"./label-CM6YsqH1.js";import{T as z}from"./textarea-CP26afIU.js";import{S as h,a as j,b as g,c as v,d as m}from"./select-B6KOX9nY.js";import{A as u,a as y}from"./alert-CNp8ZuHk.js";import{A as V}from"./AppLayout-DbMk6clK.js";import{u as H}from"./useTranslate-ER5gAOX6.js";import{M as N}from"./message-square-32k9udjC.js";import{B as f}from"./bot-COuCQh0r.js";import{L as O}from"./loader-circle-BUEefOfS.js";import{C as U}from"./circle-alert-DVIk47WR.js";import{A as q}from"./arrow-left-UX2kDF52.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./log-out-B525vUfE.js";function Ue({models:d,contextTypes:C}){const{t:s}=H(),[r,_]=T.useState(null),{data:a,setData:n,post:b,processing:x,errors:i,reset:G}=k({title:"",ai_model_id:"",context_type:"",context_id:"",initial_message:"",metadata:{}}),w=t=>{t.preventDefault(),b(route("ai.conversations.store"))},S=t=>{n("ai_model_id",t);const o=d.find(I=>I.id.toString()===t);_(o||null)},A=t=>({crm:"bg-blue-100 text-blue-800",finance:"bg-green-100 text-green-800",support:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[t]||"bg-gray-100 text-gray-800";return e.jsxs(V,{title:s("Create AI Conversation"),renderHeader:()=>e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),s("Back")]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s("Create AI Conversation")}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s("Start a new conversation with an AI model")})]})]})}),children:[e.jsx(D,{title:s("Create AI Conversation")}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs(L,{children:[e.jsxs(M,{children:[e.jsxs(B,{className:"flex items-center",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),s("Conversation Details")]}),e.jsx(F,{children:s("Configure your new AI conversation settings")})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"title",children:[s("Conversation Title")," *"]}),e.jsx(p,{id:"title",type:"text",value:a.title,onChange:t=>n("title",t.target.value),placeholder:s("Enter a descriptive title for this conversation"),className:i.title?"border-red-500":""}),i.title&&e.jsx("p",{className:"text-sm text-red-600",children:i.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"ai_model_id",children:[s("AI Model")," *"]}),e.jsxs(h,{value:a.ai_model_id,onValueChange:S,children:[e.jsx(j,{className:i.ai_model_id?"border-red-500":"",children:e.jsx(g,{placeholder:s("Select an AI model")})}),e.jsx(v,{children:d.map(t=>e.jsx(m,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.service.name," â€¢ ",t.type]})]})]})},t.id))})]}),i.ai_model_id&&e.jsx("p",{className:"text-sm text-red-600",children:i.ai_model_id}),r&&e.jsxs(u,{children:[e.jsx(f,{className:"h-4 w-4"}),e.jsxs(y,{children:[e.jsx("strong",{children:r.name})," - ",r.service.name," (",r.service.provider,")",e.jsx("br",{}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Type: ",r.type.charAt(0).toUpperCase()+r.type.slice(1)]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"context_type",children:s("Context Type")}),e.jsxs(h,{value:a.context_type,onValueChange:t=>n("context_type",t),children:[e.jsx(j,{children:e.jsx(g,{placeholder:s("Select context type (optional)")})}),e.jsxs(v,{children:[e.jsx(m,{value:"none",children:s("No Context")}),C.map(t=>e.jsx(m,{value:t,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${A(t)}`,children:t.toUpperCase()}),e.jsx("span",{className:"capitalize",children:t})]})},t))]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s("Context helps the AI understand the domain of your conversation")})]}),a.context_type&&a.context_type!=="none"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"context_id",children:s("Context ID")}),e.jsx(p,{id:"context_id",type:"number",value:a.context_id,onChange:t=>n("context_id",t.target.value),placeholder:s("Enter related record ID (optional)")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("Link this conversation to a specific record in the selected context")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"initial_message",children:s("Initial Message")}),e.jsx(z,{id:"initial_message",value:a.initial_message,onChange:t=>n("initial_message",t.target.value),placeholder:s("Start the conversation with an initial message (optional)"),rows:4,className:"resize-none"}),e.jsx("p",{className:"text-sm text-gray-600",children:s("This message will be sent immediately after creating the conversation")})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:s("Cancel")}),e.jsxs("div",{className:"flex items-center space-x-3",children:[x&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}),s("Creating conversation...")]}),e.jsxs(c,{type:"submit",disabled:x||!a.title||!a.ai_model_id,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s("Create Conversation")]})]})]}),Object.keys(i).length>0&&e.jsxs(u,{variant:"destructive",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsxs(y,{children:[s("Please fix the following errors:"),e.jsx("ul",{className:"mt-2 list-disc list-inside",children:Object.entries(i).map(([t,o])=>e.jsx("li",{className:"text-sm",children:o},t))})]})]})]})})})]})}export{Ue as default};
