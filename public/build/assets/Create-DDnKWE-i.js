import{j as e,G as D,r as C,S as G}from"./app-BMIA6nir.js";import{A as R}from"./AppLayout-DbMk6clK.js";import{B as p}from"./createLucideIcon-Cg8jdX0w.js";import{C as j,a as u,b as g,d as N,c as y,e as z}from"./card-BAsSN-2Z.js";import{I as m}from"./input-Bg5GDATO.js";import{L as c}from"./label-CM6YsqH1.js";import{T as _}from"./textarea-CP26afIU.js";import{S,a as A,b as I,c as L,d}from"./select-B6KOX9nY.js";import{X as E,B as o}from"./x-C3KwZK3B.js";import{P as q}from"./progress-BgfGBUAj.js";import{u as U}from"./useTranslate-ER5gAOX6.js";import{B as v}from"./bot-COuCQh0r.js";import{T as F}from"./target-DIhftedx.js";import{C as O}from"./circle-check-big-DCsv6rXk.js";import{T}from"./triangle-alert-BWIpgUmg.js";import{L as V}from"./lightbulb-COB8R_XU.js";import{B as H}from"./building-DIkCZBBP.js";import{T as W}from"./trending-up-00s2SIxN.js";import{U as Q}from"./users-3SuyoAg3.js";import{u as X}from"./useCRMAI-B7cAha5-.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function $({insights:s,onDismiss:l,loading:n=!1}){U();const h=r=>r>=80?"text-green-600":r>=60?"text-yellow-600":"text-red-600",x=r=>{switch(r){case"A":return"bg-green-100 text-green-800";case"B":return"bg-blue-100 text-blue-800";case"C":return"bg-yellow-100 text-yellow-800";case"D":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},t=r=>{switch(r){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?e.jsxs(j,{className:"border-blue-200 bg-blue-50/50",children:[e.jsxs(u,{className:"pb-3",children:[e.jsxs(g,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(v,{className:"h-5 w-5 animate-pulse"}),"AI Lead Analysis"]}),e.jsx(N,{children:"Analyzing lead information..."})]}),e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 animate-spin text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-600",children:"Getting AI insights..."})]})})]}):e.jsxs(j,{className:"border-blue-200 bg-blue-50/50",children:[e.jsxs(u,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600"}),e.jsx(g,{className:"text-blue-700",children:"AI Lead Analysis"})]}),e.jsx(p,{variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-800",children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsx(N,{children:"AI-powered lead scoring and company insights"})]}),e.jsxs(y,{className:"space-y-6",children:[s.scoring&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-sm",children:"Lead Scoring"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`text-2xl font-bold ${h(s.scoring.score)}`,children:s.scoring.score}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(o,{className:x(s.scoring.grade),variant:"secondary",children:["Grade ",s.scoring.grade]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.scoring.qualification," lead"]})]})]}),e.jsxs(o,{className:t(s.scoring.priority),variant:"secondary",children:[s.scoring.priority," priority"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Conversion Probability"}),e.jsxs("span",{className:"font-medium",children:[Math.round(s.scoring.conversion_probability*100),"%"]})]}),e.jsx(q,{value:s.scoring.conversion_probability*100,className:"h-2"})]}),s.scoring.strengths.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Strengths"})]}),e.jsx("ul",{className:"text-xs space-y-1",children:s.scoring.strengths.map((r,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:"•"}),e.jsx("span",{children:r})]},i))})]}),s.scoring.weaknesses.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Areas for Improvement"})]}),e.jsx("ul",{className:"text-xs space-y-1",children:s.scoring.weaknesses.map((r,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-600",children:"•"}),e.jsx("span",{children:r})]},i))})]}),s.scoring.next_steps.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Recommended Next Steps"})]}),e.jsx("ul",{className:"text-xs space-y-1",children:s.scoring.next_steps.map((r,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"•"}),e.jsx("span",{children:r})]},i))})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:s.scoring.reasoning})})]})]}),s.company_enrichment&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium text-sm",children:"Company Intelligence"}),e.jsxs(o,{className:"bg-gray-100 text-gray-800",variant:"secondary",children:[Math.round(s.company_enrichment.confidence*100),"% confidence"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Industry"}),e.jsx("p",{className:"text-sm font-medium",children:s.company_enrichment.industry}),s.company_enrichment.sub_industry&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.company_enrichment.sub_industry})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Company Size"}),e.jsx("p",{className:"text-sm font-medium",children:s.company_enrichment.company_size}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.company_enrichment.employee_range," employees"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Business Model"}),e.jsx("p",{className:"text-sm font-medium",children:s.company_enrichment.business_model})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Sales Approach"}),e.jsx("p",{className:"text-sm font-medium",children:s.company_enrichment.sales_approach})]})]}),s.company_enrichment.pain_points.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Potential Pain Points"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.company_enrichment.pain_points.map((r,i)=>e.jsx(o,{variant:"outline",className:"text-xs",children:r},i))})]}),s.company_enrichment.opportunities.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Opportunities"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.company_enrichment.opportunities.map((r,i)=>e.jsx(o,{variant:"outline",className:"text-xs",children:r},i))})]}),s.company_enrichment.decision_makers.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Typical Decision Makers"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.company_enrichment.decision_makers.map((r,i)=>e.jsx(o,{variant:"outline",className:"text-xs",children:r},i))})]})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:"Powered by Mistral AI"})]})]})}function $e({auth:s}){const{data:l,setData:n,post:h,processing:x,errors:t}=D({name:"",email:"",phone:"",company:"",position:"",address:"",city:"",state:"",postal_code:"",country:"",notes:"",source:"",status:"new"}),{getLeadInsights:r,loading:i}=X(),[B,f]=C.useState(!1),[b,w]=C.useState(null),P=a=>{a.preventDefault(),h(route("crm.leads.store"))},k=async()=>{if(!l.name.trim())return;f(!0);const a=await r(l);a&&w(a)},M=()=>{f(!1),w(null)};return e.jsxs(R,{title:"Add Lead",renderHeader:()=>e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Add Lead"}),children:[e.jsx(G,{title:"Add Lead"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx(j,{children:e.jsxs("form",{onSubmit:P,children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(g,{children:"Add New Lead"}),e.jsx(N,{children:"Create a new lead in the CRM system"})]}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:k,disabled:!l.name.trim()||i,className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),i?"Getting AI Insights...":"Get AI Insights"]})]})}),e.jsxs(y,{className:"space-y-6",children:[B&&b&&e.jsx($,{insights:b,onDismiss:M,loading:i}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"name",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"name",value:l.name,onChange:a=>n("name",a.target.value)}),t.name&&e.jsx("p",{className:"text-red-500 text-sm",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",value:l.email,onChange:a=>n("email",a.target.value)}),t.email&&e.jsx("p",{className:"text-red-500 text-sm",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"phone",children:"Phone"}),e.jsx(m,{id:"phone",value:l.phone,onChange:a=>n("phone",a.target.value)}),t.phone&&e.jsx("p",{className:"text-red-500 text-sm",children:t.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"company",children:"Company"}),e.jsx(m,{id:"company",value:l.company,onChange:a=>n("company",a.target.value)}),t.company&&e.jsx("p",{className:"text-red-500 text-sm",children:t.company})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"position",children:"Position"}),e.jsx(m,{id:"position",value:l.position,onChange:a=>n("position",a.target.value)}),t.position&&e.jsx("p",{className:"text-red-500 text-sm",children:t.position})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"source",children:"Source"}),e.jsxs(S,{value:l.source,onValueChange:a=>n("source",a),children:[e.jsx(A,{children:e.jsx(I,{placeholder:"Select source"})}),e.jsxs(L,{children:[e.jsx(d,{value:"Website",children:"Website"}),e.jsx(d,{value:"Referral",children:"Referral"}),e.jsx(d,{value:"Trade Show",children:"Trade Show"}),e.jsx(d,{value:"Social Media",children:"Social Media"}),e.jsx(d,{value:"Email Campaign",children:"Email Campaign"}),e.jsx(d,{value:"Other",children:"Other"})]})]}),t.source&&e.jsx("p",{className:"text-red-500 text-sm",children:t.source})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"status",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(S,{value:l.status,onValueChange:a=>n("status",a),children:[e.jsx(A,{children:e.jsx(I,{placeholder:"Select status"})}),e.jsxs(L,{children:[e.jsx(d,{value:"new",children:"New"}),e.jsx(d,{value:"contacted",children:"Contacted"}),e.jsx(d,{value:"qualified",children:"Qualified"}),e.jsx(d,{value:"unqualified",children:"Unqualified"})]})]}),t.status&&e.jsx("p",{className:"text-red-500 text-sm",children:t.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"address",children:"Address"}),e.jsx(_,{id:"address",value:l.address,onChange:a=>n("address",a.target.value)}),t.address&&e.jsx("p",{className:"text-red-500 text-sm",children:t.address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"city",children:"City"}),e.jsx(m,{id:"city",value:l.city,onChange:a=>n("city",a.target.value)}),t.city&&e.jsx("p",{className:"text-red-500 text-sm",children:t.city})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"state",children:"State/Province"}),e.jsx(m,{id:"state",value:l.state,onChange:a=>n("state",a.target.value)}),t.state&&e.jsx("p",{className:"text-red-500 text-sm",children:t.state})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"postal_code",children:"Postal Code"}),e.jsx(m,{id:"postal_code",value:l.postal_code,onChange:a=>n("postal_code",a.target.value)}),t.postal_code&&e.jsx("p",{className:"text-red-500 text-sm",children:t.postal_code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"country",children:"Country"}),e.jsx(m,{id:"country",value:l.country,onChange:a=>n("country",a.target.value)}),t.country&&e.jsx("p",{className:"text-red-500 text-sm",children:t.country})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"notes",children:"Notes"}),e.jsx(_,{id:"notes",value:l.notes,onChange:a=>n("notes",a.target.value),rows:4}),t.notes&&e.jsx("p",{className:"text-red-500 text-sm",children:t.notes})]})]}),e.jsxs(z,{className:"flex justify-between",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(p,{type:"submit",disabled:x,children:x?"Saving...":"Save Lead"})]})]})})})})]})}export{$e as default};
