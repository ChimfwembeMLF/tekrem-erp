import{u as T,G as U,j as e,S as V,x as _}from"./app-BMIA6nir.js";import{A as O}from"./AppLayout-DbMk6clK.js";import{C as y,a as N,b,d as v,c as f}from"./card-BAsSN-2Z.js";import{B as j}from"./createLucideIcon-Cg8jdX0w.js";import{I as u}from"./input-Bg5GDATO.js";import{L as n}from"./label-CM6YsqH1.js";import{T as P}from"./textarea-CP26afIU.js";import{C}from"./checkbox-B8CiFAgv.js";import{S as o,a as d,b as m,c as x,d as l}from"./select-B6KOX9nY.js";import{u as R}from"./useTranslate-ER5gAOX6.js";import{t as S}from"./index-Dj2TB_RL.js";import{A as k}from"./arrow-left-UX2kDF52.js";import{S as G}from"./save-D6UyxhH5.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./x-C3KwZK3B.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Pe({parentAccount:h,parentAccounts:A,accountCategories:w,accountTypes:F,normalBalances:D}){const{t:s}=R(),p=T(),{data:r,setData:t,post:B,processing:g,errors:c}=U({name:"",account_code:"",type:"",account_category:"",account_subcategory:"",parent_account_id:(h==null?void 0:h.id)||"",normal_balance:"",description:"",is_system_account:!1,allow_manual_entries:!0,currency:"USD",initial_balance:""}),E=a=>{a.preventDefault(),B(p("finance.chart-of-accounts.store"),{onSuccess:()=>{S.success(s("Account created successfully"))},onError:()=>{S.error(s("Failed to create account"))}})},I=a=>{switch(a){case"assets":case"expenses":return"debit";case"liabilities":case"equity":case"income":return"credit";default:return""}},L=a=>{t({...r,account_category:a,normal_balance:I(a)})};return e.jsxs(O,{children:[e.jsx(V,{title:s("Create Account")}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(j,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(_,{href:p("finance.chart-of-accounts.index"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),s("Back")]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("Create Account")}),e.jsx("p",{className:"text-muted-foreground",children:s("Add a new account to your chart of accounts")})]})]})}),e.jsx("form",{onSubmit:E,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(y,{children:[e.jsxs(N,{children:[e.jsx(b,{children:s("Account Information")}),e.jsx(v,{children:s("Basic information about the account")})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"name",children:[s("Account Name")," *"]}),e.jsx(u,{id:"name",value:r.name,onChange:a=>t("name",a.target.value),placeholder:s("Enter account name"),className:c.name?"border-red-500":""}),c.name&&e.jsx("p",{className:"text-sm text-red-500",children:c.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"account_code",children:s("Account Code")}),e.jsx(u,{id:"account_code",value:r.account_code,onChange:a=>t("account_code",a.target.value),placeholder:s("Auto-generated if empty"),className:c.account_code?"border-red-500":""}),c.account_code&&e.jsx("p",{className:"text-sm text-red-500",children:c.account_code}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Leave empty to auto-generate based on category and parent")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"account_category",children:[s("Category")," *"]}),e.jsxs(o,{value:r.account_category,onValueChange:L,children:[e.jsx(d,{className:c.account_category?"border-red-500":"",children:e.jsx(m,{placeholder:s("Select category")})}),e.jsx(x,{children:Object.entries(w).map(([a,i])=>e.jsx(l,{value:a,children:s(i)},a))})]}),c.account_category&&e.jsx("p",{className:"text-sm text-red-500",children:c.account_category})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"account_subcategory",children:s("Subcategory")}),e.jsx(u,{id:"account_subcategory",value:r.account_subcategory,onChange:a=>t("account_subcategory",a.target.value),placeholder:s("Optional subcategory"),className:c.account_subcategory?"border-red-500":""}),c.account_subcategory&&e.jsx("p",{className:"text-sm text-red-500",children:c.account_subcategory})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"type",children:[s("Account Type")," *"]}),e.jsxs(o,{value:r.type,onValueChange:a=>t("type",a),children:[e.jsx(d,{className:c.type?"border-red-500":"",children:e.jsx(m,{placeholder:s("Select type")})}),e.jsx(x,{children:Object.entries(F).map(([a,i])=>e.jsx(l,{value:a,children:s(i)},a))})]}),c.type&&e.jsx("p",{className:"text-sm text-red-500",children:c.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"normal_balance",children:[s("Normal Balance")," *"]}),e.jsxs(o,{value:r.normal_balance,onValueChange:a=>t("normal_balance",a),children:[e.jsx(d,{className:c.normal_balance?"border-red-500":"",children:e.jsx(m,{placeholder:s("Select normal balance")})}),e.jsx(x,{children:Object.entries(D).map(([a,i])=>e.jsx(l,{value:a,children:s(i)},a))})]}),c.normal_balance&&e.jsx("p",{className:"text-sm text-red-500",children:c.normal_balance})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"parent_account_id",children:s("Parent Account")}),e.jsxs(o,{value:r.parent_account_id.toString(),onValueChange:a=>t("parent_account_id",a?parseInt(a):""),children:[e.jsx(d,{className:c.parent_account_id?"border-red-500":"",children:e.jsx(m,{placeholder:s("Select parent account (optional)")})}),e.jsxs(x,{children:[e.jsx(l,{value:"",children:s("No Parent (Root Account)")}),A.map(a=>e.jsx(l,{value:a.id.toString(),children:e.jsxs("span",{style:{marginLeft:`${a.level*12}px`},children:[a.account_code," - ",a.name]})},a.id))]})]}),c.parent_account_id&&e.jsx("p",{className:"text-sm text-red-500",children:c.parent_account_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:s("Description")}),e.jsx(P,{id:"description",value:r.description,onChange:a=>t("description",a.target.value),placeholder:s("Optional description"),rows:3,className:c.description?"border-red-500":""}),c.description&&e.jsx("p",{className:"text-sm text-red-500",children:c.description})]})]})]})}),e.jsxs("div",{children:[e.jsxs(y,{children:[e.jsxs(N,{children:[e.jsx(b,{children:s("Settings")}),e.jsx(v,{children:s("Account configuration options")})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"currency",children:[s("Currency")," *"]}),e.jsxs(o,{value:r.currency,onValueChange:a=>t("currency",a),children:[e.jsx(d,{className:c.currency?"border-red-500":"",children:e.jsx(m,{})}),e.jsxs(x,{children:[e.jsx(l,{value:"USD",children:"USD - US Dollar"}),e.jsx(l,{value:"EUR",children:"EUR - Euro"}),e.jsx(l,{value:"GBP",children:"GBP - British Pound"}),e.jsx(l,{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),c.currency&&e.jsx("p",{className:"text-sm text-red-500",children:c.currency})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"initial_balance",children:s("Initial Balance")}),e.jsx(u,{id:"initial_balance",type:"number",step:"0.01",value:r.initial_balance,onChange:a=>t("initial_balance",a.target.value),placeholder:"0.00",className:c.initial_balance?"border-red-500":""}),c.initial_balance&&e.jsx("p",{className:"text-sm text-red-500",children:c.initial_balance})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"is_system_account",checked:r.is_system_account,onCheckedChange:a=>t("is_system_account",!!a)}),e.jsx(n,{htmlFor:"is_system_account",className:"text-sm",children:s("System Account")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("System accounts cannot be deleted")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"allow_manual_entries",checked:r.allow_manual_entries,onCheckedChange:a=>t("allow_manual_entries",!!a)}),e.jsx(n,{htmlFor:"allow_manual_entries",className:"text-sm",children:s("Allow Manual Entries")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Allow direct transactions to this account")})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-2",children:[e.jsx(j,{variant:"outline",asChild:!0,children:e.jsx(_,{href:p("finance.chart-of-accounts.index"),children:s("Cancel")})}),e.jsxs(j,{type:"submit",disabled:g,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),s(g?"Creating...":"Create Account")]})]})]})]})})]})]})}export{Pe as default};
