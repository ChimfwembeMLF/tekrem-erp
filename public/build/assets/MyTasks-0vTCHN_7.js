import{u as A,r as p,j as e,S as D,x as n,A as _}from"./app-BMIA6nir.js";import{A as M,S as P}from"./AppLayout-DbMk6clK.js";import{C as u,a as B,b as F,d as H,c as h}from"./card-BAsSN-2Z.js";import{B as L}from"./createLucideIcon-Cg8jdX0w.js";import{B as d}from"./x-C3KwZK3B.js";import{S as g,a as j,b as y,c as f,d as s}from"./select-B6KOX9nY.js";import{T as I}from"./triangle-alert-BWIpgUmg.js";import{F as R}from"./NotificationComponent-CHA3vjZG.js";import{T as V}from"./target-DIhftedx.js";import{C as $}from"./calendar-DTsvo4Hi.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function Fe({auth:E,tasks:t,filters:m}){const i=A(),[c,v]=p.useState(m.status||"all"),[o,b]=p.useState(m.priority||"all"),N=()=>{_.get(i("projects.my-tasks"),{status:c!=="all"?c:void 0,priority:o!=="all"?o:void 0},{preserveState:!0,replace:!0})},w=r=>{switch(r){case"todo":return"bg-gray-100 text-gray-800";case"in-progress":return"bg-blue-100 text-blue-800";case"review":return"bg-yellow-100 text-yellow-800";case"testing":return"bg-purple-100 text-purple-800";case"done":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=r=>{switch(r){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=r=>{switch(r){case"task":return"bg-blue-100 text-blue-800";case"issue":return"bg-red-100 text-red-800";case"bug":return"bg-red-100 text-red-800";case"feature":return"bg-green-100 text-green-800";case"improvement":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},T=r=>r?new Date(r).toLocaleDateString():"No due date",x=(r,l)=>!r||l==="done"||l==="cancelled"?!1:new Date(r)<new Date;return e.jsxs(M,{title:"My Tasks",renderHeader:()=>e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"My Tasks"}),children:[e.jsx(D,{title:"My Tasks"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(u,{children:[e.jsx(B,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:e.jsxs("div",{children:[e.jsx(F,{children:"My Assigned Tasks"}),e.jsx(H,{children:"Tasks assigned to you across all projects"})]})}),e.jsxs(h,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(g,{value:c,onValueChange:v,children:[e.jsx(j,{children:e.jsx(y,{placeholder:"Status"})}),e.jsxs(f,{children:[e.jsx(s,{value:"all",children:"All Status"}),e.jsx(s,{value:"todo",children:"To Do"}),e.jsx(s,{value:"in-progress",children:"In Progress"}),e.jsx(s,{value:"review",children:"Review"}),e.jsx(s,{value:"testing",children:"Testing"}),e.jsx(s,{value:"done",children:"Done"}),e.jsx(s,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(g,{value:o,onValueChange:b,children:[e.jsx(j,{children:e.jsx(y,{placeholder:"Priority"})}),e.jsxs(f,{children:[e.jsx(s,{value:"all",children:"All Priorities"}),e.jsx(s,{value:"low",children:"Low"}),e.jsx(s,{value:"medium",children:"Medium"}),e.jsx(s,{value:"high",children:"High"}),e.jsx(s,{value:"critical",children:"Critical"})]})]}),e.jsx(L,{onClick:N,className:"w-full",children:"Apply Filters"})]})}),e.jsx("div",{className:"space-y-4",children:t.data.length>0?t.data.map(r=>{var l;return e.jsx(u,{className:"hover:shadow-md transition-shadow",children:e.jsxs(h,{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(n,{href:i("projects.tasks.show",[r.project_id,r.id]),className:"text-lg font-semibold text-blue-600 hover:underline",children:r.title}),x(r.due_date,r.status)&&e.jsx(I,{className:"h-5 w-5 text-red-500"})]}),r.description&&e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:r.description})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(d,{className:w(r.status),children:r.status.replace("-"," ")}),e.jsx(d,{className:C(r.priority),children:r.priority}),e.jsx(d,{className:S(r.type),children:r.type})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),e.jsx(n,{href:i("projects.show",r.project_id),className:"text-blue-600 hover:underline",children:((l=r.project)==null?void 0:l.name)||"Project"})]}),r.milestone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r.milestone.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:x(r.due_date,r.status)?"text-red-600 font-medium":"",children:T(r.due_date)})]})]}),r.progress>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[r.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${r.progress}%`}})})]}),r.tags&&r.tags.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:r.tags.map(a=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs",style:{backgroundColor:a.color+"20",color:a.color},children:a.name},a.id))})]})},r.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(P,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No tasks assigned to you."}),e.jsx("p",{className:"text-gray-400",children:"Tasks will appear here when they are assigned to you."})]})}),t.data.length>0&&t.last_page>1&&e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.from," to ",t.to," of ",t.total," results"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((r,l)=>e.jsx(n,{href:r.url||"#",className:`px-3 py-1 rounded ${r.active?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${r.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:r.label}},l))})]})]})]})})})]})}export{Fe as default};
