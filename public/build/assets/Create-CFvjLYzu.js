import{u as k,G as q,j as e,S as A}from"./app-BMIA6nir.js";import{C as G}from"./CustomerLayout-7LFTkDxI.js";import{C as x,a as p,b as j,d as R,c as f}from"./card-BAsSN-2Z.js";import{B as l}from"./createLucideIcon-Cg8jdX0w.js";import{I as g}from"./input-Bg5GDATO.js";import{L as c}from"./label-CM6YsqH1.js";import{T as z}from"./textarea-CP26afIU.js";import{S as v,a as N,b as y,c as b,d as C}from"./select-B6KOX9nY.js";import{A as I}from"./arrow-left-UX2kDF52.js";import{M as L}from"./message-square-32k9udjC.js";import{P as S}from"./paperclip-BkqMpcId.js";import{X as V}from"./x-C3KwZK3B.js";import{S as W}from"./send-C-AP4C9s.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./NotificationComponent-CHA3vjZG.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./file-text-D25AipK4.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";function fe({types:m,priorities:d}){var u;const w=k(),{data:r,setData:i,post:F,processing:h,errors:a,reset:B}=q({type:"",subject:"",content:"",priority:"medium",attachments:[]}),M=t=>{t.preventDefault();const s=new FormData;s.append("type",r.type),s.append("subject",r.subject),s.append("content",r.content),s.append("priority",r.priority),r.attachments.forEach((o,n)=>{s.append(`attachments[${n}]`,o)}),F(w("customer.communications.store"),{data:s,onSuccess:()=>{B()}})},P=t=>{const s=Array.from(t.target.files||[]);i("attachments",[...r.attachments,...s])},D=t=>{const s=r.attachments.filter((o,n)=>n!==t);i("attachments",s)},T=t=>{if(t===0)return"0 Bytes";const s=1024,o=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,n)).toFixed(2))+" "+o[n]};return e.jsxs(G,{children:[e.jsx(A,{title:"New Communication Request"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"New Communication Request"}),e.jsx("p",{className:"text-muted-foreground",children:"Start a new communication with our team"})]})]}),e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Communication Details"]}),e.jsx(R,{children:"Please provide details about your communication request"})]}),e.jsx(f,{children:e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"type",children:"Communication Type"}),e.jsxs(v,{value:r.type,onValueChange:t=>i("type",t),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Select communication type"})}),e.jsx(b,{children:m==null?void 0:m.map(t=>e.jsx(C,{value:t.value,children:t.label},t.value))})]}),a.type&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:a.type})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"priority",children:"Priority"}),e.jsxs(v,{value:r.priority,onValueChange:t=>i("priority",t),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Select priority"})}),e.jsx(b,{children:d==null?void 0:d.map(t=>e.jsx(C,{value:t.value,children:t.label},t.value))})]}),a.priority&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:a.priority})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"subject",children:"Subject"}),e.jsx(g,{id:"subject",value:r.subject,onChange:t=>i("subject",t.target.value),placeholder:"Brief description of your request",className:a.subject?"border-destructive":""}),a.subject&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:a.subject})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"content",children:"Message"}),e.jsx(z,{id:"content",value:r.content,onChange:t=>i("content",t.target.value),placeholder:"Please provide detailed information about your request...",rows:6,className:a.content?"border-destructive":""}),a.content&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:a.content})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Attachments"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(c,{htmlFor:"attachments",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-dashed rounded-lg hover:bg-muted transition-colors",children:[e.jsx(S,{className:"h-4 w-4"}),"Add Files"]}),e.jsx(g,{id:"attachments",type:"file",multiple:!0,onChange:P,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Max 10MB per file. Supported: PDF, DOC, DOCX, TXT, JPG, PNG, GIF"})]}),r.attachments.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:(u=r.attachments)==null?void 0:u.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:T(t.size)})]})]}),e.jsx(l,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(s),children:e.jsx(V,{className:"h-4 w-4"})})]},s))})]}),a.attachments&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:a.attachments})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs(l,{type:"submit",disabled:h,children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),h?"Sending...":"Send Request"]}),e.jsx(l,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(j,{className:"text-lg",children:"Communication Guidelines"})}),e.jsxs(f,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Response Times"}),e.jsxs("ul",{className:"text-sm text-muted-foreground mt-1 space-y-1",children:[e.jsx("li",{children:"• High Priority: Within 2 hours during business hours"}),e.jsx("li",{children:"• Medium Priority: Within 24 hours"}),e.jsx("li",{children:"• Low Priority: Within 48 hours"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Tips for Better Support"}),e.jsxs("ul",{className:"text-sm text-muted-foreground mt-1 space-y-1",children:[e.jsx("li",{children:"• Be specific about your issue or request"}),e.jsx("li",{children:"• Include relevant screenshots or documents"}),e.jsx("li",{children:"• Mention any error messages you've encountered"}),e.jsx("li",{children:"• Provide steps to reproduce the issue if applicable"})]})]})]})]})]})]})}export{fe as default};
