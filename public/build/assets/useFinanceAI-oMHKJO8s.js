import{r as i}from"./app-BMIA6nir.js";import{t as r}from"./index-Dj2TB_RL.js";function d(){const[a,n]=i.useState(!1),[u,c]=i.useState(null);return{loading:a,suggestions:u,getTransactionSuggestions:async o=>{var t;n(!0);try{const e=await(await fetch(route("finance.transactions.ai-suggestions"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify(o)})).json();return e.success?(c(e.suggestions),e.suggestions):(r.error("Failed to get AI suggestions"),null)}catch(s){return console.error("Error getting AI suggestions:",s),r.error("Error getting AI suggestions"),null}finally{n(!1)}},processReceipt:async o=>{var t;n(!0);try{const e=await(await fetch(route("finance.expenses.process-receipt"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify({receipt_text:o})})).json();return e.success?(r.success("Receipt processed successfully!"),e.expense_data):(r.error(e.message||"Failed to process receipt"),null)}catch(s){return console.error("Error processing receipt:",s),r.error("Error processing receipt"),null}finally{n(!1)}},generateInvoiceItems:async o=>{var t;n(!0);try{const e=await(await fetch(route("finance.invoices.generate-items"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify(o)})).json();return e.success?(r.success("Invoice items generated successfully!"),{items:e.items,notes:e.notes,total_estimated:e.total_estimated}):(r.error(e.message||"Failed to generate invoice items"),null)}catch(s){return console.error("Error generating invoice items:",s),r.error("Error generating invoice items"),null}finally{n(!1)}},clearSuggestions:()=>{c(null)}}}export{d as u};
