import{P as T,u as U,c as oe,e as Bt,d as zt,f as Oe,a as A,B as Pe}from"./createLucideIcon-Cg8jdX0w.js";import{r as a,j as o,u as Vt,x as je,A as fe}from"./app-BMIA6nir.js";import{c as x,u as ke,C as Yt}from"./index-BN56TOeV.js";import{c as we}from"./index-DdwO_6Rs.js";import{c as Fe,u as me,b as Le,d as Ge,e as Ht,A as Xt,P as Wt,h as qt,a as Zt,R as Jt,F as Qt,D as en,C as tn,f as nn}from"./index-BeGDJhOY.js";import{P as ae}from"./index-DgfI6AGt.js";import{u as Me}from"./index-DwXxsQvB.js";import{B as Te}from"./x-C3KwZK3B.js";import{u as rn}from"./useTypedPage-hmuARwun.js";import{B as on}from"./bell-5VRgJnzP.js";var pe="rovingFocusGroup.onEntryFocus",an={bubbles:!1,cancelable:!0},q="RovingFocusGroup",[ge,$e,sn]=Fe(q),[cn,Ke]=we(q,[sn]),[un,dn]=cn(q),Ue=a.forwardRef((e,n)=>o.jsx(ge.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ge.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ln,{...e,ref:n})})}));Ue.displayName=q;var ln=a.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:g,onEntryFocus:h,preventScrollOnEntryFocus:u=!1,...i}=e,f=a.useRef(null),w=U(n,f),v=Le(c),[p,M]=ke({prop:d,defaultProp:l??null,onChange:g,caller:q}),[b,C]=a.useState(!1),_=Me(h),S=$e(t),B=a.useRef(!1),[Q,O]=a.useState(0);return a.useEffect(()=>{const y=f.current;if(y)return y.addEventListener(pe,_),()=>y.removeEventListener(pe,_)},[_]),o.jsx(un,{scope:t,orientation:r,dir:v,loop:s,currentTabStopId:p,onItemFocus:a.useCallback(y=>M(y),[M]),onItemShiftTab:a.useCallback(()=>C(!0),[]),onFocusableItemAdd:a.useCallback(()=>O(y=>y+1),[]),onFocusableItemRemove:a.useCallback(()=>O(y=>y-1),[]),children:o.jsx(T.div,{tabIndex:b||Q===0?-1:0,"data-orientation":r,...i,ref:w,style:{outline:"none",...e.style},onMouseDown:x(e.onMouseDown,()=>{B.current=!0}),onFocus:x(e.onFocus,y=>{const G=!B.current;if(y.target===y.currentTarget&&G&&!b){const k=new CustomEvent(pe,an);if(y.currentTarget.dispatchEvent(k),!k.defaultPrevented){const z=S().filter(D=>D.focusable),V=z.find(D=>D.active),ee=z.find(D=>D.id===p),ue=[V,ee,...z].filter(Boolean).map(D=>D.ref.current);Ve(ue,u)}}B.current=!1}),onBlur:x(e.onBlur,()=>C(!1))})})}),Be="RovingFocusGroupItem",ze=a.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:c,children:d,...l}=e,g=me(),h=c||g,u=dn(Be,t),i=u.currentTabStopId===h,f=$e(t),{onFocusableItemAdd:w,onFocusableItemRemove:v,currentTabStopId:p}=u;return a.useEffect(()=>{if(r)return w(),()=>v()},[r,w,v]),o.jsx(ge.ItemSlot,{scope:t,id:h,focusable:r,active:s,children:o.jsx(T.span,{tabIndex:i?0:-1,"data-orientation":u.orientation,...l,ref:n,onMouseDown:x(e.onMouseDown,M=>{r?u.onItemFocus(h):M.preventDefault()}),onFocus:x(e.onFocus,()=>u.onItemFocus(h)),onKeyDown:x(e.onKeyDown,M=>{if(M.key==="Tab"&&M.shiftKey){u.onItemShiftTab();return}if(M.target!==M.currentTarget)return;const b=mn(M,u.orientation,u.dir);if(b!==void 0){if(M.metaKey||M.ctrlKey||M.altKey||M.shiftKey)return;M.preventDefault();let _=f().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(M.currentTarget);_=u.loop?gn(_,S+1):_.slice(S+1)}setTimeout(()=>Ve(_))}}),children:typeof d=="function"?d({isCurrentTabStop:i,hasTabStop:p!=null}):d})})});ze.displayName=Be;var fn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pn(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mn(e,n,t){const r=pn(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fn[r]}function Ve(e,n=!1){const t=document.activeElement;for(const r of e)if(r===t||(r.focus({preventScroll:n}),document.activeElement!==t))return}function gn(e,n){return e.map((t,r)=>e[(n+r)%e.length])}var hn=Ue,xn=ze;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wn=oe("chevron-right",vn);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_n=oe("circle",Mn);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Wr=oe("credit-card",bn);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],qr=oe("folder-open",Cn);var he=["Enter"," "],yn=["ArrowDown","PageUp","Home"],Ye=["ArrowUp","PageDown","End"],Rn=[...yn,...Ye],In={ltr:[...he,"ArrowRight"],rtl:[...he,"ArrowLeft"]},Nn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Z="Menu",[X,Sn,En]=Fe(Z),[F,He]=we(Z,[En,Ge,Ke]),se=Ge(),Xe=Ke(),[Dn,L]=F(Z),[Pn,J]=F(Z),We=e=>{const{__scopeMenu:n,open:t=!1,children:r,dir:s,onOpenChange:c,modal:d=!0}=e,l=se(n),[g,h]=a.useState(null),u=a.useRef(!1),i=Me(c),f=Le(s);return a.useEffect(()=>{const w=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(Ht,{...l,children:o.jsx(Dn,{scope:n,open:t,onOpenChange:i,content:g,onContentChange:h,children:o.jsx(Pn,{scope:n,onClose:a.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:u,dir:f,modal:d,children:r})})})};We.displayName=Z;var jn="MenuAnchor",_e=a.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,s=se(t);return o.jsx(Xt,{...s,...r,ref:n})});_e.displayName=jn;var be="MenuPortal",[Tn,qe]=F(be,{forceMount:void 0}),Ze=e=>{const{__scopeMenu:n,forceMount:t,children:r,container:s}=e,c=L(be,n);return o.jsx(Tn,{scope:n,forceMount:t,children:o.jsx(ae,{present:t||c.open,children:o.jsx(Wt,{asChild:!0,container:s,children:r})})})};Ze.displayName=be;var N="MenuContent",[An,Ce]=F(N),Je=a.forwardRef((e,n)=>{const t=qe(N,e.__scopeMenu),{forceMount:r=t.forceMount,...s}=e,c=L(N,e.__scopeMenu),d=J(N,e.__scopeMenu);return o.jsx(X.Provider,{scope:e.__scopeMenu,children:o.jsx(ae,{present:r||c.open,children:o.jsx(X.Slot,{scope:e.__scopeMenu,children:d.modal?o.jsx(On,{...s,ref:n}):o.jsx(kn,{...s,ref:n})})})})}),On=a.forwardRef((e,n)=>{const t=L(N,e.__scopeMenu),r=a.useRef(null),s=U(n,r);return a.useEffect(()=>{const c=r.current;if(c)return qt(c)},[]),o.jsx(ye,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:x(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),kn=a.forwardRef((e,n)=>{const t=L(N,e.__scopeMenu);return o.jsx(ye,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Fn=zt("MenuContent.ScrollLock"),ye=a.forwardRef((e,n)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:l,onEntryFocus:g,onEscapeKeyDown:h,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:f,onDismiss:w,disableOutsideScroll:v,...p}=e,M=L(N,t),b=J(N,t),C=se(t),_=Xe(t),S=Sn(t),[B,Q]=a.useState(null),O=a.useRef(null),y=U(n,O,M.onContentChange),G=a.useRef(0),k=a.useRef(""),z=a.useRef(0),V=a.useRef(null),ee=a.useRef("right"),te=a.useRef(0),ue=v?Jt:a.Fragment,D=v?{as:Fn,allowPinchZoom:!0}:void 0,Ut=m=>{var K,Ee;const I=k.current+m,E=S().filter(P=>!P.disabled),j=document.activeElement,de=(K=E.find(P=>P.ref.current===j))==null?void 0:K.textValue,le=E.map(P=>P.textValue),Se=Wn(le,I,de),Y=(Ee=E.find(P=>P.textValue===Se))==null?void 0:Ee.ref.current;(function P(De){k.current=De,window.clearTimeout(G.current),De!==""&&(G.current=window.setTimeout(()=>P(""),1e3))})(I),Y&&setTimeout(()=>Y.focus())};a.useEffect(()=>()=>window.clearTimeout(G.current),[]),Zt();const $=a.useCallback(m=>{var E,j;return ee.current===((E=V.current)==null?void 0:E.side)&&Zn(m,(j=V.current)==null?void 0:j.area)},[]);return o.jsx(An,{scope:t,searchRef:k,onItemEnter:a.useCallback(m=>{$(m)&&m.preventDefault()},[$]),onItemLeave:a.useCallback(m=>{var I;$(m)||((I=O.current)==null||I.focus(),Q(null))},[$]),onTriggerLeave:a.useCallback(m=>{$(m)&&m.preventDefault()},[$]),pointerGraceTimerRef:z,onPointerGraceIntentChange:a.useCallback(m=>{V.current=m},[]),children:o.jsx(ue,{...D,children:o.jsx(Qt,{asChild:!0,trapped:s,onMountAutoFocus:x(c,m=>{var I;m.preventDefault(),(I=O.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:o.jsx(en,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:f,onDismiss:w,children:o.jsx(hn,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:Q,onEntryFocus:x(g,m=>{b.isUsingKeyboardRef.current||m.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(tn,{role:"menu","aria-orientation":"vertical","data-state":mt(M.open),"data-radix-menu-content":"",dir:b.dir,...C,...p,ref:y,style:{outline:"none",...p.style},onKeyDown:x(p.onKeyDown,m=>{const E=m.target.closest("[data-radix-menu-content]")===m.currentTarget,j=m.ctrlKey||m.altKey||m.metaKey,de=m.key.length===1;E&&(m.key==="Tab"&&m.preventDefault(),!j&&de&&Ut(m.key));const le=O.current;if(m.target!==le||!Rn.includes(m.key))return;m.preventDefault();const Y=S().filter(K=>!K.disabled).map(K=>K.ref.current);Ye.includes(m.key)&&Y.reverse(),Hn(Y)}),onBlur:x(e.onBlur,m=>{m.currentTarget.contains(m.target)||(window.clearTimeout(G.current),k.current="")}),onPointerMove:x(e.onPointerMove,W(m=>{const I=m.target,E=te.current!==m.clientX;if(m.currentTarget.contains(I)&&E){const j=m.clientX>te.current?"right":"left";ee.current=j,te.current=m.clientX}}))})})})})})})});Je.displayName=N;var Ln="MenuGroup",Re=a.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return o.jsx(T.div,{role:"group",...r,ref:n})});Re.displayName=Ln;var Gn="MenuLabel",Qe=a.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return o.jsx(T.div,{...r,ref:n})});Qe.displayName=Gn;var ne="MenuItem",Ae="menu.itemSelect",ce=a.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:r,...s}=e,c=a.useRef(null),d=J(ne,e.__scopeMenu),l=Ce(ne,e.__scopeMenu),g=U(n,c),h=a.useRef(!1),u=()=>{const i=c.current;if(!t&&i){const f=new CustomEvent(Ae,{bubbles:!0,cancelable:!0});i.addEventListener(Ae,w=>r==null?void 0:r(w),{once:!0}),Bt(i,f),f.defaultPrevented?h.current=!1:d.onClose()}};return o.jsx(et,{...s,ref:g,disabled:t,onClick:x(e.onClick,u),onPointerDown:i=>{var f;(f=e.onPointerDown)==null||f.call(e,i),h.current=!0},onPointerUp:x(e.onPointerUp,i=>{var f;h.current||(f=i.currentTarget)==null||f.click()}),onKeyDown:x(e.onKeyDown,i=>{const f=l.searchRef.current!=="";t||f&&i.key===" "||he.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});ce.displayName=ne;var et=a.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...c}=e,d=Ce(ne,t),l=Xe(t),g=a.useRef(null),h=U(n,g),[u,i]=a.useState(!1),[f,w]=a.useState("");return a.useEffect(()=>{const v=g.current;v&&w((v.textContent??"").trim())},[c.children]),o.jsx(X.ItemSlot,{scope:t,disabled:r,textValue:s??f,children:o.jsx(xn,{asChild:!0,...l,focusable:!r,children:o.jsx(T.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:h,onPointerMove:x(e.onPointerMove,W(v=>{r?d.onItemLeave(v):(d.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:x(e.onPointerLeave,W(v=>d.onItemLeave(v))),onFocus:x(e.onFocus,()=>i(!0)),onBlur:x(e.onBlur,()=>i(!1))})})})}),$n="MenuCheckboxItem",tt=a.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:r,...s}=e;return o.jsx(st,{scope:e.__scopeMenu,checked:t,children:o.jsx(ce,{role:"menuitemcheckbox","aria-checked":re(t)?"mixed":t,...s,ref:n,"data-state":Ne(t),onSelect:x(s.onSelect,()=>r==null?void 0:r(re(t)?!0:!t),{checkForDefaultPrevented:!1})})})});tt.displayName=$n;var nt="MenuRadioGroup",[Kn,Un]=F(nt,{value:void 0,onValueChange:()=>{}}),rt=a.forwardRef((e,n)=>{const{value:t,onValueChange:r,...s}=e,c=Me(r);return o.jsx(Kn,{scope:e.__scopeMenu,value:t,onValueChange:c,children:o.jsx(Re,{...s,ref:n})})});rt.displayName=nt;var ot="MenuRadioItem",at=a.forwardRef((e,n)=>{const{value:t,...r}=e,s=Un(ot,e.__scopeMenu),c=t===s.value;return o.jsx(st,{scope:e.__scopeMenu,checked:c,children:o.jsx(ce,{role:"menuitemradio","aria-checked":c,...r,ref:n,"data-state":Ne(c),onSelect:x(r.onSelect,()=>{var d;return(d=s.onValueChange)==null?void 0:d.call(s,t)},{checkForDefaultPrevented:!1})})})});at.displayName=ot;var Ie="MenuItemIndicator",[st,Bn]=F(Ie,{checked:!1}),ct=a.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:r,...s}=e,c=Bn(Ie,t);return o.jsx(ae,{present:r||re(c.checked)||c.checked===!0,children:o.jsx(T.span,{...s,ref:n,"data-state":Ne(c.checked)})})});ct.displayName=Ie;var zn="MenuSeparator",it=a.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return o.jsx(T.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});it.displayName=zn;var Vn="MenuArrow",ut=a.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,s=se(t);return o.jsx(nn,{...s,...r,ref:n})});ut.displayName=Vn;var Yn="MenuSub",[Zr,dt]=F(Yn),H="MenuSubTrigger",lt=a.forwardRef((e,n)=>{const t=L(H,e.__scopeMenu),r=J(H,e.__scopeMenu),s=dt(H,e.__scopeMenu),c=Ce(H,e.__scopeMenu),d=a.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:g}=c,h={__scopeMenu:e.__scopeMenu},u=a.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return a.useEffect(()=>u,[u]),a.useEffect(()=>{const i=l.current;return()=>{window.clearTimeout(i),g(null)}},[l,g]),o.jsx(_e,{asChild:!0,...h,children:o.jsx(et,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":mt(t.open),...e,ref:Oe(n,s.onTriggerChange),onClick:i=>{var f;(f=e.onClick)==null||f.call(e,i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:x(e.onPointerMove,W(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!t.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:x(e.onPointerLeave,W(i=>{var w,v;u();const f=(w=t.content)==null?void 0:w.getBoundingClientRect();if(f){const p=(v=t.content)==null?void 0:v.dataset.side,M=p==="right",b=M?-5:5,C=f[M?"left":"right"],_=f[M?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+b,y:i.clientY},{x:C,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:C,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:x(e.onKeyDown,i=>{var w;const f=c.searchRef.current!=="";e.disabled||f&&i.key===" "||In[r.dir].includes(i.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),i.preventDefault())})})})});lt.displayName=H;var ft="MenuSubContent",pt=a.forwardRef((e,n)=>{const t=qe(N,e.__scopeMenu),{forceMount:r=t.forceMount,...s}=e,c=L(N,e.__scopeMenu),d=J(N,e.__scopeMenu),l=dt(ft,e.__scopeMenu),g=a.useRef(null),h=U(n,g);return o.jsx(X.Provider,{scope:e.__scopeMenu,children:o.jsx(ae,{present:r||c.open,children:o.jsx(X.Slot,{scope:e.__scopeMenu,children:o.jsx(ye,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var i;d.isUsingKeyboardRef.current&&((i=g.current)==null||i.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:x(e.onFocusOutside,u=>{u.target!==l.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:x(e.onEscapeKeyDown,u=>{d.onClose(),u.preventDefault()}),onKeyDown:x(e.onKeyDown,u=>{var w;const i=u.currentTarget.contains(u.target),f=Nn[d.dir].includes(u.key);i&&f&&(c.onOpenChange(!1),(w=l.trigger)==null||w.focus(),u.preventDefault())})})})})})});pt.displayName=ft;function mt(e){return e?"open":"closed"}function re(e){return e==="indeterminate"}function Ne(e){return re(e)?"indeterminate":e?"checked":"unchecked"}function Hn(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Xn(e,n){return e.map((t,r)=>e[(n+r)%e.length])}function Wn(e,n,t){const s=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=t?e.indexOf(t):-1;let d=Xn(e,Math.max(c,0));s.length===1&&(d=d.filter(h=>h!==t));const g=d.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return g!==t?g:void 0}function qn(e,n){const{x:t,y:r}=e;let s=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const l=n[c],g=n[d],h=l.x,u=l.y,i=g.x,f=g.y;u>r!=f>r&&t<(i-h)*(r-u)/(f-u)+h&&(s=!s)}return s}function Zn(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return qn(t,n)}function W(e){return n=>n.pointerType==="mouse"?e(n):void 0}var Jn=We,Qn=_e,er=Ze,tr=Je,nr=Re,rr=Qe,or=ce,ar=tt,sr=rt,cr=at,ir=ct,ur=it,dr=ut,lr=lt,fr=pt,ie="DropdownMenu",[pr,Jr]=we(ie,[He]),R=He(),[mr,gt]=pr(ie),ht=e=>{const{__scopeDropdownMenu:n,children:t,dir:r,open:s,defaultOpen:c,onOpenChange:d,modal:l=!0}=e,g=R(n),h=a.useRef(null),[u,i]=ke({prop:s,defaultProp:c??!1,onChange:d,caller:ie});return o.jsx(mr,{scope:n,triggerId:me(),triggerRef:h,contentId:me(),open:u,onOpenChange:i,onOpenToggle:a.useCallback(()=>i(f=>!f),[i]),modal:l,children:o.jsx(Jn,{...g,open:u,onOpenChange:i,dir:r,modal:l,children:t})})};ht.displayName=ie;var xt="DropdownMenuTrigger",vt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=e,c=gt(xt,t),d=R(t);return o.jsx(Qn,{asChild:!0,...d,children:o.jsx(T.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Oe(n,c.triggerRef),onPointerDown:x(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(c.onOpenToggle(),c.open||l.preventDefault())}),onKeyDown:x(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&c.onOpenToggle(),l.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vt.displayName=xt;var gr="DropdownMenuPortal",wt=e=>{const{__scopeDropdownMenu:n,...t}=e,r=R(n);return o.jsx(er,{...r,...t})};wt.displayName=gr;var Mt="DropdownMenuContent",_t=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=gt(Mt,t),c=R(t),d=a.useRef(!1);return o.jsx(tr,{id:s.contentId,"aria-labelledby":s.triggerId,...c,...r,ref:n,onCloseAutoFocus:x(e.onCloseAutoFocus,l=>{var g;d.current||(g=s.triggerRef.current)==null||g.focus(),d.current=!1,l.preventDefault()}),onInteractOutside:x(e.onInteractOutside,l=>{const g=l.detail.originalEvent,h=g.button===0&&g.ctrlKey===!0,u=g.button===2||h;(!s.modal||u)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_t.displayName=Mt;var hr="DropdownMenuGroup",xr=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(nr,{...s,...r,ref:n})});xr.displayName=hr;var vr="DropdownMenuLabel",bt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(rr,{...s,...r,ref:n})});bt.displayName=vr;var wr="DropdownMenuItem",Ct=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(or,{...s,...r,ref:n})});Ct.displayName=wr;var Mr="DropdownMenuCheckboxItem",yt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(ar,{...s,...r,ref:n})});yt.displayName=Mr;var _r="DropdownMenuRadioGroup",Rt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(sr,{...s,...r,ref:n})});Rt.displayName=_r;var br="DropdownMenuRadioItem",It=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(cr,{...s,...r,ref:n})});It.displayName=br;var Cr="DropdownMenuItemIndicator",Nt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(ir,{...s,...r,ref:n})});Nt.displayName=Cr;var yr="DropdownMenuSeparator",St=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(ur,{...s,...r,ref:n})});St.displayName=yr;var Rr="DropdownMenuArrow",Ir=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(dr,{...s,...r,ref:n})});Ir.displayName=Rr;var Nr="DropdownMenuSubTrigger",Et=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(lr,{...s,...r,ref:n})});Et.displayName=Nr;var Sr="DropdownMenuSubContent",Dt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,s=R(t);return o.jsx(fr,{...s,...r,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dt.displayName=Sr;var Er=ht,Dr=vt,Pr=wt,Pt=_t,jt=bt,Tt=Ct,At=yt,jr=Rt,Ot=It,kt=Nt,Ft=St,Lt=Et,Gt=Dt;const Tr=Er,Ar=Dr,Qr=jr,Or=a.forwardRef(({className:e,inset:n,children:t,...r},s)=>o.jsxs(Lt,{ref:s,className:A("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...r,children:[t,o.jsx(wn,{className:"ml-auto"})]}));Or.displayName=Lt.displayName;const kr=a.forwardRef(({className:e,...n},t)=>o.jsx(Gt,{ref:t,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n}));kr.displayName=Gt.displayName;const $t=a.forwardRef(({className:e,sideOffset:n=4,...t},r)=>o.jsx(Pr,{children:o.jsx(Pt,{ref:r,sideOffset:n,className:A("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t})}));$t.displayName=Pt.displayName;const xe=a.forwardRef(({className:e,inset:n,...t},r)=>o.jsx(Tt,{ref:r,className:A("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",e),...t}));xe.displayName=Tt.displayName;const Fr=a.forwardRef(({className:e,children:n,checked:t,...r},s)=>o.jsxs(At,{ref:s,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(kt,{children:o.jsx(Yt,{className:"h-4 w-4"})})}),n]}));Fr.displayName=At.displayName;const Lr=a.forwardRef(({className:e,children:n,...t},r)=>o.jsxs(Ot,{ref:r,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(kt,{children:o.jsx(_n,{className:"h-2 w-2 fill-current"})})}),n]}));Lr.displayName=Ot.displayName;const Kt=a.forwardRef(({className:e,inset:n,...t},r)=>o.jsx(jt,{ref:r,className:A("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...t}));Kt.displayName=jt.displayName;const ve=a.forwardRef(({className:e,...n},t)=>o.jsx(Ft,{ref:t,className:A("-mx-1 my-1 h-px bg-muted",e),...n}));ve.displayName=Ft.displayName;function eo({className:e=""}){const n=rn(),t=Vt(),[r,s]=a.useState(!1),c=n.props.notifications,d=(c==null?void 0:c.recent)||[],l=(c==null?void 0:c.unreadCount)||0,g=p=>{fe.post(t("notifications.mark-as-read",p),{},{preserveScroll:!0})},h=()=>{fe.post(t("notifications.mark-all-as-read"),{},{preserveScroll:!0})},u=p=>{fe.delete(t("notifications.destroy",p),{preserveScroll:!0})},i=p=>{const M=new Date(p),C=Math.floor((new Date().getTime()-M.getTime())/1e3);if(C<60)return"just now";if(C<3600){const _=Math.floor(C/60);return`${_} ${_===1?"minute":"minutes"} ago`}else if(C<86400){const _=Math.floor(C/3600);return`${_} ${_===1?"hour":"hours"} ago`}else{const _=Math.floor(C/86400);return`${_} ${_===1?"day":"days"} ago`}},f=p=>{switch(p){case"chat":case"new_chat_message":return"ðŸ’¬";case"lead":return"ðŸŽ¯";case"client":return"ðŸ‘¤";case"communication":return"ðŸ“ž";case"system":return"âš™ï¸";case"task":return"âœ…";case"reminder":return"â°";case"momo":case"momo_transaction_status_changed":return"ðŸ“±";case"zra":case"zra_submission_status_changed":return"ðŸ›¡ï¸";case"reconciliation":case"reconciliation_completed":return"âš–ï¸";case"finance":return"ðŸ’°";default:return"ðŸ””"}},w=p=>{switch(p){case"chat":case"new_chat_message":return"bg-blue-500";case"lead":return"bg-green-500";case"client":return"bg-purple-500";case"communication":return"bg-orange-500";case"system":return"bg-gray-500";case"task":return"bg-emerald-500";case"reminder":return"bg-yellow-500";case"momo":case"momo_transaction_status_changed":return"bg-indigo-500";case"zra":case"zra_submission_status_changed":return"bg-red-500";case"reconciliation":case"reconciliation_completed":return"bg-cyan-500";case"finance":return"bg-amber-500";default:return"bg-blue-500"}},v=p=>{switch(p){case"chat":case"new_chat_message":return"#3b82f6";case"lead":return"#22c55e";case"client":return"#a855f7";case"communication":return"#f97316";case"system":return"#6b7280";case"task":return"#10b981";case"reminder":return"#eab308";case"momo":case"momo_transaction_status_changed":return"#6366f1";case"zra":case"zra_submission_status_changed":return"#ef4444";case"reconciliation":case"reconciliation_completed":return"#06b6d4";case"finance":return"#f59e0b";default:return"#3b82f6"}};return o.jsxs(Tr,{open:r,onOpenChange:s,children:[o.jsx(Ar,{asChild:!0,children:o.jsxs(Pe,{variant:"ghost",size:"icon",className:`relative ${e}`,children:[o.jsx(on,{className:"h-5 w-5"}),l>0&&o.jsx(Te,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 hover:bg-red-600",children:l>99?"99+":l})]})}),o.jsxs($t,{align:"end",className:"w-96 lg:w-[600px]",children:[o.jsxs(Kt,{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Notifications"}),l>0&&o.jsx(Pe,{variant:"ghost",size:"sm",onClick:h,className:"text-xs",children:"Mark all as read"})]}),o.jsx(ve,{}),d.length===0?o.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):o.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:d.map(p=>o.jsxs(xe,{className:`mb-2 flex flex-col items-start p-3 cursor-default border-l-4 ${p.is_read?"":"bg-muted/30"}`,style:{borderLeftColor:p.is_read?"transparent":v(p.type)},children:[o.jsxs("div",{className:"flex w-full justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"text-lg",children:f(p.type)}),!p.is_read&&o.jsx("div",{className:`w-2 h-2 rounded-full ${w(p.type)}`})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`text-sm ${p.is_read?"text-muted-foreground":"font-medium text-foreground"}`,children:p.message}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:i(p.created_at)}),o.jsx(Te,{variant:"outline",className:"text-xs px-1 py-0",children:p.type})]})]})]}),o.jsx("button",{onClick:()=>u(p.id),className:"text-muted-foreground hover:text-destructive text-sm ml-2",children:"Ã—"})]}),o.jsxs("div",{className:"flex justify-end w-full mt-2 gap-2",children:[!p.is_read&&o.jsx("button",{onClick:()=>g(p.id),className:"text-xs text-primary hover:text-primary/80 px-2 py-1 rounded bg-primary/10 hover:bg-primary/20",children:"Mark as read"}),p.link&&o.jsx(je,{href:p.link,className:"text-xs text-primary hover:text-primary/80 px-2 py-1 rounded bg-primary/10 hover:bg-primary/20",onClick:()=>{s(!1),p.is_read||g(p.id)},children:"View"})]})]},p.id))}),o.jsx(ve,{}),o.jsx(xe,{asChild:!0,children:o.jsx(je,{href:t("notifications.index"),className:"w-full text-center text-sm",onClick:()=>s(!1),children:"View all notifications"})})]})]})}export{Wr as C,Tr as D,qr as F,xn as I,eo as N,hn as R,Ar as a,$t as b,xe as c,Ke as d,wn as e,Kt as f,ve as g,Qr as h,Lr as i,_n as j};
