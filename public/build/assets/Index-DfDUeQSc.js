import{u as E,r as m,G as z,j as e,S as R}from"./app-BMIA6nir.js";import{A as B}from"./AppLayout-DbMk6clK.js";import{B as p}from"./createLucideIcon-Cg8jdX0w.js";import{C as b,a as N,b as k,d as V,c as S}from"./card-BAsSN-2Z.js";import{I as x}from"./input-Bg5GDATO.js";import{L as r}from"./label-CM6YsqH1.js";import{S as i}from"./switch-_qD_kSA5.js";import{S as _,a as u,b as j,c as f,d as o}from"./select-B6KOX9nY.js";import{S as A}from"./separator-DnQonHW9.js";import{B as D}from"./x-C3KwZK3B.js";import{t as h}from"./index-Dj2TB_RL.js";import{S as I}from"./shield-DwKJ9Ble.js";import{E as K}from"./eye-off-b0nJPnR3.js";import{E as G}from"./eye-DdivFxyT.js";import{L as T}from"./loader-circle-BUEefOfS.js";import{T as O}from"./test-tube-BGKhckqE.js";import{C as Y}from"./circle-check-big-DCsv6rXk.js";import{T as q}from"./triangle-alert-BWIpgUmg.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Me({settings:t}){const w=E(),[d,P]=m.useState(!1),[l,g]=m.useState(null),[v,C]=m.useState(!1),{data:s,setData:c,put:F,processing:y,errors:n,reset:J}=z({recaptcha_enabled:t.recaptcha_enabled,recaptcha_site_key:t.recaptcha_site_key,recaptcha_secret_key:t.recaptcha_secret_key,recaptcha_version:t.recaptcha_version,recaptcha_theme:t.recaptcha_theme,recaptcha_size:t.recaptcha_size,recaptcha_score_threshold:t.recaptcha_score_threshold,recaptcha_on_login:t.recaptcha_on_login,recaptcha_on_register:t.recaptcha_on_register,recaptcha_on_forgot_password:t.recaptcha_on_forgot_password,recaptcha_on_contact_form:t.recaptcha_on_contact_form,recaptcha_on_guest_chat:t.recaptcha_on_guest_chat}),H=a=>{a.preventDefault(),F(w("settings.recaptcha.update"),{onSuccess:()=>{h.success("reCAPTCHA settings updated!",{description:"Your reCAPTCHA configuration has been saved successfully."})},onError:()=>{h.error("Failed to update reCAPTCHA settings",{description:"Please check the form for errors and try again."})}})},L=()=>{if(!s.recaptcha_site_key||!s.recaptcha_secret_key){h.error("Please provide both site key and secret key to test the configuration.");return}C(!0),g(null),setTimeout(()=>{g({success:!0,message:"reCAPTCHA configuration test successful!"}),C(!1),h.success("reCAPTCHA configuration is valid!")},2e3)};return e.jsxs(B,{title:"reCAPTCHA Settings",renderHeader:()=>e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"reCAPTCHA Settings"}),children:[e.jsx(R,{title:"reCAPTCHA Settings"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"reCAPTCHA Configuration"]}),e.jsx(V,{children:"Configure Google reCAPTCHA to protect your forms from spam and abuse"})]}),e.jsx(S,{children:e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium",children:"Enable reCAPTCHA"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable or disable reCAPTCHA protection across the application"})]}),e.jsx(i,{checked:s.recaptcha_enabled,onCheckedChange:a=>c("recaptcha_enabled",a)})]}),e.jsx(A,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"recaptcha_site_key",className:"text-sm font-medium",children:"Site Key"}),e.jsx(x,{id:"recaptcha_site_key",value:s.recaptcha_site_key,onChange:a=>c("recaptcha_site_key",a.target.value),placeholder:"6Lc...",disabled:!s.recaptcha_enabled}),n.recaptcha_site_key&&e.jsx("p",{className:"text-sm text-destructive",children:n.recaptcha_site_key})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"recaptcha_secret_key",className:"text-sm font-medium",children:"Secret Key"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"recaptcha_secret_key",type:d?"text":"password",value:s.recaptcha_secret_key,onChange:a=>c("recaptcha_secret_key",a.target.value),placeholder:"6Lc...",disabled:!s.recaptcha_enabled,className:"pr-10"}),e.jsx(p,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>P(!d),children:d?e.jsx(K,{className:"h-4 w-4"}):e.jsx(G,{className:"h-4 w-4"})})]}),n.recaptcha_secret_key&&e.jsx("p",{className:"text-sm text-destructive",children:n.recaptcha_secret_key})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"recaptcha_version",className:"text-sm font-medium",children:"Version"}),e.jsxs(_,{value:s.recaptcha_version,onValueChange:a=>c("recaptcha_version",a),disabled:!s.recaptcha_enabled,children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select version"})}),e.jsxs(f,{children:[e.jsx(o,{value:"v2",children:"reCAPTCHA v2"}),e.jsx(o,{value:"v3",children:"reCAPTCHA v3"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"recaptcha_theme",className:"text-sm font-medium",children:"Theme"}),e.jsxs(_,{value:s.recaptcha_theme,onValueChange:a=>c("recaptcha_theme",a),disabled:!s.recaptcha_enabled||s.recaptcha_version==="v3",children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select theme"})}),e.jsxs(f,{children:[e.jsx(o,{value:"light",children:"Light"}),e.jsx(o,{value:"dark",children:"Dark"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"recaptcha_size",className:"text-sm font-medium",children:"Size"}),e.jsxs(_,{value:s.recaptcha_size,onValueChange:a=>c("recaptcha_size",a),disabled:!s.recaptcha_enabled||s.recaptcha_version==="v3",children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select size"})}),e.jsxs(f,{children:[e.jsx(o,{value:"normal",children:"Normal"}),e.jsx(o,{value:"compact",children:"Compact"})]})]})]})]}),s.recaptcha_version==="v3"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"recaptcha_score_threshold",className:"text-sm font-medium",children:"Score Threshold (0.0 - 1.0)"}),e.jsx(x,{id:"recaptcha_score_threshold",type:"number",min:"0",max:"1",step:"0.1",value:s.recaptcha_score_threshold,onChange:a=>c("recaptcha_score_threshold",parseFloat(a.target.value)),disabled:!s.recaptcha_enabled}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower scores indicate more suspicious activity. Recommended: 0.5"})]}),e.jsx(A,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Form Protection"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium",children:"Login Form"}),e.jsx(i,{checked:s.recaptcha_on_login,onCheckedChange:a=>c("recaptcha_on_login",a),disabled:!s.recaptcha_enabled})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium",children:"Registration Form"}),e.jsx(i,{checked:s.recaptcha_on_register,onCheckedChange:a=>c("recaptcha_on_register",a),disabled:!s.recaptcha_enabled})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium",children:"Forgot Password"}),e.jsx(i,{checked:s.recaptcha_on_forgot_password,onCheckedChange:a=>c("recaptcha_on_forgot_password",a),disabled:!s.recaptcha_enabled})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium",children:"Contact Form"}),e.jsx(i,{checked:s.recaptcha_on_contact_form,onCheckedChange:a=>c("recaptcha_on_contact_form",a),disabled:!s.recaptcha_enabled})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{className:"text-sm font-medium",children:"Guest Chat"}),e.jsx(i,{checked:s.recaptcha_on_guest_chat,onCheckedChange:a=>c("recaptcha_on_guest_chat",a),disabled:!s.recaptcha_enabled})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(p,{type:"button",variant:"outline",onClick:L,disabled:!s.recaptcha_enabled||v||!s.recaptcha_site_key||!s.recaptcha_secret_key,children:v?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Test Configuration"]})}),e.jsx(p,{type:"submit",disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Settings"})]})]})})]}),l&&e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[l.success?e.jsx(Y,{className:"h-5 w-5 text-green-600"}):e.jsx(q,{className:"h-5 w-5 text-red-600"}),"Test Result"]})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:l.success?"default":"destructive",children:l.success?"Success":"Failed"}),e.jsx("span",{className:"text-sm",children:l.message})]})})]})]})})})]})}export{Me as default};
