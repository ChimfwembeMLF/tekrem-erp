import{u as C,j as e,S,x as r}from"./app-BMIA6nir.js";import{C as B}from"./CustomerLayout-7LFTkDxI.js";import{C as o,a as m,b as d,d as N,c as x}from"./card-BAsSN-2Z.js";import{B as D,U as M}from"./x-C3KwZK3B.js";import{B as l}from"./createLucideIcon-Cg8jdX0w.js";import{S as h}from"./separator-DnQonHW9.js";import{e as g,F as U}from"./NotificationComponent-CHA3vjZG.js";import{A as k}from"./arrow-left-UX2kDF52.js";import{S as z}from"./share-2-cOWypco3.js";import{D as v}from"./download-CNZP3fGS.js";import{C as I}from"./calendar-DTsvo4Hi.js";import{I as W}from"./image-Ct2miMof.js";import{V as L}from"./video-CV7uNjDn.js";import{F}from"./file-text-D25AipK4.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function oe({media:s,related_media:j}){const t=C(),w=a=>{if(a===0)return"0 Bytes";const f=1024,_=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(a)/Math.log(f));return parseFloat((a/Math.pow(f,p)).toFixed(2))+" "+_[p]},y=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=a=>a.startsWith("image/")?e.jsx(W,{className:"h-4 w-4"}):a.startsWith("video/")?e.jsx(L,{className:"h-4 w-4"}):e.jsx(F,{className:"h-4 w-4"}),i=a=>a.startsWith("image/")?"Image":a.startsWith("video/")?"Video":"Document",b=async()=>{if(navigator.share)try{await navigator.share({title:s.name,text:s.description||`${s.name} - ${i(s.mime_type)}`,url:window.location.href})}catch{console.log("Sharing cancelled or failed")}else navigator.clipboard.writeText(window.location.href)},n=s.file_url||`/storage/${s.file_path}`;return e.jsxs(B,{children:[e.jsx(S,{title:s.name}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(r,{href:t("customer.cms.index"),className:"hover:text-foreground",children:"Content"}),e.jsx(g,{className:"h-4 w-4"}),e.jsx(r,{href:t("customer.cms.media"),className:"hover:text-foreground",children:"Media"}),e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{className:"text-foreground",children:s.name})]}),e.jsx("div",{children:e.jsx(r,{href:t("customer.cms.media"),children:e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Back to Media"]})})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(s.mime_type),e.jsx(d,{className:"text-2xl",children:s.name})]}),s.description&&e.jsx(N,{className:"text-base",children:s.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:b,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsx("a",{href:n,download:s.name,children:e.jsxs(l,{size:"sm",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Download"]})})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground pt-4",children:[e.jsx(D,{variant:"outline",children:i(s.mime_type)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsxs("span",{children:["Uploaded ",y(s.created_at)]})]}),s.uploaded_by&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsxs("span",{children:["By ",s.uploaded_by.name]})]}),s.folder&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:s.folder.name})]})]})]}),e.jsxs(x,{children:[e.jsx(h,{className:"mb-6"}),e.jsx("div",{className:"mb-6",children:s.mime_type.startsWith("image/")?e.jsx("div",{className:"max-w-full",children:e.jsx("img",{src:n,alt:s.alt_text||s.name,className:"max-w-full h-auto rounded-lg border"})}):s.mime_type.startsWith("video/")?e.jsx("div",{className:"max-w-full",children:e.jsxs("video",{controls:!0,className:"max-w-full h-auto rounded-lg border",children:[e.jsx("source",{src:n,type:s.mime_type}),"Your browser does not support the video tag."]})}):e.jsx("div",{className:"flex items-center justify-center p-12 border rounded-lg bg-muted",children:e.jsxs("div",{className:"text-center",children:[c(s.mime_type),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:[i(s.mime_type)," file"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Click download to view this file"})]})})}),e.jsx(h,{className:"mb-6"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"File Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"File Name:"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"File Size:"}),e.jsx("span",{className:"font-medium",children:w(s.file_size)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"MIME Type:"}),e.jsx("span",{className:"font-medium",children:s.mime_type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Usage Count:"}),e.jsx("span",{className:"font-medium",children:s.usage_count})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Upload Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uploaded:"}),e.jsx("span",{className:"font-medium",children:u(s.created_at)})]}),s.last_used_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Used:"}),e.jsx("span",{className:"font-medium",children:u(s.last_used_at)})]}),s.uploaded_by&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uploaded By:"}),e.jsx("span",{className:"font-medium",children:s.uploaded_by.name})]}),s.folder&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Folder:"}),e.jsx("span",{className:"font-medium",children:s.folder.name})]})]})]})]}),e.jsx(h,{className:"mt-6 mb-4"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["File ID: ",s.id]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[j.length>0&&e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsx(d,{className:"text-lg",children:"Related Files"}),e.jsx(N,{children:"Other files from the same folder"})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-3",children:j.map(a=>e.jsx(r,{href:t("customer.cms.media.show",a.id),className:"block",children:e.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:a.mime_type.startsWith("image/")?e.jsx("img",{src:a.file_url||`/storage/${a.file_path}`,alt:a.alt_text||a.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("div",{className:"w-10 h-10 bg-muted rounded flex items-center justify-center",children:c(a.mime_type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium line-clamp-1",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i(a.mime_type)})]})]})},a.id))})})]}),e.jsxs(o,{children:[e.jsx(m,{children:e.jsx(d,{className:"text-lg",children:"Quick Actions"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:n,download:s.name,children:e.jsxs(l,{variant:"outline",className:"w-full justify-start",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Download File"]})}),e.jsx(r,{href:t("customer.cms.media"),children:e.jsx(l,{variant:"outline",className:"w-full justify-start",children:"Browse All Media"})}),e.jsx(r,{href:t("customer.cms.search"),children:e.jsx(l,{variant:"outline",className:"w-full justify-start",children:"Search Content"})}),e.jsx(r,{href:t("customer.cms.index"),children:e.jsx(l,{variant:"outline",className:"w-full justify-start",children:"Content Portal"})})]})})]})]})]})]})]})}export{oe as default};
