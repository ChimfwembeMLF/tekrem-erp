import{G as S,j as e,S as _,x as o}from"./app-BMIA6nir.js";import{C as x,a as p,b as h,d as j,c as g}from"./card-BAsSN-2Z.js";import{B as l}from"./createLucideIcon-Cg8jdX0w.js";import{I as A}from"./input-Bg5GDATO.js";import{L as r}from"./label-CM6YsqH1.js";import{B as u}from"./x-C3KwZK3B.js";import{A as N,a as f}from"./alert-CNp8ZuHk.js";import{A as D}from"./AppLayout-DbMk6clK.js";import{u as L}from"./useTranslate-ER5gAOX6.js";import{M as B}from"./message-square-32k9udjC.js";import{B as E}from"./bot-COuCQh0r.js";import{A as I}from"./archive-Bntya-At.js";import{L as M}from"./loader-circle-BUEefOfS.js";import{S as U}from"./save-D6UyxhH5.js";import{C as k}from"./circle-alert-DVIk47WR.js";import{A as T}from"./arrow-left-UX2kDF52.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Me({conversation:t}){const{t:s}=L(),{data:m,setData:y,put:v,processing:c,errors:i,reset:F}=S({title:t.title,metadata:t.metadata||{}}),b=a=>{a.preventDefault(),v(route("ai.conversations.update",t.id))},n=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(a),w=a=>({crm:"bg-blue-100 text-blue-800",finance:"bg-green-100 text-green-800",support:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800";return e.jsxs(D,{title:s("Edit Conversation"),renderHeader:()=>e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(o,{href:route("ai.conversations.show",t.id),children:e.jsxs(l,{variant:"ghost",size:"sm",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),s("Back to Conversation")]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s("Edit Conversation")}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s("Update conversation details and settings")})]})]})}),children:[e.jsx(_,{title:s("Edit Conversation")}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(B,{className:"h-5 w-5 mr-2"}),s("Conversation Information")]}),e.jsx(j,{children:s("Current conversation details and statistics")})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:s("AI Model")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium",children:t.ai_model.name}),e.jsx(u,{variant:"outline",children:t.ai_model.type})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.ai_model.service.name," (",t.ai_model.service.provider,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:s("Context")}),e.jsx("div",{className:"flex items-center space-x-2",children:t.context_type?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:w(t.context_type),children:t.context_type.toUpperCase()}),t.context_id&&e.jsxs("span",{className:"text-sm text-gray-600",children:["ID: ",t.context_id]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:s("No context")})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:s("Statistics")}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:[s("Messages"),": ",e.jsx("span",{className:"font-medium",children:t.message_count})]}),e.jsxs("div",{children:[s("Tokens"),": ",e.jsx("span",{className:"font-medium",children:t.total_tokens.toLocaleString()})]}),e.jsxs("div",{children:[s("Cost"),": ",e.jsx("span",{className:"font-medium",children:C(t.total_cost)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:s("Dates")}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:[s("Created"),": ",e.jsx("span",{className:"font-medium",children:n(t.created_at)})]}),e.jsxs("div",{children:[s("Last Message"),": ",e.jsx("span",{className:"font-medium",children:n(t.last_message_at)})]})]})]})]}),t.is_archived&&e.jsxs(N,{children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(f,{children:s("This conversation is currently archived.")})]})]})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsx(h,{children:s("Edit Details")}),e.jsx(j,{children:s("Update the conversation title and metadata")})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"title",children:[s("Conversation Title")," *"]}),e.jsx(A,{id:"title",type:"text",value:m.title,onChange:a=>y("title",a.target.value),placeholder:s("Enter a descriptive title for this conversation"),className:i.title?"border-red-500":""}),i.title&&e.jsx("p",{className:"text-sm text-red-600",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s("A clear title helps identify the conversation purpose")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"text-sm font-medium text-gray-600",children:s("Metadata")}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s("Current metadata:")}),Object.keys(m.metadata).length>0?e.jsx("pre",{className:"text-xs bg-white p-2 rounded border overflow-x-auto",children:JSON.stringify(m.metadata,null,2)}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:s("No metadata available")})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx(o,{href:route("ai.conversations.show",t.id),children:e.jsx(l,{type:"button",variant:"outline",children:s("Cancel")})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[c&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(M,{className:"h-4 w-4 mr-2 animate-spin"}),s("Saving changes...")]}),e.jsxs(l,{type:"submit",disabled:c||!m.title,children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),s("Save Changes")]})]})]})]})]}),Object.keys(i).length>0&&e.jsxs(N,{variant:"destructive",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsxs(f,{children:[s("Please fix the following errors:"),e.jsx("ul",{className:"mt-2 list-disc list-inside",children:Object.entries(i).map(([a,d])=>e.jsx("li",{className:"text-sm",children:d},a))})]})]})]})]})})]})}export{Me as default};
