import{u as E,r as h,j as e,S as z,x as o,A as p}from"./app-BMIA6nir.js";import{A as R,W as H}from"./AppLayout-DbMk6clK.js";import{C as L,a as M,b as P,d as U,c as V}from"./card-BAsSN-2Z.js";import{B as r}from"./createLucideIcon-Cg8jdX0w.js";import{I as W}from"./input-Bg5GDATO.js";import{B as v}from"./x-C3KwZK3B.js";import{S as y,a as b,b as S,c as _,d as l}from"./select-B6KOX9nY.js";import{u as q}from"./useTranslate-ER5gAOX6.js";import{t as w}from"./index-Dj2TB_RL.js";import{P as A}from"./plus-BjPf5uI-.js";import{S as F}from"./square-pen-CReBrXbl.js";import{T as G}from"./trash-2-DZc0jDKK.js";import{T as O}from"./trending-up-00s2SIxN.js";import{T as J}from"./trending-down-nOrQI_re.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./calendar-DTsvo4Hi.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function We({accounts:n,accountTypes:i,filters:m}){var N;const{t:s}=q(),c=E(),[u,f]=h.useState(m.search||""),[d,j]=h.useState(m.type||"all"),[x,g]=h.useState(m.status||"all"),C=(t,a="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(t),T=()=>{p.get(c("finance.accounts.index"),{search:u,type:d==="all"?"":d,status:x==="all"?"":x},{preserveState:!0,replace:!0})},I=()=>{f(""),j("all"),g("all"),p.get(c("finance.accounts.index"),{},{preserveState:!0,replace:!0})},B=t=>{confirm(s("finance.confirm_delete_account","Are you sure you want to delete this account?"))&&p.delete(c("finance.accounts.destroy",t.id),{onSuccess:()=>{w.success(s("finance.account_deleted","Account deleted successfully"))},onError:a=>{w.error(a.message||s("finance.delete_error","Error deleting account"))}})},k=t=>{const a={checking:"bg-blue-100 text-blue-800",savings:"bg-green-100 text-green-800",business:"bg-purple-100 text-purple-800",credit_card:"bg-red-100 text-red-800",investment:"bg-yellow-100 text-yellow-800",loan:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"};return a[t]||a.other},D=t=>t>=0?e.jsx(O,{className:"h-4 w-4 text-green-600"}):e.jsx(J,{className:"h-4 w-4 text-red-600"});return e.jsxs(R,{title:s("finance.accounts","Accounts"),children:[e.jsx(z,{title:s("finance.accounts","Accounts")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(L,{children:[e.jsxs(M,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(P,{children:s("finance.accounts","Accounts")}),e.jsx(U,{children:s("finance.accounts_description","Manage your financial accounts")})]}),e.jsx(o,{href:c("finance.accounts.create"),children:e.jsxs(r,{children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),s("finance.add_account","Add Account")]})})]}),e.jsxs(V,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-2",children:[e.jsxs("form",{onSubmit:t=>{t.preventDefault(),T()},className:"flex gap-2 flex-1",children:[e.jsx(W,{type:"text",placeholder:s("finance.search_accounts","Search accounts..."),value:u,onChange:t=>f(t.target.value),className:"max-w-sm"}),e.jsx(r,{type:"submit",variant:"secondary",children:s("common.search","Search")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(y,{value:d,onValueChange:j,children:[e.jsx(b,{className:"w-40",children:e.jsx(S,{placeholder:s("common.all_types","All Types")})}),e.jsxs(_,{children:[e.jsx(l,{value:"all",children:s("common.all_types","All Types")}),i&&Object.entries(i).map(([t,a])=>e.jsx(l,{value:t,children:a},t))]})]}),e.jsxs(y,{value:x,onValueChange:g,children:[e.jsx(b,{className:"w-40",children:e.jsx(S,{placeholder:s("common.all_statuses","All Statuses")})}),e.jsxs(_,{children:[e.jsx(l,{value:"all",children:s("common.all_statuses","All Statuses")}),e.jsx(l,{value:"active",children:s("common.active","Active")}),e.jsx(l,{value:"inactive",children:s("common.inactive","Inactive")})]})]}),e.jsx(r,{variant:"outline",onClick:I,children:s("common.reset","Reset")})]})]}),n.data.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(H,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:s("finance.no_accounts","No accounts found")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s("finance.create_first_account_desc","Get started by creating your first account.")}),e.jsx(o,{href:c("finance.accounts.create"),children:e.jsxs(r,{children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),s("finance.add_account","Add Account")]})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:s("finance.account_name","Account Name")}),e.jsx("th",{className:"text-left p-2",children:s("finance.type","Type")}),e.jsx("th",{className:"text-left p-2",children:s("finance.bank","Bank")}),e.jsx("th",{className:"text-left p-2",children:s("finance.balance","Balance")}),e.jsx("th",{className:"text-left p-2",children:s("common.status","Status")}),e.jsx("th",{className:"text-left p-2",children:s("finance.transactions","Transactions")}),e.jsx("th",{className:"text-left p-2",children:s("common.actions","Actions")})]})}),e.jsx("tbody",{children:n.data.map(t=>{var a;return e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),t.account_number&&e.jsx("div",{className:"text-sm text-muted-foreground",children:t.account_number})]})}),e.jsx("td",{className:"p-2",children:e.jsx(v,{className:k(t.type),variant:"secondary",children:i&&i[t.type]||t.type})}),e.jsx("td",{className:"p-2",children:t.bank_name||e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[D(t.balance),e.jsx("span",{className:t.balance<0?"text-red-600":"text-green-600",children:C(t.balance,t.currency)})]})}),e.jsx("td",{className:"p-2",children:e.jsx(v,{variant:t.is_active?"default":"secondary",children:t.is_active?s("common.active","Active"):s("common.inactive","Inactive")})}),e.jsx("td",{className:"p-2",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:[((a=t.transactions)==null?void 0:a.length)||0," ",s("finance.recent","recent")]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{href:c("finance.accounts.edit",t.id),children:e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),s("common.edit","Edit")]})}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>B(t),className:"text-red-600",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),s("common.delete","Delete")]})]})})]},t.id)})})]})}),n.last_page>1&&e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",n.from," to ",n.to," of ",n.total," accounts"]}),e.jsx("div",{className:"flex gap-1",children:(N=n.links)==null?void 0:N.map((t,a)=>t.url===null?e.jsx(r,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:t.label}},a):e.jsx(o,{href:t.url,children:e.jsx(r,{variant:t.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:t.label}})},a))})]})]})]})})})]})}export{We as default};
