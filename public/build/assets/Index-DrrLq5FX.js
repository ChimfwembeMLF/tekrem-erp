import{u as R,r as u,j as e,S as z,x as i,A as f}from"./app-BMIA6nir.js";import{A as E,C as I}from"./AppLayout-DbMk6clK.js";import{C as L,a as V,b as G,d as H,c as P}from"./card-BAsSN-2Z.js";import{B as n}from"./createLucideIcon-Cg8jdX0w.js";import{I as O}from"./input-Bg5GDATO.js";import{B as S}from"./x-C3KwZK3B.js";import{S as v,a as b,b as C,c as _,d as c}from"./select-B6KOX9nY.js";import{D as q,a as F,b as K,c as o}from"./NotificationComponent-CHA3vjZG.js";import{u as k}from"./useTranslate-ER5gAOX6.js";import{P as J}from"./plus-BjPf5uI-.js";import{C as Q}from"./calendar-DTsvo4Hi.js";import{E as U}from"./ellipsis-DJ3pNpl6.js";import{E as W}from"./eye-DdivFxyT.js";import{D as X}from"./download-CNZP3fGS.js";import{S as Y}from"./square-pen-CReBrXbl.js";import{T as Z}from"./trash-2-DZc0jDKK.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function We({reports:l,filters:m,types:d,statuses:x}){const{t}=k(),r=R(),[j,g]=u.useState(m.search||""),[h,N]=u.useState(m.type||"all"),[p,y]=u.useState(m.status||"all"),D=()=>{f.get(r("finance.reports.index"),{search:j,type:h==="all"?"":h,status:p==="all"?"":p},{preserveState:!0,replace:!0})},M=()=>{g(""),N("all"),y("all"),f.get(r("finance.reports.index"),{},{preserveState:!0,replace:!0})},T=s=>{confirm(t("common.confirm_delete","Are you sure you want to delete this item?"))&&f.delete(r("finance.reports.destroy",s))},A=s=>{if(!s)return"-";const a=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,w)*100)/100+" "+a[w]},B=s=>{switch(s){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(E,{title:t("finance.reports","Reports"),children:[e.jsx(z,{title:t("finance.reports","Reports")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(L,{children:[e.jsxs(V,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(G,{children:t("finance.reports","Reports")}),e.jsx(H,{children:t("finance.reports_description","Generate and manage financial reports")})]}),e.jsx(i,{href:r("finance.reports.create"),children:e.jsxs(n,{children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),t("finance.create_report","Create Report")]})})]}),e.jsxs(P,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-2",children:[e.jsxs("form",{onSubmit:s=>{s.preventDefault(),D()},className:"flex gap-2 flex-1",children:[e.jsx(O,{type:"text",placeholder:t("finance.search_reports","Search reports..."),value:j,onChange:s=>g(s.target.value),className:"max-w-sm"}),e.jsx(n,{type:"submit",variant:"secondary",children:t("common.search","Search")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{value:h,onValueChange:N,children:[e.jsx(b,{className:"w-40",children:e.jsx(C,{placeholder:t("common.all_types","All types")})}),e.jsxs(_,{children:[e.jsx(c,{value:"all",children:t("common.all_types","All types")}),d&&Object.entries(d).map(([s,a])=>e.jsx(c,{value:s,children:a},s))]})]}),e.jsxs(v,{value:p,onValueChange:y,children:[e.jsx(b,{className:"w-40",children:e.jsx(C,{placeholder:t("common.all_statuses","All statuses")})}),e.jsxs(_,{children:[e.jsx(c,{value:"all",children:t("common.all_statuses","All statuses")}),x&&Object.entries(x).map(([s,a])=>e.jsx(c,{value:s,children:a},s))]})]}),e.jsx(n,{variant:"outline",onClick:M,children:t("common.reset","Reset")})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:t("common.name","Name")}),e.jsx("th",{className:"text-left p-2",children:t("common.type","Type")}),e.jsx("th",{className:"text-left p-2",children:t("common.status","Status")}),e.jsx("th",{className:"text-left p-2",children:t("finance.generated_at","Generated")}),e.jsx("th",{className:"text-left p-2",children:t("finance.file_size","Size")}),e.jsx("th",{className:"text-left p-2",children:t("finance.created_by","Created By")}),e.jsx("th",{className:"text-left p-2",children:t("common.actions","Actions")})]})}),e.jsx("tbody",{children:l.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(I,{className:"h-8 w-8 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:t("finance.no_reports","No reports found")}),e.jsx(n,{asChild:!0,variant:"outline",children:e.jsx(i,{href:r("finance.reports.create"),children:t("finance.create_first_report","Create your first report")})})]})})}):l.data.map(s=>{var a;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})}),e.jsx("td",{className:"p-2",children:e.jsx(S,{variant:"secondary",children:d[s.type]||s.type})}),e.jsx("td",{className:"p-2",children:e.jsx(S,{className:B(s.status),variant:"secondary",children:x[s.status]||s.status})}),e.jsx("td",{className:"p-2",children:s.generated_at?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),new Date(s.generated_at).toLocaleDateString()]}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-sm",children:A(s.file_size)})}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-sm",children:((a=s.created_by)==null?void 0:a.name)||"-"})}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs(q,{children:[e.jsx(F,{asChild:!0,children:e.jsx(n,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsxs(K,{align:"end",children:[e.jsx(o,{asChild:!0,children:e.jsxs(i,{href:r("finance.reports.show",s.id),children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),t("common.view","View")]})}),s.file_path&&e.jsx(o,{asChild:!0,children:e.jsxs(i,{href:r("finance.reports.download",s.id),children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),t("finance.download","Download")]})}),e.jsx(o,{asChild:!0,children:e.jsxs(i,{href:r("finance.reports.edit",s.id),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),t("common.edit","Edit")]})}),e.jsxs(o,{onClick:()=>T(s.id),className:"text-red-600",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),t("common.delete","Delete")]})]})]})})]},s.id)})})]})}),l.last_page>1&&e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("common.showing_results","Showing {{from}} to {{to}} of {{total}} results",{from:l.from,to:l.to,total:l.total})}),e.jsx("div",{className:"flex gap-1",children:l.links.map((s,a)=>s.url===null?e.jsx(n,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:s.label}},a):e.jsx(i,{href:s.url,children:e.jsx(n,{variant:s.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:s.label}})},a))})]})]})]})})})]})}export{We as default};
