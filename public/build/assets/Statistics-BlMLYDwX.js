import{u as B,r as N,j as e,S as R,x as $,A as y}from"./app-BMIA6nir.js";import{A as F,a as U,C as E}from"./AppLayout-DbMk6clK.js";import{C as r,a as n,b as i,c}from"./card-BAsSN-2Z.js";import{B as _}from"./createLucideIcon-Cg8jdX0w.js";import{B as H}from"./x-C3KwZK3B.js";import{S as b,a as w,b as S,c as C,d as m}from"./select-B6KOX9nY.js";import{T as V,a as z,b as T,c as x,d as W,e as h}from"./table-DqBb-9tC.js";import{u as Z}from"./useTranslate-ER5gAOX6.js";import{A as q}from"./arrow-left-UX2kDF52.js";import{D as G}from"./download-CNZP3fGS.js";import{S as I}from"./smartphone-BqGcJ2Wh.js";import{C as J}from"./circle-check-big-DCsv6rXk.js";import{D as K}from"./dollar-sign-Cli0KufN.js";import{T as O}from"./trending-up-00s2SIxN.js";import{C as Q}from"./calendar-DTsvo4Hi.js";import{U as X}from"./users-3SuyoAg3.js";import{C as Y}from"./clock-BTinGqFV.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./file-text-D25AipK4.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";function Je({statistics:t,date_range:g,providers:k}){const{t:a}=Z(),u=B(),[p,A]=N.useState("7d"),[j,D]=N.useState("all"),L=s=>{A(s),y.get(u("finance.momo.statistics"),{period:s,provider_id:j==="all"?"":j})},M=s=>{D(s),y.get(u("finance.momo.statistics"),{period:p,provider_id:s==="all"?"":s})},P=()=>{window.open(u("finance.momo.statistics.export",{period:p,provider_id:j==="all"?"":j}),"_blank")},o=(s,l="ZMW")=>new Intl.NumberFormat("en-US",{style:"currency",currency:l}).format(s),d=s=>`${s.toFixed(1)}%`,v=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}),f=s=>s>=95?"text-green-600":s>=85?"text-yellow-600":"text-red-600";return e.jsxs(F,{title:a("finance.momo.statistics","Mobile Money Statistics"),breadcrumbs:[{label:a("finance.title","Finance"),href:"/finance"},{label:a("finance.momo.title","Mobile Money"),href:"/finance/momo"},{label:a("finance.momo.statistics","Statistics")}],children:[e.jsx(R,{title:a("finance.momo.statistics","Mobile Money Statistics")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(_,{variant:"outline",size:"icon",asChild:!0,children:e.jsx($,{href:u("finance.momo.index"),children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:a("finance.momo.statistics","Mobile Money Statistics")}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v(g.start_date)," - ",v(g.end_date)]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(_,{variant:"outline",onClick:P,children:[e.jsx(G,{className:"h-4 w-4"}),a("common.export","Export")]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(b,{value:p,onValueChange:L,children:[e.jsx(w,{className:"w-[180px]",children:e.jsx(S,{})}),e.jsxs(C,{children:[e.jsx(m,{value:"1d",children:a("finance.momo.period.1d","Last 24 hours")}),e.jsx(m,{value:"7d",children:a("finance.momo.period.7d","Last 7 days")}),e.jsx(m,{value:"30d",children:a("finance.momo.period.30d","Last 30 days")}),e.jsx(m,{value:"90d",children:a("finance.momo.period.90d","Last 90 days")}),e.jsx(m,{value:"1y",children:a("finance.momo.period.1y","Last year")})]})]}),e.jsxs(b,{value:j,onValueChange:M,children:[e.jsx(w,{className:"w-[200px]",children:e.jsx(S,{})}),e.jsxs(C,{children:[e.jsx(m,{value:"all",children:a("finance.momo.all_providers","All Providers")}),k.map(s=>e.jsx(m,{value:s.id.toString(),children:s.display_name},s.id))]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:a("finance.momo.total_transactions","Total Transactions")}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.overview.total_transactions.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o(t.overview.total_amount)})]})]}),e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:a("finance.momo.success_rate","Success Rate")}),e.jsx(J,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(c,{children:[e.jsx("div",{className:`text-2xl font-bold ${f(t.overview.success_rate)}`,children:d(t.overview.success_rate)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.overview.successful_transactions," successful"]})]})]}),e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:a("finance.momo.average_amount","Average Amount")}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o(t.overview.average_transaction_amount)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("finance.momo.per_transaction","per transaction")})]})]}),e.jsxs(r,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:a("finance.momo.total_fees","Total Fees")}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o(t.overview.total_fees)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[d(t.overview.total_fees/t.overview.total_amount*100)," of volume"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),a("finance.momo.provider_breakdown","Provider Breakdown")]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:t.provider_breakdown.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-xs font-medium",children:s.provider_code}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.provider_name}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.transaction_count," transactions"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:o(s.total_amount)}),e.jsx("div",{className:`text-sm ${f(s.success_rate)}`,children:d(s.success_rate)})]})]},s.provider_id))})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),a("finance.momo.transaction_types","Transaction Types")]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:t.transaction_types.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{variant:"outline",children:a(`finance.momo.type.${s.type}`,s.type)}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.count," transactions"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:o(s.amount)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:d(s.percentage)})]})]},s.type))})})]}),e.jsxs(r,{className:"lg:col-span-2",children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),a("finance.momo.daily_trends","Daily Trends")]})}),e.jsx(c,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(V,{children:[e.jsx(z,{children:e.jsxs(T,{children:[e.jsx(x,{children:a("common.date","Date")}),e.jsx(x,{children:a("finance.momo.transactions","Transactions")}),e.jsx(x,{children:a("finance.momo.amount","Amount")}),e.jsx(x,{children:a("finance.momo.successful","Successful")}),e.jsx(x,{children:a("finance.momo.failed","Failed")}),e.jsx(x,{children:a("finance.momo.success_rate","Success Rate")})]})}),e.jsx(W,{children:t.daily_stats.map(s=>{const l=s.transaction_count>0?s.successful_count/s.transaction_count*100:0;return e.jsxs(T,{children:[e.jsx(h,{className:"font-medium",children:v(s.date)}),e.jsx(h,{children:s.transaction_count.toLocaleString()}),e.jsx(h,{children:o(s.total_amount)}),e.jsx(h,{className:"text-green-600",children:s.successful_count}),e.jsx(h,{className:"text-red-600",children:s.failed_count}),e.jsx(h,{className:f(l),children:d(l)})]},s.date)})})]})})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),a("finance.momo.top_customers","Top Customers")]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:t.top_customers.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.customer_name||"Anonymous"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:s.phone_number})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:o(s.total_amount)}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.transaction_count," transactions"]})]})]},l))})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),a("finance.momo.hourly_distribution","Hourly Distribution")]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-2",children:t.hourly_distribution.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-12 text-sm text-gray-600 dark:text-gray-400",children:[s.hour.toString().padStart(2,"0"),":00"]}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.transaction_count/Math.max(...t.hourly_distribution.map(l=>l.transaction_count))*100}%`}})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:s.transaction_count}),e.jsx("div",{className:`text-xs ${f(s.success_rate)}`,children:d(s.success_rate)})]})]},s.hour))})})]})]})]})]})}export{Je as default};
