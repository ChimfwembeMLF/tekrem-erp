import{u as J,r as c,j as e,S as K,x,A as j}from"./app-BMIA6nir.js";import{A as Q}from"./AppLayout-DbMk6clK.js";import{C as W,a as X,b as Y,d as Z,c as $}from"./card-BAsSN-2Z.js";import{B as r}from"./createLucideIcon-Cg8jdX0w.js";import{I as ee}from"./input-Bg5GDATO.js";import{B as D}from"./x-C3KwZK3B.js";import{S as g,a as y,b as N,c as S,d as i}from"./select-B6KOX9nY.js";import{u as se}from"./useTranslate-ER5gAOX6.js";import{t as I}from"./index-Dj2TB_RL.js";import{P as R}from"./plus-BjPf5uI-.js";import{C as E}from"./NotificationComponent-CHA3vjZG.js";import{C as te}from"./calendar-DTsvo4Hi.js";import{S as ae}from"./square-pen-CReBrXbl.js";import{T as re}from"./trash-2-DZc0jDKK.js";import{A as le}from"./arrow-right-left-Dh_NfBKK.js";import{T as ne}from"./trending-down-nOrQI_re.js";import{T as ce}from"./trending-up-00s2SIxN.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./bell-5VRgJnzP.js";function rs({transactions:l,accounts:p,categories:oe,transactionTypes:m,statuses:d,filters:n}){var A;const{t}=se(),o=J(),[v,b]=c.useState(n.search||""),[h,w]=c.useState(n.account||"all"),[u,_]=c.useState(n.type||"all"),[f,T]=c.useState(n.status||"all"),[C,L]=c.useState(n.category||"all"),[k,z]=c.useState(n.date_from||""),[B,V]=c.useState(n.date_to||""),F=(s,a="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(s),H=s=>new Date(s).toLocaleDateString(),P=()=>{j.get(o("finance.transactions.index"),{search:v,account:h==="all"?"":h,type:u==="all"?"":u,status:f==="all"?"":f,category:C==="all"?"":C,date_from:k,date_to:B},{preserveState:!0,replace:!0})},U=()=>{b(""),w("all"),_("all"),T("all"),L("all"),z(""),V(""),j.get(o("finance.transactions.index"),{},{preserveState:!0,replace:!0})},M=s=>{confirm(t("finance.confirm_delete_transaction","Are you sure you want to delete this transaction?"))&&j.delete(o("finance.transactions.destroy",s.id),{onSuccess:()=>{I.success(t("finance.transaction_deleted","Transaction deleted successfully"))},onError:a=>{I.error(a.message||t("finance.delete_error","Error deleting transaction"))}})},O=s=>({income:"bg-green-100 text-green-800",expense:"bg-red-100 text-red-800",transfer:"bg-blue-100 text-blue-800"})[s]||"bg-gray-100 text-gray-800",q=s=>{switch(s){case"income":return e.jsx(ce,{className:"h-4 w-4 text-green-600"});case"expense":return e.jsx(ne,{className:"h-4 w-4 text-red-600"});case"transfer":return e.jsx(le,{className:"h-4 w-4 text-blue-600"});default:return e.jsx(E,{className:"h-4 w-4"})}},G=s=>({completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs(Q,{title:t("finance.transactions","Transactions"),children:[e.jsx(K,{title:t("finance.transactions","Transactions")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(W,{children:[e.jsxs(X,{className:"flex flex-col sm:flex-row justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(Y,{children:t("finance.transactions","Transactions")}),e.jsx(Z,{children:t("finance.transactions_description","Track your income, expenses, and transfers")})]}),e.jsx(x,{href:o("finance.transactions.create"),children:e.jsxs(r,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),t("finance.add_transaction","Add Transaction")]})})]}),e.jsxs($,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-4 gap-2",children:[e.jsxs("form",{onSubmit:s=>{s.preventDefault(),P()},className:"flex gap-2 flex-1",children:[e.jsx(ee,{type:"text",placeholder:t("finance.search_transactions","Search transactions..."),value:v,onChange:s=>b(s.target.value),className:"max-w-sm"}),e.jsx(r,{type:"submit",variant:"secondary",children:t("common.search","Search")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{value:h,onValueChange:w,children:[e.jsx(y,{className:"w-40",children:e.jsx(N,{placeholder:t("common.all_accounts","All Accounts")})}),e.jsxs(S,{children:[e.jsx(i,{value:"all",children:t("common.all_accounts","All Accounts")}),p==null?void 0:p.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(g,{value:u,onValueChange:_,children:[e.jsx(y,{className:"w-40",children:e.jsx(N,{placeholder:t("common.all_types","All Types")})}),e.jsxs(S,{children:[e.jsx(i,{value:"all",children:t("common.all_types","All Types")}),m&&Object.entries(m).map(([s,a])=>e.jsx(i,{value:s,children:a},s))]})]}),e.jsxs(g,{value:f,onValueChange:T,children:[e.jsx(y,{className:"w-40",children:e.jsx(N,{placeholder:t("common.all_statuses","All Statuses")})}),e.jsxs(S,{children:[e.jsx(i,{value:"all",children:t("common.all_statuses","All Statuses")}),d&&Object.entries(d).map(([s,a])=>e.jsx(i,{value:s,children:a},s))]})]}),e.jsx(r,{variant:"outline",onClick:U,children:t("common.reset","Reset")})]})]}),l.data.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:t("finance.no_transactions","No transactions found")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:t("finance.create_first_transaction_desc","Get started by creating your first transaction.")}),e.jsx(x,{href:o("finance.transactions.create"),children:e.jsxs(r,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),t("finance.add_transaction","Add Transaction")]})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:t("finance.type","Type")}),e.jsx("th",{className:"text-left p-2",children:t("common.description","Description")}),e.jsx("th",{className:"text-left p-2",children:t("finance.account","Account")}),e.jsx("th",{className:"text-left p-2",children:t("finance.category","Category")}),e.jsx("th",{className:"text-left p-2",children:t("finance.amount","Amount")}),e.jsx("th",{className:"text-left p-2",children:t("finance.date","Date")}),e.jsx("th",{className:"text-left p-2",children:t("common.status","Status")}),e.jsx("th",{className:"text-left p-2",children:t("common.actions","Actions")})]})}),e.jsx("tbody",{children:l.data.map(s=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[q(s.type),e.jsx(D,{className:O(s.type),variant:"secondary",children:m&&m[s.type]||s.type})]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.description}),s.reference_number&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Ref: ",s.reference_number]}),s.transferToAccount&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["To: ",s.transferToAccount.name]})]})}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"font-medium",children:s.account.name})}),e.jsx("td",{className:"p-2",children:s.category?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.category.color}}),e.jsx("span",{className:"text-sm",children:s.category.name})]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx("td",{className:"p-2",children:e.jsxs("span",{className:s.type==="expense"?"text-red-600":"text-green-600",children:[s.type==="expense"?"-":"+",F(s.amount,s.account.currency)]})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4 text-muted-foreground"}),H(s.transaction_date)]})}),e.jsx("td",{className:"p-2",children:e.jsx(D,{className:G(s.status),variant:"secondary",children:d&&d[s.status]||s.status})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{href:o("finance.transactions.edit",s.id),children:e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(ae,{className:"h-4 w-4 mr-1"}),t("common.edit","Edit")]})}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>M(s),className:"text-red-600",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),t("common.delete","Delete")]})]})})]},s.id))})]})}),l.last_page>1&&e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",l.from," to ",l.to," of ",l.total," transactions"]}),e.jsx("div",{className:"flex gap-1",children:(A=l.links)==null?void 0:A.map((s,a)=>s.url===null?e.jsx(r,{variant:"outline",size:"sm",disabled:!0,dangerouslySetInnerHTML:{__html:s.label}},a):e.jsx(x,{href:s.url,children:e.jsx(r,{variant:s.active?"default":"outline",size:"sm",dangerouslySetInnerHTML:{__html:s.label}})},a))})]})]})]})})})]})}export{rs as default};
