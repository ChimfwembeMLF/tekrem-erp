import{u as S,j as e,S as C,x as d,A as i}from"./app-BMIA6nir.js";import{C as b}from"./CustomerLayout-7LFTkDxI.js";import{C as w,a as _,b as D,d as P,c as A}from"./card-BAsSN-2Z.js";import{B as F}from"./x-C3KwZK3B.js";import{B as c}from"./createLucideIcon-Cg8jdX0w.js";import{I as B}from"./input-Bg5GDATO.js";import{S as o,a as m,b as u,c as x,d as t}from"./select-B6KOX9nY.js";import{A as I}from"./arrow-left-UX2kDF52.js";import{S as V}from"./search-_p1CX5vB.js";import{C as h}from"./NotificationComponent-CHA3vjZG.js";import{E as T}from"./eye-DdivFxyT.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./file-text-D25AipK4.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";function ce({payments:r,filters:a}){const l=S(),j=s=>{s.preventDefault();const y=new FormData(s.currentTarget).get("search");i.get(l("customer.finance.payments"),{...a,search:y||void 0},{preserveState:!0,replace:!0})},p=s=>{i.get(l("customer.finance.payments"),{...a,status:s==="all"?void 0:s},{preserveState:!0,replace:!0})},f=s=>{i.get(l("customer.finance.payments"),{...a,payment_method:s==="all"?void 0:s},{preserveState:!0,replace:!0})},v=s=>{switch(s){case"completed":return"secondary";case"pending":return"default";case"failed":return"destructive";default:return"outline"}},g=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),N=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(b,{children:[e.jsx(C,{title:"Payment History"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(d,{href:l("customer.finance.index"),children:e.jsxs(c,{variant:"outline",size:"sm",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Back to Finance"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Payment History"}),e.jsx("p",{className:"text-muted-foreground",children:"View all your payment transactions"})]})]})}),e.jsxs(w,{children:[e.jsxs(_,{children:[e.jsx(D,{children:"All Payments"}),e.jsx(P,{children:"Complete history of your payments"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("form",{onSubmit:j,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(B,{name:"search",placeholder:"Search payments...",defaultValue:a.search||"",className:"pl-10"})]})}),e.jsxs(o,{value:a.status||"all",onValueChange:p,children:[e.jsx(m,{className:"w-[180px]",children:e.jsx(u,{placeholder:"Filter by status"})}),e.jsxs(x,{children:[e.jsx(t,{value:"all",children:"All Statuses"}),e.jsx(t,{value:"completed",children:"Completed"}),e.jsx(t,{value:"pending",children:"Pending"}),e.jsx(t,{value:"failed",children:"Failed"})]})]}),e.jsxs(o,{value:a.payment_method||"all",onValueChange:f,children:[e.jsx(m,{className:"w-[180px]",children:e.jsx(u,{placeholder:"Payment method"})}),e.jsxs(x,{children:[e.jsx(t,{value:"all",children:"All Methods"}),e.jsx(t,{value:"credit_card",children:"Credit Card"}),e.jsx(t,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(t,{value:"paypal",children:"PayPal"}),e.jsx(t,{value:"cash",children:"Cash"})]})]})]}),e.jsx("div",{className:"space-y-4",children:r.data.length>0?r.data.map(s=>{var n;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-secondary rounded-lg",children:e.jsx(h,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g(s.amount)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:((n=s.invoice)==null?void 0:n.invoice_number)||"Direct Payment"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[N(s.payment_date)," â€¢ ",s.payment_method]}),s.reference_number&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Ref: ",s.reference_number]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(F,{variant:v(s.status),children:s.status}),e.jsx(d,{href:l("customer.finance.payments.show",s.id),children:e.jsx(c,{variant:"outline",size:"sm",children:e.jsx(T,{className:"h-4 w-4"})})})]})]},s.id)}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(h,{className:"mx-auto h-8 w-8 mb-2"}),e.jsx("p",{children:"No payments found"})]})}),r.data.length>0&&r.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",r.from," to ",r.to," of ",r.total," payments"]}),e.jsx("div",{className:"flex items-center space-x-2",children:r.links.map((s,n)=>e.jsx(c,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&i.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},n))})]})]})]})]})]})}export{ce as default};
