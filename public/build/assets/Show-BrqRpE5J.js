import{u as w,j as e,S as v,x as i,A as p}from"./app-BMIA6nir.js";import{A as C}from"./AppLayout-DbMk6clK.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{C as l,a as c,b as d,d as b,c as m}from"./card-BAsSN-2Z.js";import{U as A,B as _}from"./x-C3KwZK3B.js";import{S as k}from"./separator-DnQonHW9.js";import{C as D}from"./clock-BTinGqFV.js";import{B as S}from"./building-DIkCZBBP.js";import{S as h}from"./square-pen-CReBrXbl.js";import{F as x}from"./file-text-D25AipK4.js";import{T as j}from"./trash-2-DZc0jDKK.js";import{A as B}from"./arrow-left-UX2kDF52.js";import{C as U}from"./calendar-DTsvo4Hi.js";import{P as L}from"./phone-347MTOqH.js";import{M as T}from"./mail-CApE3o7R.js";import{A as z}from"./arrow-down-m0RBjUEt.js";import{A as E}from"./arrow-up-BCZyUv1P.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./index-Dj2TB_RL.js";import"./useTranslate-ER5gAOX6.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Ue({communication:s}){const t=w(),u=r=>{switch(r){case"email":return e.jsx(T,{className:"h-5 w-5"});case"call":return e.jsx(L,{className:"h-5 w-5"});case"meeting":return e.jsx(U,{className:"h-5 w-5"});case"note":return e.jsx(x,{className:"h-5 w-5"});default:return e.jsx(x,{className:"h-5 w-5"})}},f=r=>{if(!r)return null;const y={completed:"default",scheduled:"secondary",cancelled:"destructive"};return e.jsx(_,{variant:y[r]||"outline",children:r.charAt(0).toUpperCase()+r.slice(1)})},g=r=>r?r==="inbound"?e.jsx(z,{className:"h-4 w-4 text-green-600"}):e.jsx(E,{className:"h-4 w-4 text-blue-600"}):null,n=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=()=>{confirm("Are you sure you want to delete this communication?")&&p.delete(t("crm.communications.destroy",s.id),{onSuccess:()=>{p.visit(t("crm.communications.index"))}})},N=()=>s.communicable_type.includes("Client")?t("crm.clients.show",s.communicable_id):t("crm.leads.show",s.communicable_id);return e.jsxs(C,{title:`Communication - ${s.type.charAt(0).toUpperCase()+s.type.slice(1)}`,renderHeader:()=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{href:t("crm.communications.index"),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to Communications"]})}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Communication Details"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{href:t("crm.communications.edit",s.id),children:e.jsxs(a,{variant:"outline",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsxs(a,{variant:"destructive",onClick:o,children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),children:[e.jsx(v,{title:`Communication - ${s.type}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[u(s.type),e.jsxs("div",{children:[e.jsxs(d,{className:"capitalize",children:[s.type,s.direction&&e.jsxs("span",{className:"ml-2 inline-flex items-center gap-1",children:[g(s.direction),e.jsx("span",{className:"text-sm font-normal text-gray-500",children:s.direction})]})]}),s.subject&&e.jsx(b,{className:"mt-1",children:s.subject})]})]}),f(s.status)]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:n(s.communication_date)})]}),e.jsx(k,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Content"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:s.content})})]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.communicable&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Associated ",s.communicable_type.includes("Client")?"Client":"Lead"]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.communicable.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.communicable.email}),s.communicable.phone&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.communicable.phone}),s.communicable.company&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.communicable.company})]}),e.jsx(i,{href:N(),children:e.jsxs(a,{variant:"outline",size:"sm",className:"w-full",children:["View ",s.communicable_type.includes("Client")?"Client":"Lead"," Details"]})})]})})]}),s.user&&e.jsxs(l,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Created By"]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.user.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.user.email})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("p",{children:["Created: ",n(s.created_at)]}),s.updated_at!==s.created_at&&e.jsxs("p",{children:["Updated: ",n(s.updated_at)]})]})]})})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(d,{children:"Actions"})}),e.jsx(m,{children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(i,{href:t("crm.communications.edit",s.id),children:e.jsxs(a,{variant:"outline",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Edit Communication"]})}),s.communicable&&e.jsx(i,{href:t("crm.communications.create",{communicable_type:s.communicable_type,communicable_id:s.communicable_id}),children:e.jsxs(a,{variant:"outline",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Add New Communication"]})}),e.jsxs(a,{variant:"destructive",onClick:o,children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Delete Communication"]})]})})]})]})})})]})}export{Ue as default};
