import{u as R,j as s,S as L,A as u}from"./app-BMIA6nir.js";import{A,L as D,C as H}from"./AppLayout-DbMk6clK.js";import{C as c,a as d,b as l,c as m,d as v}from"./card-BAsSN-2Z.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{B as y,U}from"./x-C3KwZK3B.js";import{L as n}from"./label-CM6YsqH1.js";import{S as E}from"./separator-DnQonHW9.js";import{u as P}from"./useTranslate-ER5gAOX6.js";import{t as N}from"./index-Dj2TB_RL.js";import{A as B}from"./arrow-left-UX2kDF52.js";import{T as w}from"./test-tube-BGKhckqE.js";import{S as b}from"./square-pen-CReBrXbl.js";import{E as j}from"./external-link-DiDOWbPw.js";import{T as q}from"./trash-2-DZc0jDKK.js";import{C as k}from"./calendar-DTsvo4Hi.js";import{A as F}from"./activity-BI-t7JT3.js";import"./useTypedPage-hmuARwun.js";import"./sheet-1SUjjT9Y.js";import"./index-BN56TOeV.js";import"./index-DdwO_6Rs.js";import"./index-DgfI6AGt.js";import"./index-BeGDJhOY.js";import"./index-DwXxsQvB.js";import"./AppProvider-NPNBF0OW.js";import"./users-3SuyoAg3.js";import"./message-square-32k9udjC.js";import"./message-circle-CVsRMw7b.js";import"./NotificationComponent-CHA3vjZG.js";import"./bell-5VRgJnzP.js";import"./dollar-sign-Cli0KufN.js";import"./file-text-D25AipK4.js";import"./trending-up-00s2SIxN.js";import"./smartphone-BqGcJ2Wh.js";import"./shield-DwKJ9Ble.js";import"./building-DIkCZBBP.js";import"./ticket-B_Ks_Sjf.js";import"./book-open-DEtrBf1m.js";import"./image-Ct2miMof.js";import"./clock-BTinGqFV.js";import"./graduation-cap-leaforsl.js";import"./brain-D-NomhzH.js";import"./user-cog-hTW3YbTW.js";import"./key-Qw2I2-NE.js";import"./plus-BjPf5uI-.js";import"./bot-COuCQh0r.js";import"./globe-S29F6yCY.js";import"./share-2-cOWypco3.js";import"./chevron-down-CrO8JO_i.js";import"./log-out-B525vUfE.js";function Es({redirect:t,stats:i,chain:p,statusCodes:f}){const{t:e}=P(),o=R(),x=r=>{switch(r){case"edit":u.visit(o("cms.redirects.edit",t.id));break;case"test":u.post(o("cms.redirects.test"),{url:t.from_url},{onSuccess:()=>{N.success(e("cms.redirect_test_success","Redirect test completed successfully"))},onError:()=>{N.error(e("cms.redirect_test_failed","Redirect test failed"))}});break;case"delete":confirm(e("cms.confirm_delete_redirect","Are you sure you want to delete this redirect?"))&&u.delete(o("cms.redirects.destroy",t.id),{onSuccess:()=>{N.success(e("cms.redirect_deleted","Redirect deleted successfully")),u.visit(o("cms.redirects.index"))}});break}},g=r=>new Date(r).toLocaleDateString(),C=r=>new Date(r).toLocaleString();return s.jsxs(A,{children:[s.jsx(L,{title:t.from_url}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(a,{variant:"outline",size:"sm",onClick:()=>u.visit(o("cms.redirects.index")),children:[s.jsx(B,{className:"h-4 w-4 mr-2"}),e("common.back","Back")]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.from_url}),s.jsx("p",{className:"text-muted-foreground",children:t.description||e("cms.no_description","No description provided")})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(a,{variant:"outline",onClick:()=>x("test"),children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),e("cms.test","Test")]}),s.jsxs(a,{onClick:()=>x("edit"),children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),e("common.edit","Edit")]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(c,{children:[s.jsx(d,{children:s.jsxs(l,{className:"flex items-center gap-2",children:[s.jsx(D,{className:"h-5 w-5"}),e("cms.redirect_overview","Redirect Overview")]})}),s.jsxs(m,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:e("cms.from_url","From URL")}),s.jsx("p",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:t.from_url})]}),s.jsxs("div",{children:[s.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:e("cms.to_url","To URL")}),s.jsx("p",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:t.to_url})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:e("cms.status_code","Status Code")}),s.jsx("div",{className:"mt-1",children:s.jsxs(y,{variant:"outline",children:[t.status_code," - ",f[t.status_code]]})})]}),s.jsxs("div",{children:[s.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:e("cms.status","Status")}),s.jsx("div",{className:"mt-1",children:s.jsx(y,{variant:t.is_active?"default":"secondary",children:t.is_active?e("cms.active","Active"):e("cms.inactive","Inactive")})})]})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:e("cms.redirect_flow","Redirect Flow")}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-medium",children:t.from_url}),s.jsx(j,{className:"h-3 w-3"}),s.jsx("span",{className:"text-muted-foreground",children:"â†’"}),s.jsx("span",{className:"font-medium",children:t.to_url})]}),s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["HTTP ",t.status_code," - ",f[t.status_code]]})]})]})]}),p.length>1&&s.jsxs(c,{children:[s.jsxs(d,{children:[s.jsx(l,{children:e("cms.redirect_chain","Redirect Chain")}),s.jsx(v,{children:e("cms.redirect_chain_desc","Shows the complete redirect path")})]}),s.jsx(m,{children:s.jsx("div",{className:"space-y-3",children:p.map((r,h)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-medium",children:h+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-mono text-sm",children:r.url}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["HTTP ",r.status_code," ",r.is_final?"(Final)":"(Redirect)"]})]}),h<p.length-1&&s.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]},h))})})]}),s.jsxs(c,{children:[s.jsxs(d,{children:[s.jsxs(l,{className:"flex items-center gap-2",children:[s.jsx(H,{className:"h-5 w-5"}),e("cms.usage_statistics","Usage Statistics")]}),s.jsx(v,{children:e("cms.redirect_performance","Redirect performance and usage data")})]}),s.jsxs(m,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:t.hit_count}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e("cms.total_hits","Total Hits")})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:i.monthly_hits}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e("cms.monthly_hits","Monthly Hits")})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:i.average_daily_hits.toFixed(1)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e("cms.avg_daily_hits","Avg Daily Hits")})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:i.peak_day.hits}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e("cms.peak_day","Peak Day")})]})]}),i.daily_hits.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx(n,{className:"text-sm font-medium text-muted-foreground",children:e("cms.daily_hits_trend","Daily Hits (Last 30 Days)")}),s.jsx("div",{className:"mt-2 flex items-end gap-1 h-20",children:i.daily_hits.slice(-30).map((r,h)=>{const _=Math.max(...i.daily_hits.map(T=>T.hits)),S=_>0?r.hits/_*100:0;return s.jsx("div",{className:"bg-primary rounded-sm flex-1 min-w-0",style:{height:`${S}%`},title:`${r.date}: ${r.hits} hits`},h)})})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(c,{children:[s.jsx(d,{children:s.jsx(l,{children:e("cms.quick_actions","Quick Actions")})}),s.jsxs(m,{className:"space-y-2",children:[s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>x("edit"),children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),e("common.edit","Edit")]}),s.jsxs(a,{variant:"outline",className:"w-full justify-start",onClick:()=>x("test"),children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),e("cms.test","Test")]}),s.jsx(a,{variant:"outline",className:"w-full justify-start",asChild:!0,children:s.jsxs("a",{href:t.from_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),e("cms.visit_source","Visit Source")]})}),s.jsx(a,{variant:"outline",className:"w-full justify-start",asChild:!0,children:s.jsxs("a",{href:t.to_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),e("cms.visit_destination","Visit Destination")]})}),s.jsx(E,{}),s.jsxs(a,{variant:"destructive",className:"w-full justify-start",onClick:()=>x("delete"),children:[s.jsx(q,{className:"h-4 w-4 mr-2"}),e("common.delete","Delete")]})]})]}),s.jsxs(c,{children:[s.jsx(d,{children:s.jsx(l,{children:e("cms.redirect_information","Redirect Information")})}),s.jsxs(m,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-muted-foreground",children:[e("cms.created_by","Created by"),":"]}),s.jsx("span",{children:t.created_by.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-muted-foreground",children:[e("cms.created_at","Created"),":"]}),s.jsx("span",{children:g(t.created_at)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-muted-foreground",children:[e("cms.updated_at","Updated"),":"]}),s.jsx("span",{children:g(t.updated_at)})]}),t.last_hit_at&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(F,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-muted-foreground",children:[e("cms.last_hit","Last Hit"),":"]}),s.jsx("span",{children:C(t.last_hit_at)})]})]})]}),s.jsxs(c,{children:[s.jsx(d,{children:s.jsx(l,{children:e("cms.status_code_info","Status Code Information")})}),s.jsxs(m,{className:"space-y-3 text-sm",children:[s.jsx("div",{children:s.jsxs("strong",{children:[t.status_code," - ",f[t.status_code]]})}),t.status_code===301&&s.jsx("p",{className:"text-muted-foreground",children:e("cms.status_301_desc","Permanent redirect. Search engines will transfer ranking to the new URL.")}),t.status_code===302&&s.jsx("p",{className:"text-muted-foreground",children:e("cms.status_302_desc","Temporary redirect. Search engines will keep the original URL in their index.")}),t.status_code===307&&s.jsx("p",{className:"text-muted-foreground",children:e("cms.status_307_desc","Temporary redirect that preserves the request method and body.")}),t.status_code===308&&s.jsx("p",{className:"text-muted-foreground",children:e("cms.status_308_desc","Permanent redirect that preserves the request method and body.")})]})]})]})]})]})]})}export{Es as default};
