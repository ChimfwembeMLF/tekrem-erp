import{u as V,r as b,j as e,S as A,x as h,A as c}from"./app-BMIA6nir.js";import{C as L}from"./CustomerLayout-7LFTkDxI.js";import{C as m,a as u,b as p,c as n}from"./card-BAsSN-2Z.js";import{B as S}from"./x-C3KwZK3B.js";import{B as a}from"./createLucideIcon-Cg8jdX0w.js";import{I as T}from"./input-Bg5GDATO.js";import{S as W,a as G,b as q,c as P,d as o}from"./select-B6KOX9nY.js";import{A as $}from"./arrow-left-UX2kDF52.js";import{G as E}from"./grid-3x3-X-imM9-2.js";import{L as Q}from"./list-4SH12gn-.js";import{I as j}from"./image-Ct2miMof.js";import{V as C}from"./video-CV7uNjDn.js";import{F as _}from"./file-text-D25AipK4.js";import{S as z}from"./search-_p1CX5vB.js";import{F as R}from"./funnel-v8IwREza.js";import{D as k}from"./download-CNZP3fGS.js";import"./avatar-DdiG0YBt.js";import"./index-DdwO_6Rs.js";import"./index-DwXxsQvB.js";import"./NotificationComponent-CHA3vjZG.js";import"./index-BN56TOeV.js";import"./index-BeGDJhOY.js";import"./index-DgfI6AGt.js";import"./useTypedPage-hmuARwun.js";import"./bell-5VRgJnzP.js";import"./sheet-1SUjjT9Y.js";import"./users-3SuyoAg3.js";import"./log-out-B525vUfE.js";import"./message-square-32k9udjC.js";import"./index-BDIc0y8N.js";import"./index-DTi2vEM4.js";import"./chevron-down-CrO8JO_i.js";function Se({media:l,stats:d,filters:t}){const i=V(),[f,M]=b.useState(t.search||""),[x,g]=b.useState("grid"),B=s=>{s.preventDefault(),c.get(i("customer.cms.media"),{search:f||void 0,type:t.type||void 0},{preserveState:!0,replace:!0})},F=s=>{c.get(i("customer.cms.media"),{search:t.search||void 0,type:s==="all"?void 0:s},{preserveState:!0,replace:!0})},N=s=>{if(s===0)return"0 Bytes";const r=1024,I=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,w)).toFixed(2))+" "+I[w]},D=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=s=>s.startsWith("image/")?e.jsx(j,{className:"h-4 w-4"}):s.startsWith("video/")?e.jsx(C,{className:"h-4 w-4"}):e.jsx(_,{className:"h-4 w-4"}),y=s=>s.startsWith("image/")?"Image":s.startsWith("video/")?"Video":"Document";return e.jsxs(L,{children:[e.jsx(A,{title:"Media Gallery"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{href:i("customer.cms.index"),children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Back to Content"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Media Gallery"}),e.jsx("p",{className:"text-muted-foreground",children:"Browse and download public media files"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:x==="grid"?"default":"outline",size:"sm",onClick:()=>g("grid"),children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(a,{variant:x==="list"?"default":"outline",size:"sm",onClick:()=>g("list"),children:e.jsx(Q,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(m,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Images"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.total_images})})]}),e.jsxs(m,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Videos"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.total_videos})})]}),e.jsxs(m,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Documents"}),e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.total_documents})})]})]}),e.jsx(m,{children:e.jsxs(n,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("form",{onSubmit:B,className:"flex-1 flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(T,{placeholder:"Search media files...",value:f,onChange:s=>M(s.target.value),className:"pl-10"})]}),e.jsx(a,{type:"submit",children:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(W,{value:t.type||"all",onValueChange:F,children:[e.jsx(G,{className:"w-48",children:e.jsx(q,{placeholder:"All Types"})}),e.jsxs(P,{children:[e.jsx(o,{value:"all",children:"All Types"}),e.jsx(o,{value:"images",children:"Images"}),e.jsx(o,{value:"videos",children:"Videos"}),e.jsx(o,{value:"documents",children:"Documents"})]})]})]})]}),(t.search||t.type)&&e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),t.search&&e.jsxs(S,{variant:"secondary",children:['Search: "',t.search,'"']}),t.type&&e.jsxs(S,{variant:"secondary",children:["Type: ",t.type]}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>c.get(i("customer.cms.media")),children:"Clear all"})]})]})}),e.jsx("div",{className:"space-y-4",children:l.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.from,"-",l.to," of ",l.total," files"]})}),x==="grid"?e.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6",children:l.data.map(s=>e.jsx(h,{href:i("customer.cms.media.show",s.id),children:e.jsxs(m,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center overflow-hidden",children:s.mime_type.startsWith("image/")?e.jsx("img",{src:s.file_url||`/storage/${s.file_path}`,alt:s.alt_text||s.name,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v(s.mime_type),e.jsx("span",{className:"text-xs text-center px-2",children:y(s.mime_type)})]})}),e.jsxs(n,{className:"p-3",children:[e.jsx("p",{className:"text-sm font-medium line-clamp-1 mb-1",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N(s.file_size)})]})]})},s.id))}):e.jsx("div",{className:"space-y-2",children:l.data.map(s=>e.jsx(m,{children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.mime_type.startsWith("image/")?e.jsx("img",{src:s.file_url||`/storage/${s.file_path}`,alt:s.alt_text||s.name,className:"w-12 h-12 object-cover rounded"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded flex items-center justify-center",children:v(s.mime_type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(h,{href:i("customer.cms.media.show",s.id),className:"font-medium hover:underline",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:y(s.mime_type)}),e.jsx("span",{children:N(s.file_size)}),e.jsx("span",{children:D(s.created_at)})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("a",{href:s.file_url||`/storage/${s.file_path}`,download:s.name,onClick:r=>r.stopPropagation(),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(k,{className:"h-4 w-4"})})})})]})})},s.id))}),l.last_page>1&&e.jsx("div",{className:"flex items-center justify-center space-x-2 pt-4",children:l.links.map((s,r)=>s.label==="&laquo; Previous"?e.jsx(a,{variant:"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&c.get(s.url),children:"Previous"},r):s.label==="Next &raquo;"?e.jsx(a,{variant:"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&c.get(s.url),children:"Next"},r):s.label.includes("...")?e.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},r):e.jsx(a,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:()=>s.url&&c.get(s.url),children:s.label},r))})]}):e.jsx(m,{children:e.jsxs(n,{className:"text-center py-12",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No media found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t.search||t.type?"No media files match your search criteria.":"No media files are available at the moment."}),(t.search||t.type)&&e.jsx(a,{variant:"outline",onClick:()=>c.get(i("customer.cms.media")),children:"Clear Filters"})]})})})]})]})}export{Se as default};
